# ===================================
# AI变现之路 - 一键部署配置文件
# ===================================
# 🎯 唯一需要配置的文件，配置完成后运行: ./scripts.sh deploy config

# 🚀 基础配置
# =====================================
DEPLOY_MODE=dev                     # 部署模式: dev | production
DOMAIN=localhost                    # 域名: 开发用localhost，生产改为实际域名

# 📦 仓库信息 (自动部署用)
# =====================================
REPO_ORG=lyfe2025                   # GitHub组织/用户名
PROJECT_NAME=aibianx                # 项目名称
REPO_URL=https://github.com/${REPO_ORG}/${PROJECT_NAME}.git

# 🔐 数据库配置
# =====================================
DB_NAME=aibianx_dev                 # 数据库名称
DB_USER=aibianx_dev                 # 数据库用户名
DB_PASSWORD=                        # 数据库密码 (为空时自动生成)
DB_ADMIN_PASSWORD=postgres_admin_2024  # PostgreSQL管理员密码

# 💡 Strapi管理员账号: admin@aibianx.com (首次访问时创建) - http://localhost:1337/admin

# 🗄️ 备份恢复配置
# =====================================
BACKUP_VERSION=latest               # 备份版本: latest(最新) | YYYYMMDD_HHMMSS(指定版本)

# 备份目录格式说明:
# - complete_backup_YYYYMMDD_HHMMSS/  (完整备份，推荐)
# - db_backup_YYYYMMDD_HHMMSS/        (仅数据库)
# - strapi_backup_YYYYMMDD_HHMMSS/    (旧版兼容)

# 🚀 自动化开关
# =====================================
AUTO_RESTORE_BACKUP=true            # 自动从备份恢复数据
AUTO_DEPLOY_SEARCH=true             # 自动部署MeiliSearch搜索引擎
AUTO_DEPLOY_EMAIL=false             # 邮件系统已集成到Strapi

# 🌐 端口配置 (可选)
# =====================================
FRONTEND_PORT=80                    # 前端端口
BACKEND_PORT=1337                   # 后端端口
MEILISEARCH_PORT=7700               # 搜索引擎端口

# 🔍 MeiliSearch 配置
# =====================================
MEILI_ENV=development               # development(启用Web界面) | production(仅API)
MEILI_HTTP_ADDR=0.0.0.0:7700        # MeiliSearch监听地址
MEILI_DB_PATH=/meili_data           # 数据存储路径 (容器内路径)
MEILI_DUMP_DIR=/meili_data/dumps    # 备份存储路径
MEILI_SNAPSHOT_DIR=/meili_data/snapshots  # 快照存储路径
MEILI_LOG_LEVEL=INFO                # 日志级别: DEBUG | INFO | WARN | ERROR

# 📧 邮件营销系统已集成到Strapi后台: http://localhost:1337/admin