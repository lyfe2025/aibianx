---
alwaysApply: false
---
# 规则文件管理专用指南

> 本文件是从 `userrules.mdc` 分离出来的专用规则文件，专门处理规则文件的生成、修改和管理策略。

---

## 📊 智能规则文件管理策略

### **1. 专用规则文件生成触发条件**

#### **立即生成场景**：
- **技术栈识别**：项目启动时自动生成技术栈专用规则文件（最高优先级）
- **重复问题**：同一问题出现2次以上，必须立即生成专用规则文件
- **新技术引入**：引入新框架、库或工具时，生成对应技术规则文件
- **严重错误**：出现影响项目稳定性的错误时，生成预防规则文件

#### **计划生成场景**：
- **项目阶段变化**：从开发转入测试、部署阶段时生成对应规则
- **团队扩大**：新成员加入时生成团队协作规则文件
- **性能问题**：性能指标下降时生成性能优化规则文件

### **2. 规则文件修改触发机制**

#### **强制修改条件**：
- **规则失效**：现有规则无法解决当前问题时
- **技术升级**：技术栈版本升级导致规则过时时
- **错误修正**：发现规则文件中的错误或不准确信息时
- **安全漏洞**：发现安全相关的规则缺失或错误时

#### **优化修改条件**：
- **效率提升**：发现更好的解决方案时
- **流程改进**：工作流程优化后需要更新规则时
- **经验积累**：项目经验积累后的规则完善

### **3. 问题驱动的规则生成机制**

#### **问题分类追踪**：
```
重复问题识别 → 问题分类归档 → 规则文件生成 → 预防机制建立
     ↓              ↓              ↓              ↓
问题出现记录 → 问题类型标记 → 解决方案文档化 → 自动检查集成
```

#### **规则文件类型映射**：
- **技术问题** → `tech-<问题类型>-solutions.mdc`
- **流程问题** → `workflow-<场景>-guidelines.mdc`
- **代码质量** → `code-quality-<领域>-standards.mdc`
- **安全相关** → `security-<类型>-requirements.mdc`

### **4. 新项目适配策略**

#### **规则文件继承原则**：
- **通用规则**：直接继承，适用于所有项目类型
- **技术栈规则**：根据新项目技术栈选择性继承
- **项目特定规则**：重新生成，不继承历史项目的特定规则
- **问题预防规则**：选择性继承，评估适用性后决定

#### **自动化生成流程**：
1. **项目初始化时**：自动识别技术栈并生成基础规则文件
2. **开发过程中**：监控问题出现频率，达到阈值自动提醒生成规则
3. **里程碑节点**：项目重要节点自动评估是否需要新增规则文件

---

## 🔧 专用规则文件智能管理

### **1. 创建时机智能判断**

#### **强制创建场景**（立即执行）：
- **项目启动**：技术栈规则文件（最高优先级，必须首个生成）
- **重复问题**：同一问题出现2次，立即生成预防规则文件
- **严重错误**：影响系统稳定性的问题，立即生成安全规则文件
- **新技术栈**：引入新框架/库时，立即生成对应技术规则文件

#### **计划创建场景**（评估后执行）：
- **项目阶段变化**：开发→测试→部署阶段切换时
- **团队规模变化**：新成员加入或团队重组时
- **性能下降**：关键指标低于基准时
- **用户反馈**：频繁的用户体验问题时

### **2. 修改触发条件**

#### **立即修改条件**：
- **规则失效**：现有规则无法解决当前问题
- **技术升级**：依赖版本升级导致规则过时
- **安全漏洞**：发现安全相关的规则缺陷
- **错误修正**：规则文件中的错误信息

#### **定期更新条件**：
- **经验优化**：积累更好的解决方案
- **流程改进**：工作流程优化后的规则更新
- **标准变更**：行业标准或最佳实践变更

### **3. 命名规范和分类**

#### **技术栈规则**：
- 格式：`<技术栈>-v<版本>-<类型>.mdc`
- 示例：`react-v18-standards.mdc`、`nodejs-v20-guidelines.mdc`
- 生成时机：项目初始化，技术栈变更

#### **问题解决规则**：
- 格式：`<问题类型>-<解决方案>-guide.mdc`
- 示例：`database-connection-troubleshooting.mdc`、`build-optimization-strategies.mdc`
- 生成时机：重复问题出现，解决方案成熟

#### **功能域规则**：
- 格式：`<功能域>-<具体领域>-standards.mdc`
- 示例：`frontend-component-design.mdc`、`backend-api-security.mdc`
- 生成时机：功能模块复杂化，需要专门规范

#### **安全合规规则**：
- 格式：`security-<类型>-requirements.mdc`
- 示例：`security-data-protection.mdc`、`security-access-control.mdc`
- 生成时机：安全事件发生，合规要求变更

### **4. 优先级和继承策略**

#### **规则优先级**（从高到低）：
1. **技术栈规则文件**：项目技术基础，最高优先级
2. **安全合规规则**：安全要求，次高优先级
3. **问题解决规则**：解决具体问题，中等优先级
4. **功能域规则**：功能开发规范，较低优先级
5. **通用规则**：基础协作准则，兜底优先级

#### **新项目继承策略**：
- **必须继承**：通用规则、成熟的技术栈规则
- **选择继承**：问题解决规则（评估相关性）
- **重新生成**：项目特定规则、过时的技术规则
- **禁止继承**：历史项目的临时规则、已废弃技术的规则

---

## 📋 使用指南

### **何时引用本规则文件**：
- 需要生成新的专用规则文件时
- 现有规则文件需要修改时
- 新项目初始化，确定规则文件策略时
- 遇到重复问题，需要建立预防机制时

### **在主规则文件中的引用方式**：
在 `userrules.mdc` 中通过简洁的引用方式调用本文件的详细策略，保持主文件的简洁性。