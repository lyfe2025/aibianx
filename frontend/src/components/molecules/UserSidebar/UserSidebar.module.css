/* UserSidebar 组件样式 - 精确匹配设计稿 */
.userSidebar {
    /* 设计稿精确尺寸：240px宽度，只有右侧边框 */
    width: 240px;
    border-right: 1px solid var(--color-border-primary);
    /* 设计稿精确内边距 */
    padding-left: 16px;
    padding-right: 17px;
    padding-top: 32px;
    padding-bottom: 190px;
    /* 无背景和圆角，与设计稿一致 */
    background: transparent;
    /* 垂直布局，4px间距 */
    display: flex;
    flex-direction: column;
    gap: 4px;
    font-family: var(--font-family-primary);
    font-size: 16px;
    font-weight: 400;
}

/* 用户信息区域 */
.userProfile {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 36px;
}

/* 用户头像容器 - 添加相对定位支持皇冠徽章 */
.userAvatar {
    position: relative;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* 头像图片 - 设计稿精确尺寸84x84，添加微妙边框效果 */
.avatarImage {
    width: 84px !important;
    height: 84px !important;
    border-radius: 50%;
    display: block;
    margin: 0 auto;
    /* 添加微妙的渐变边框，提升视觉层次 */
    border: 2px solid transparent;
    background: linear-gradient(#030303, #030303) padding-box,
        var(--gradient-primary) border-box;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.08),
        0 1px 4px rgba(0, 0, 0, 0.12);
}

/* 会员皇冠徽章 - 定位到头像右下角 */
.crownBadge {
    position: absolute;
    bottom: -2px;
    right: -2px;
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, #FCD34D 0%, #F59E0B 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    /* 移除边框，避免视觉干扰 */
    border: none;
    /* 微妙的阴影增强层次感 */
    box-shadow: 0 2px 6px rgba(245, 158, 11, 0.3),
        0 1px 3px rgba(0, 0, 0, 0.1);
    /* 皇冠图标颜色 */
    color: #FFFFFF;
    /* 优雅的过渡动画 */
    transition: all 0.2s ease;
    z-index: 10;
}

/* 皇冠徽章悬停效果 */
.crownBadge:hover {
    transform: scale(1.05);
    box-shadow: 0 3px 8px rgba(245, 158, 11, 0.4),
        0 2px 4px rgba(0, 0, 0, 0.15);
}

/* 用户名 - 设计稿精确样式 */
.userName {
    color: var(--color-text-primary);
    font-size: 18px;
    font-weight: 600;
    line-height: 28px;
    margin: 0;
    text-align: center;
    min-height: 28px;
    display: flex;
    align-items: center;
    text-overflow: ellipsis;
    margin-bottom: 12px;
    /* 添加微妙的文字阴影 */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

/* 会员标签 - 设计稿精确样式，增强视觉效果 */
.memberBadge {
    background: linear-gradient(135deg, #FEF3C7 0%, #FCD34D 100%);
    border-radius: 9999px;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    min-height: 32px;
    padding: 9.5px 16px;
    margin-bottom: 12px;
    /* 添加边框和阴影增强层次 */
    border: 1px solid rgba(245, 158, 11, 0.2);
    box-shadow: 0 1px 3px rgba(245, 158, 11, 0.1),
        inset 0 1px 2px rgba(255, 255, 255, 0.1);
    /* 优雅的过渡动画 */
    transition: all 0.2s ease;
}

/* 会员标签悬停效果 */
.memberBadge:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(245, 158, 11, 0.15),
        inset 0 1px 2px rgba(255, 255, 255, 0.15);
}

.memberText {
    color: #92400E;
    font-size: 12px;
    line-height: 16px;
    display: flex;
    align-items: center;
    text-overflow: ellipsis;
    min-height: 16px;
    font-weight: 500;
    /* 添加微妙的文字阴影 */
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

/* 会员有效期 - 设计稿精确样式 */
.memberExpiry {
    color: var(--color-text-muted);
    font-size: 12px;
    line-height: 16px;
    margin: 0;
    text-align: center;
    min-height: 16px;
    display: flex;
    align-items: center;
    text-overflow: ellipsis;
}

/* 主导航菜单 */
.mainNavigation {
    display: flex;
    flex-direction: column;
}

/* 设置导航菜单 */
.settingsNavigation {
    display: flex;
    flex-direction: column;
}

/* 菜单项基础样式 - 设计稿精确间距 */
.navItem {
    display: flex;
    align-items: stretch;
    gap: 12px;
    padding: 8px 16px;
    margin-top: 16px;
    color: var(--color-text-muted);
    text-decoration: none;
    transition: all 0.2s ease;
    background: none;
    border: none;
    font-family: inherit;
    font-size: inherit;
    cursor: pointer;
    border-radius: 8px;
}

/* 第一个菜单项不需要上边距 */
.mainNavigation .navItem:first-child {
    margin-top: 0;
}

/* 菜单项图标 - 设计稿精确尺寸 */
.navIcon {
    width: 20px;
    height: 20px;
    margin-top: 2px;
    flex-shrink: 0;
    color: var(--color-text-muted);
}

/* 菜单项文字 - 设计稿精确样式 */
.navLabel {
    color: var(--color-text-muted);
    line-height: 24px;
    display: flex;
    align-items: center;
    text-overflow: ellipsis;
    min-height: 24px;
    font-size: 16px;
    font-weight: 400;
}

/* 菜单项基础交互状态 */
.navItem:hover {
    background: var(--color-hover-secondary);
}

.navItem:hover .navIcon,
.navItem:hover .navLabel {
    color: var(--color-text-secondary);
}

/* 菜单项激活状态 - 统一的选中样式 */
.navItemActive {
    background: var(--color-hover-primary) !important;
}

.navItemActive .navLabel {
    color: var(--color-text-primary) !important;
}

.navItemActive .navIcon {
    color: var(--color-text-primary) !important;
}

/* 分割线 - 设计稿精确样式 */
.navDivider {
    border-top: 1px solid var(--color-border-primary);
    margin-top: 16px;
    margin-bottom: 16px;
    display: flex;
    align-items: flex-end;
    min-height: 1px;
}

/* 设置菜单项基础样式 */
.settingsNavigation .navItem {
    margin-top: 16px;
}

/* 设置菜单项第一个不要上边距，避免与分割线下边距叠加 */
.settingsNavigation .navItem:first-child {
    margin-top: 0;
}

/* 隐藏其他样式 */
.userBio,
.stats,
.statItem,
.statValue,
.statLabel,
.navigation {
    display: none;
}

/* 响应式设计 */
@media (max-width: 1024px) {
    .userSidebar {
        width: 100%;
        margin-bottom: 24px;
        border-right: none;
        border-bottom: 1px solid var(--color-border-primary);
        padding-bottom: 24px;
    }
}

@media (max-width: 768px) {
    .userSidebar {
        padding-left: 16px;
        padding-right: 16px;
        padding-top: 24px;
        padding-bottom: 24px;
    }

    .userProfile {
        margin-bottom: 24px;
    }

    .avatarImage {
        width: 60px !important;
        height: 60px !important;
    }

    .userName {
        font-size: 16px;
    }

    /* 移动端皇冠徽章调整 */
    .crownBadge {
        width: 20px;
        height: 20px;
        bottom: -1px;
        right: -1px;
        border: none;
    }
}

/* 强制修复：确保profile-sidebar图标在所有主题下可见 */
.navIcon img {
    /* 确保图标始终可见，不受SVG原色影响 */
    opacity: 1 !important;
}

/* 暗黑模式下的图标颜色修复 */
[data-theme="dark"] .navIcon,
[data-theme="dark"] .navIcon img {
    filter: brightness(0) saturate(100%) invert(64%) sepia(8%) saturate(645%) hue-rotate(202deg) brightness(92%) contrast(84%);
}

/* 暗黑模式下的悬停状态 */
[data-theme="dark"] .navItem:hover .navIcon,
[data-theme="dark"] .navItem:hover .navIcon img {
    filter: brightness(0) saturate(100%) invert(73%) sepia(8%) saturate(348%) hue-rotate(202deg) brightness(91%) contrast(87%);
}

/* 暗黑模式下的激活状态 */
[data-theme="dark"] .navItemActive .navIcon,
[data-theme="dark"] .navItemActive .navIcon img {
    filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(7500%) hue-rotate(109deg) brightness(105%) contrast(105%) !important;
}

/* 亮色模式下的图标颜色修复 */
[data-theme="light"] .navIcon,
[data-theme="light"] .navIcon img {
    filter: brightness(0) saturate(100%) invert(45%) sepia(13%) saturate(692%) hue-rotate(202deg) brightness(91%) contrast(87%);
}

/* 亮色模式下的悬停状态 */
[data-theme="light"] .navItem:hover .navIcon,
[data-theme="light"] .navItem:hover .navIcon img {
    filter: brightness(0) saturate(100%) invert(31%) sepia(15%) saturate(549%) hue-rotate(202deg) brightness(95%) contrast(89%);
}

/* 亮色模式下的激活状态 */
[data-theme="light"] .navItemActive .navIcon,
[data-theme="light"] .navItemActive .navIcon img {
    filter: brightness(0) saturate(100%) invert(16%) sepia(15%) saturate(1142%) hue-rotate(202deg) brightness(93%) contrast(90%) !important;
}