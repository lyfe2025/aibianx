'use client'

import { type CSSProperties } from 'react'

interface StarIconProps {
    size?: 'xs' | 'sm' | 'md' | 'lg'
    className?: string
    style?: CSSProperties
}

export const StarIcon = ({
    size = 'xs',
    className = '',
    style = {}
}: StarIconProps) => {
    // 尺寸映射 - 调整以匹配对应字体大小
    const sizeMap = {
        xs: { width: 12, height: 12 }, // 匹配 --font-size-xs (12px)
        sm: { width: 14, height: 14 }, // 匹配 --font-size-sm (14px)
        md: { width: 16, height: 16 }, // 匹配 --font-size-base (16px)
        lg: { width: 20, height: 20 }  // 匹配 --font-size-lg (20px)
    }

    const { width, height } = sizeMap[size]

    // 重要：图标组件不设置颜色，完全继承父元素的文字颜色
    return (
        <span
            className={`star-icon star-icon--${size} ${className}`}
            style={{
                display: 'inline-block',
                flexShrink: 0,
                transition: 'all 0.2s ease',
                filter: 'drop-shadow(0 1px 2px rgba(0, 0, 0, 0.15))',
                width,
                height,
                lineHeight: 0,
                verticalAlign: 'middle', // 与文字基线对齐
                // 不设置任何颜色，完全继承父元素
                ...style
            }}
        >
            <svg
                width={width}
                height={height}
                viewBox="0 0 20 20"
                fill="#F59E0B" // 直接强制设置金橙色
                xmlns="http://www.w3.org/2000/svg"
                style={{ 
                    display: 'block', 
                    color: '#F59E0B',
                    fill: '#F59E0B'
                }}
            >
                <path
                    d="M10 1.25L2.5 1.25C2.15482 1.25 1.86019 1.37204 1.61612 1.61612C1.37204 1.86019 1.25 2.15482 1.25 2.5L1.25 16.875L0.625 16.875L0.209773 16.4079L5.83477 11.4079C5.86314 11.3827 5.89355 11.3602 5.926 11.3405C5.95845 11.3208 5.99242 11.3043 6.02789 11.2908C6.06336 11.2773 6.09976 11.2672 6.13709 11.2603C6.17442 11.2534 6.21205 11.25 6.25 11.25C6.28795 11.25 6.32559 11.2534 6.36291 11.2603C6.40024 11.2672 6.43664 11.2773 6.47211 11.2908C6.50758 11.3043 6.54155 11.3208 6.574 11.3405C6.60645 11.3602 6.63686 11.3827 6.66523 11.4079L12.2902 16.4079L11.875 16.875L11.25 16.875L11.25 2.5C11.25 2.15482 11.128 1.86019 10.8839 1.61612C10.6398 1.37204 10.3452 1.25 10 1.25ZM10 0C10.6903 0 11.2796 0.244078 11.7678 0.732233C12.2559 1.22039 12.5 1.80964 12.5 2.5L12.5 16.875C12.5 16.9515 12.4864 17.0256 12.4592 17.0971C12.432 17.1686 12.393 17.233 12.3421 17.2902C12.3148 17.3209 12.2848 17.3486 12.2521 17.3734C12.2194 17.3981 12.1846 17.4195 12.1477 17.4374C12.1108 17.4553 12.0724 17.4694 12.0327 17.4798C11.993 17.4901 11.9527 17.4965 11.9117 17.4989C11.8708 17.5013 11.83 17.4997 11.7893 17.4941C11.7486 17.4884 11.7089 17.4789 11.6701 17.4655C11.6314 17.452 11.5943 17.4349 11.5589 17.4142C11.5235 17.3934 11.4905 17.3694 11.4598 17.3421L5.83477 12.3421L6.25 11.875L6.66523 12.3421L1.04023 17.3421C0.983024 17.393 0.918652 17.432 0.847113 17.4592C0.775574 17.4864 0.701536 17.5 0.625 17.5C0.583962 17.5 0.543318 17.496 0.503069 17.488C0.462819 17.48 0.423737 17.4681 0.385823 17.4524C0.347909 17.4367 0.311891 17.4175 0.277769 17.3947C0.243647 17.3719 0.212077 17.346 0.183058 17.3169C0.15404 17.2879 0.128131 17.2563 0.105332 17.2222C0.082532 17.1881 0.0632797 17.1521 0.047575 17.1142C0.0318703 17.0763 0.020015 17.0372 0.012009 16.9969C0.00400301 16.9567 0 16.9161 0 16.875L0 2.5C0 1.80964 0.244078 1.22039 0.732233 0.732233C1.22039 0.244078 1.80964 0 2.5 0L10 0Z"
                    fillRule="nonzero"
                    transform="matrix(1 0 0 1 3.75 1.25)"
                />
            </svg>
        </span>
    )
}