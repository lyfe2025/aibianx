/**
 * AIå˜ç°ä¹‹è·¯ - ç§»åŠ¨ç«¯ä¼˜åŒ–æ ·å¼
 * 
 * ç§»åŠ¨ç«¯è§¦æ‘¸å‹å¥½äº¤äº’å’Œä¸“ç”¨æ ·å¼ä¼˜åŒ–
 * åŒ…æ‹¬ï¼šè§¦æ‘¸åé¦ˆã€é˜²æº¢å‡ºã€æ€§èƒ½ä¼˜åŒ–ã€å®‰å…¨åŒºåŸŸé€‚é…ç­‰
 */

/* ===== ç§»åŠ¨ç«¯è§¦æ‘¸å‹å¥½äº¤äº’ä¼˜åŒ– ===== */

/* ç§»åŠ¨ç«¯è§¦æ‘¸åŸºç¡€ä¼˜åŒ– */
@media (hover: none) and (pointer: coarse) {

    /* ç§»é™¤æ‰€æœ‰è§¦æ‘¸é«˜äº® */
    * {
        -webkit-tap-highlight-color: transparent !important;
        -webkit-touch-callout: none !important;
        -webkit-user-select: none !important;
        user-select: none !important;
    }

    /* æ–‡æœ¬å†…å®¹æ¢å¤é€‰æ‹© */
    p,
    span,
    div[class*="text"],
    article,
    section {
        -webkit-user-select: text !important;
        user-select: text !important;
    }

    /* è¾“å…¥æ¡†æ¢å¤é€‰æ‹© */
    input,
    textarea {
        -webkit-user-select: text !important;
        user-select: text !important;
    }

    /* è§¦æ‘¸å‹å¥½çš„æŒ‰é’®æœ€å°å°ºå¯¸ */
    button,
    [role="button"],
    .btn,
    .clickable,
    a[href] {
        min-height: 44px !important;
        min-width: 44px !important;
        touch-action: manipulation !important;
    }

    /* è§¦æ‘¸åé¦ˆæ•ˆæœ */
    button:active:not(:disabled),
    [role="button"]:active,
    .btn:active:not(:disabled),
    .clickable:active,
    a[href]:active {
        transform: scale(0.95) !important;
        transition: transform 0.1s ease !important;
    }

    /* ç‰¹æ®ŠæŒ‰é’®è§¦æ‘¸ä¼˜åŒ– */
    .glass-card:active {
        transform: scale(0.98) !important;
        transition: transform 0.1s ease !important;
    }

    /* å›¾æ ‡æŒ‰é’®è§¦æ‘¸ä¼˜åŒ– */
    .icon-button:active {
        transform: scale(0.9) !important;
        background: rgba(59, 130, 246, 0.2) !important;
    }

    /* å¯¼èˆªé“¾æ¥è§¦æ‘¸ä¼˜åŒ– */
    .nav-link:active {
        color: var(--color-primary-blue) !important;
        transform: scale(0.95) !important;
    }

    /* è¡¨å•è¾“å…¥æ¡†è§¦æ‘¸ä¼˜åŒ– */
    input:focus,
    textarea:focus {
        transform: none !important;
        outline: 2px solid var(--color-primary-blue) !important;
        outline-offset: 2px !important;
    }

    /* ç§»åŠ¨ç«¯å¡ç‰‡é—´è·ä¼˜åŒ– */
    .glass-card {
        margin: 8px 0 !important;
    }

    /* ç§»åŠ¨ç«¯æ–‡å­—å¤§å°ä¼˜åŒ– - é˜²æ­¢ç¼©æ”¾ */
    input,
    textarea,
    select {
        font-size: 16px !important;
        /* é˜²æ­¢iOS Safariè‡ªåŠ¨ç¼©æ”¾ */
    }
}

/* ===== ç§»åŠ¨ç«¯å…¨å±€é˜²æº¢å‡ºä¿æŠ¤ ===== */
@media (max-width: 767px) {

    html,
    body {
        overflow-x: hidden !important;
        max-width: 100vw !important;
    }

    /* å¼ºåˆ¶æ‰€æœ‰å®¹å™¨å“åº”å¼ */
    * {
        max-width: 100vw !important;
        box-sizing: border-box !important;
    }

    /* ç‰¹æ®Šå¤„ç†å¯èƒ½æº¢å‡ºçš„å…ƒç´  */
    div[style*="width:"],
    div[style*="max-width:"],
    section[style*="width:"],
    article[style*="width:"] {
        max-width: 100vw !important;
        overflow-x: hidden !important;
    }

    /* å›¾ç‰‡å’Œåª’ä½“å…ƒç´ å“åº”å¼ */
    img,
    video,
    iframe,
    svg {
        max-width: 100% !important;
        height: auto !important;
    }

    /* è¡¨æ ¼å’Œä»£ç å—æ°´å¹³æ»šåŠ¨ */
    table,
    pre,
    code {
        overflow-x: auto !important;
        display: block !important;
        white-space: pre-wrap !important;
        word-wrap: break-word !important;
    }

    /* é•¿é“¾æ¥å¤„ç† */
    a[href] {
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        word-break: break-all !important;
    }

    /* é•¿æ–‡æœ¬å¤„ç† */
    p,
    span,
    div {
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        hyphens: auto !important;
    }

    /* è§¦æ‘¸å‹å¥½çš„å¯¼èˆªæŒ‰é’® */
    .mobile-menu-button {
        min-width: 48px !important;
        min-height: 48px !important;
        padding: 12px !important;
    }

    /* è§¦æ‘¸å‹å¥½çš„é“¾æ¥é—´è· */
    a {
        padding: 8px 4px !important;
        margin: 4px 0 !important;
    }

    /* è§¦æ‘¸å‹å¥½çš„è¡¨å•å…ƒç´  */
    .hero-email-form {
        gap: 16px !important;
    }

    .hero-email-input {
        min-height: 52px !important;
        padding: 16px 20px !important;
        font-size: 16px !important;
    }

    .hero-subscribe-button {
        min-height: 52px !important;
        padding: 16px 24px !important;
        font-size: 16px !important;
    }

    /* è§¦æ‘¸å‹å¥½çš„æ–‡ç« å¡ç‰‡ */
    .article-card {
        padding: 20px !important;
        margin: 16px 0 !important;
    }

    /* è§¦æ‘¸å‹å¥½çš„æŒ‰é’®ç»„ */
    .button-group {
        gap: 16px !important;
    }

    .button-group button {
        min-height: 48px !important;
        padding: 14px 20px !important;
    }

    /* è§¦æ‘¸å‹å¥½çš„åˆ†é¡µ */
    .pagination button {
        min-width: 44px !important;
        min-height: 44px !important;
        padding: 12px !important;
        margin: 4px !important;
    }

    /* è§¦æ‘¸å‹å¥½çš„è¿”å›é¡¶éƒ¨æŒ‰é’® */
    .back-to-top-button {
        width: 56px !important;
        height: 56px !important;
        bottom: 24px !important;
        right: 24px !important;
    }

    /* è§¦æ‘¸å‹å¥½çš„æ ‡ç­¾ */
    .tag {
        min-height: 36px !important;
        padding: 8px 16px !important;
        margin: 4px !important;
    }

    /* è§¦æ‘¸å‹å¥½çš„ä¸‹æ‹‰èœå• */
    .dropdown-item {
        min-height: 48px !important;
        padding: 12px 16px !important;
    }

    /* è§¦æ‘¸å‹å¥½çš„æœç´¢æ¡† */
    .search-input {
        min-height: 48px !important;
        padding: 12px 16px !important;
        font-size: 16px !important;
    }
}

/* ===== å¤§å±å¹•ç§»åŠ¨è®¾å¤‡ä¼˜åŒ– (å¹³æ¿) ===== */
@media (min-width: 768px) and (max-width: 1023px) and (hover: none) {

    /* å¹³æ¿è§¦æ‘¸ä¼˜åŒ– */
    button,
    .btn {
        min-height: 48px !important;
        padding: 12px 20px !important;
        /* ğŸ¯ ç¡®ä¿æ–‡å­—åœ¨ä»»ä½•paddingä¸‹éƒ½å±…ä¸­ */
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        text-align: center !important;
    }

    .glass-card {
        padding: 24px !important;
    }

    .nav-link {
        padding: 12px 16px !important;
    }
}

/* ===== è§¦æ‘¸è®¾å¤‡çš„æ–‡æœ¬é€‰æ‹©ä¼˜åŒ– ===== */
@media (hover: none) and (pointer: coarse) {

    /* æ ‡é¢˜å’Œé‡è¦æ–‡æœ¬å¯é€‰æ‹© */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        -webkit-user-select: text !important;
        user-select: text !important;
    }

    /* ä»£ç å—å¯é€‰æ‹© */
    pre,
    code {
        -webkit-user-select: text !important;
        user-select: text !important;
    }

    /* é˜²æ­¢æ„å¤–é€‰æ‹©çš„å…ƒç´  */
    .icon,
    .logo,
    .decoration,
    .background {
        -webkit-user-select: none !important;
        user-select: none !important;
    }
}

/* ===== è§¦æ‘¸è®¾å¤‡æ»šåŠ¨ä¼˜åŒ– ===== */
@media (hover: none) and (pointer: coarse) {

    /* å¹³æ»‘æ»šåŠ¨ */
    html {
        scroll-behavior: smooth !important;
        -webkit-overflow-scrolling: touch !important;
    }

    /* ä¼˜åŒ–æ»šåŠ¨å®¹å™¨ */
    .scroll-container {
        overflow-x: auto !important;
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }

    /* ä¾§è¾¹æ æ»šåŠ¨ä¼˜åŒ– */
    .mobile-menu {
        -webkit-overflow-scrolling: touch !important;
    }
}

/* ===== è§¦æ‘¸è®¾å¤‡åŠ¨ç”»æ€§èƒ½ä¼˜åŒ– ===== */
@media (hover: none) and (pointer: coarse) {

    /* å‡å°‘å¤æ‚åŠ¨ç”» */
    *,
    *::before,
    *::after {
        will-change: auto !important;
    }

    /* å…³é”®å…ƒç´ ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿ */
    .mobile-menu,
    .modal-overlay,
    .modal-container,
    .back-to-top-button {
        will-change: transform, opacity !important;
        transform: translateZ(0) !important;
        /* å¼ºåˆ¶ç¡¬ä»¶åŠ é€Ÿ */
    }
}

/* ===== ç§»åŠ¨ç«¯å­—ä½“æ¸²æŸ“ä¼˜åŒ– ===== */
@media (max-width: 767px) {
    body {
        -webkit-font-smoothing: antialiased !important;
        -moz-osx-font-smoothing: grayscale !important;
        text-rendering: optimizeLegibility !important;
    }
}

/* ===== ç§»åŠ¨ç«¯è¾“å…¥æ¡†æ ·å¼é˜²æ­¢ç¼©æ”¾ ===== */
@media (max-width: 767px) {

    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="search"],
    input[type="tel"],
    input[type="url"],
    input[type="number"],
    textarea,
    select {
        font-size: 16px !important;
        /* é˜²æ­¢iOS Safariç¼©æ”¾ */
        border-radius: 8px !important;
        /* ç»Ÿä¸€åœ†è§’ */
        min-height: 44px !important;
        /* è§¦æ‘¸å‹å¥½é«˜åº¦ */
    }
}

/* ===== ç§»åŠ¨ç«¯è¡¨å•ä¼˜åŒ– ===== */
@media (max-width: 767px) {

    /* è¾“å…¥æ¡†ç»Ÿä¸€æ ·å¼ */
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="search"],
    input[type="tel"],
    input[type="url"],
    input[type="number"],
    textarea,
    select {
        font-size: 16px !important;
        /* é˜²æ­¢iOS Safariç¼©æ”¾ */
        min-height: 44px !important;
        padding: 12px 16px !important;
        border-radius: 8px !important;
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
    }

    /* è¡¨å•æŒ‰é’®ä¼˜åŒ– */
    button[type="submit"],
    input[type="submit"] {
        min-height: 48px !important;
        font-size: 16px !important;
        font-weight: 600 !important;
        border-radius: 8px !important;
    }

    /* è¡¨å•å¸ƒå±€ä¼˜åŒ– */
    form {
        max-width: 100% !important;
    }

    .form-row {
        flex-direction: column !important;
        gap: 12px !important;
    }

    .form-group {
        width: 100% !important;
    }
}

/* ===== ç§»åŠ¨ç«¯å¯¼èˆªä¼˜åŒ– ===== */
@media (max-width: 767px) {

    /* å¤´éƒ¨å›ºå®šä¼˜åŒ– */
    header {
        position: sticky !important;
        top: 0 !important;
        z-index: 1000 !important;
        backdrop-filter: blur(20px) !important;
        -webkit-backdrop-filter: blur(20px) !important;
    }

    /* ç§»åŠ¨èœå•ä¼˜åŒ– */
    .mobile-menu {
        position: fixed !important;
        top: 64px !important;
        left: 0 !important;
        right: 0 !important;
        background: var(--color-bg-glass) !important;
        backdrop-filter: blur(20px) !important;
        -webkit-backdrop-filter: blur(20px) !important;
        border-bottom: 1px solid var(--color-border-primary) !important;
        max-height: calc(100vh - 64px) !important;
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }
}

/* ===== ç§»åŠ¨ç«¯æ€§èƒ½ä¼˜åŒ– ===== */
@media (max-width: 767px) {

    /* å‡å°‘åŠ¨ç”»å¤æ‚åº¦ */
    * {
        will-change: auto !important;
    }

    /* å…³é”®åŠ¨ç”»å…ƒç´ ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿ */
    .modal-container,
    .mobile-menu,
    header {
        will-change: transform, opacity !important;
        transform: translateZ(0) !important;
    }

    /* ç®€åŒ–å¤æ‚æ•ˆæœ */
    .glass-card {
        backdrop-filter: blur(8px) !important;
        -webkit-backdrop-filter: blur(8px) !important;
    }

    /* ä¼˜åŒ–å­—ä½“æ¸²æŸ“ */
    body {
        -webkit-font-smoothing: antialiased !important;
        -moz-osx-font-smoothing: grayscale !important;
        text-rendering: optimizeLegibility !important;
    }
}

/* ===== ç§»åŠ¨ç«¯æ»šåŠ¨ä¼˜åŒ– ===== */
@media (max-width: 767px) {
    html {
        scroll-behavior: smooth !important;
        -webkit-overflow-scrolling: touch !important;
    }

    /* æ»šåŠ¨å®¹å™¨ä¼˜åŒ– */
    .scroll-container,
    .modal-body,
    .mobile-menu {
        -webkit-overflow-scrolling: touch !important;
        scroll-behavior: smooth !important;
    }

    /* éšè—æ»šåŠ¨æ¡ä½†ä¿æŒåŠŸèƒ½ */
    .hide-scrollbar {
        -ms-overflow-style: none !important;
        scrollbar-width: none !important;
    }

    .hide-scrollbar::-webkit-scrollbar {
        display: none !important;
    }
}

/* ===== ç§»åŠ¨ç«¯å®‰å…¨åŒºåŸŸé€‚é… ===== */
@media (max-width: 767px) {

    /* iPhone Xç³»åˆ—å®‰å…¨åŒºåŸŸ */
    body {
        padding-top: env(safe-area-inset-top) !important;
        padding-bottom: env(safe-area-inset-bottom) !important;
        padding-left: env(safe-area-inset-left) !important;
        padding-right: env(safe-area-inset-right) !important;
    }

    /* å›ºå®šå…ƒç´ å®‰å…¨åŒºåŸŸé€‚é… */
    header {
        padding-top: calc(env(safe-area-inset-top) + 10px) !important;
    }

    .back-to-top-button {
        bottom: calc(env(safe-area-inset-bottom) + 20px) !important;
        right: calc(env(safe-area-inset-right) + 20px) !important;
    }
}

/* ===== ç§»åŠ¨ç«¯å¯è®¿é—®æ€§å¢å¼º ===== */
@media (max-width: 767px) {

    /* ç„¦ç‚¹å¯è§æ€§ */
    *:focus-visible {
        outline: 2px solid var(--color-primary-blue) !important;
        outline-offset: 2px !important;
    }
}

/* ===== ç§»åŠ¨ç«¯é«˜å¯¹æ¯”åº¦æ”¯æŒ ===== */
@media (max-width: 767px) and (prefers-contrast: high) {

    .glass-card,
    .modal-container {
        border: 2px solid var(--color-border-primary) !important;
    }

    button,
    .btn {
        border: 2px solid currentColor !important;
    }
}

/* ===== ç§»åŠ¨ç«¯å‡å°‘åŠ¨ç”»åå¥½ ===== */
@media (max-width: 767px) and (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}