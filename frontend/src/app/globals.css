/* ===== 全局样式重置 ===== */
* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

/* 主题背景 */
html,
body,
#root,
#__next {
  background: var(--color-bg-primary) !important;
  transition: background-color 0.3s ease;
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
  scroll-behavior: smooth;
  background: var(--color-bg-primary);
}

body {
  color: var(--color-text-primary);
  background: var(--color-bg-primary);
  min-height: 100vh;
}

a {
  color: inherit;
  text-decoration: none;
}

/* ===== CSS变量系统 ===== */
:root {
  /* 颜色系统 */
  --color-primary-blue: #3B82F6;
  --color-primary-purple: #8B5CF6;
  --gradient-primary: linear-gradient(90deg, #3B82F6 0%, #8B5CF6 100%);

  /* 字体家族 */
  --font-family-primary: 'Alibaba PuHuiTi 3.0', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;

  /* 字体大小 */
  --font-size-xs: 12px;
  --font-size-sm: 13.33px;
  --font-size-base: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 18px;
  --font-size-2xl: 20px;
  --font-size-3xl: 24px;
  --font-size-4xl: 28px;
  --font-size-5xl: 32px;
  --font-size-6xl: 36px;
  --font-size-7xl: 48px;
  --font-size-8xl: 64px;

  /* 暗色主题 (默认) */
  --color-bg-primary: #030303;
  --color-bg-secondary: rgba(26, 26, 26, 0.30);
  --color-bg-glass: rgba(26, 26, 26, 0.85);
  --color-bg-input: rgba(26, 26, 26, 0.60);

  /* 文字色 */
  --color-text-primary: #FFFFFF;
  --color-text-secondary: #D1D5DB;
  --color-text-muted: #9CA3AF;
  --color-text-disabled: #6B7280;

  /* 边框色 */
  --color-border-primary: rgba(42, 42, 42, 0.70);
  --color-border-secondary: #2A2A2A;
  --color-border-active: #3B82F6;
}

/* 亮色主题 */
[data-theme="light"] {
  /* 背景色 */
  --color-bg-primary: #FFFFFF;
  --color-bg-secondary: rgba(245, 245, 245, 0.30);
  --color-bg-glass: rgba(255, 255, 255, 0.85);
  --color-bg-input: rgba(248, 250, 252, 0.60);

  /* 文字色 */
  --color-text-primary: #1F2937;
  --color-text-secondary: #4B5563;
  --color-text-muted: #6B7280;
  --color-text-disabled: #9CA3AF;

  /* 边框色 */
  --color-border-primary: rgba(229, 231, 235, 0.70);
  --color-border-secondary: #E5E7EB;
  --color-border-active: #3B82F6;
}

/* 暗色主题 (显式声明) */
[data-theme="dark"] {
  /* 背景色 */
  --color-bg-primary: #030303;
  --color-bg-secondary: rgba(26, 26, 26, 0.30);
  --color-bg-glass: rgba(26, 26, 26, 0.85);
  --color-bg-input: rgba(26, 26, 26, 0.60);

  /* 文字色 */
  --color-text-primary: #FFFFFF;
  --color-text-secondary: #D1D5DB;
  --color-text-muted: #9CA3AF;
  --color-text-disabled: #6B7280;

  /* 边框色 */
  --color-border-primary: rgba(42, 42, 42, 0.70);
  --color-border-secondary: #2A2A2A;
  --color-border-active: #3B82F6;
}

  /* 📏 扩展间距系统 - 完整规范 */

  /* === 基础间距变量 === */
  /* 微小间距 (1-4) */
  --spacing-0: 0px;
  --spacing-1: 4px;
  /* 最小间距，用于微调 */
  --spacing-2: 8px;
  /* 小元素间距，如图标与文字 */
  --spacing-3: 12px;
  /* 紧密元素间距 */
  --spacing-4: 16px;
  /* 标准元素间距 */

  /* 常用间距 (5-12) */
  --spacing-5: 20px;
  /* 中等元素间距 */
  --spacing-6: 24px;
  /* 卡片内部间距 */
  --spacing-7: 28px;
  /* 加大元素间距 */
  --spacing-8: 32px;
  /* 大间距，区块内部 */
  --spacing-10: 40px;
  /* 加大区块间距 */
  --spacing-12: 48px;
  /* 大区块间距 */

  /* 大间距 (14-24) */
  --spacing-14: 56px;
  /* 较大区块间距 */
  --spacing-16: 64px;
  /* 大区块间距 */
  --spacing-18: 72px;
  /* 很大区块间距 */
  --spacing-20: 80px;
  /* 超大区块间距 */
  --spacing-24: 96px;
  /* 特大区块间距 */

  /* 超大间距 (28-40) */
  --spacing-28: 112px;
  /* 页面级大间距 */
  --spacing-32: 128px;
  /* 页面级超大间距 */
  --spacing-36: 144px;
  /* 特殊页面间距 */
  --spacing-40: 160px;
  /* 最大页面间距 */

  /* === 语义化间距变量 === */

  /* 页面级间距 */
  --page-padding-top-sm: var(--spacing-12);
  /* 48px - 小页面顶部间距 */
  --page-padding-top-md: 48px;
  /* 48px - 中等页面顶部间距 */
  --page-padding-top-lg: var(--spacing-20);
  /* 80px - 大页面顶部间距 */
  --page-padding-top-xl: var(--spacing-24);
  /* 96px - 超大页面顶部间距 */

  --page-padding-bottom-sm: var(--spacing-12);
  /* 48px - 小页面底部间距 */
  --page-padding-bottom-md: 48px;
  /* 48px - 中等页面底部间距 */
  --page-padding-bottom-lg: var(--spacing-18);
  /* 72px - 大页面底部间距 */
  --page-padding-bottom-xl: var(--spacing-20);
  /* 80px - 超大页面底部间距 */

  /* 区块间距 */
  --section-spacing-sm: 36px;
  /* 36px - 小区块间距 */
  --section-spacing-md: 64px;
  /* 64px - 中等区块间距，标题到内容的标准距离 */
  --section-spacing-lg: 80px;
  /* 80px - 大区块间距 */
  --section-spacing-xl: var(--spacing-24);
  /* 96px - 超大区块间距 */

  /* 组件间距 */
  --component-padding-sm: var(--spacing-4);
  /* 16px - 小组件内边距 */
  --component-padding-md: var(--spacing-6);
  /* 24px - 中等组件内边距 */
  --component-padding-lg: var(--spacing-8);
  /* 32px - 大组件内边距 */
  --component-padding-xl: var(--spacing-10);
  /* 40px - 超大组件内边距 */

  /* 卡片间距 */
  --card-padding-sm: var(--spacing-4);
  /* 16px - 小卡片内边距 */
  --card-padding-md: var(--spacing-6);
  /* 24px - 中等卡片内边距 */
  --card-padding-lg: var(--spacing-8);
  /* 32px - 大卡片内边距 */
  --card-padding-xl: var(--spacing-10);
  /* 40px - 超大卡片内边距 */

  --card-gap-sm: var(--spacing-4);
  /* 16px - 小卡片间距 */
  --card-gap-md: var(--spacing-6);
  /* 24px - 中等卡片间距 */
  --card-gap-lg: var(--spacing-8);
  /* 32px - 大卡片间距 */
  --card-gap-xl: var(--spacing-12);
  /* 48px - 超大卡片间距 */

  /* 标题间距 */
  --title-margin-bottom-sm: var(--spacing-4);
  /* 16px - 小标题底部间距 */
  --title-margin-bottom-md: var(--spacing-5);
  /* 20px - 中等标题底部间距 */
  --title-margin-bottom-lg: var(--spacing-6);
  /* 24px - 大标题底部间距 */
  --title-margin-bottom-xl: var(--spacing-8);
  /* 32px - 超大标题底部间距 */

  /* 按钮间距 */
  --button-padding-sm: var(--spacing-2) var(--spacing-5);
  /* 8px 20px */
  --button-padding-md: var(--spacing-3) var(--spacing-6);
  /* 12px 24px */
  --button-padding-lg: var(--spacing-4) var(--spacing-8);
  /* 16px 32px */

  --button-gap-sm: var(--spacing-2);
  /* 8px - 小按钮间距 */
  --button-gap-md: var(--spacing-4);
  /* 16px - 中等按钮间距 */
  --button-gap-lg: var(--spacing-6);
  /* 24px - 大按钮间距 */

  /* 表单间距 */
  --form-item-gap: var(--spacing-4);
  /* 16px - 表单项间距 */
  --form-section-gap: var(--spacing-8);
  /* 32px - 表单区块间距 */
  --form-padding: var(--spacing-6);
  /* 24px - 表单内边距 */

  /* 导航间距 */
  --nav-item-gap: var(--spacing-8);
  /* 32px - 导航项间距 */
  --nav-padding: var(--spacing-4) var(--spacing-6);
  /* 16px 24px - 导航内边距 */

  /* 特殊用途间距 */
  --header-height: 98px;
  /* Header高度 */
  --header-offset: var(--header-height);
  /* Header偏移量 */
  --hero-padding-top: 135px;
  /* Hero区域顶部间距 */
  --hero-padding-bottom: var(--spacing-20);
  /* Hero区域底部间距 */

  /* 圆角 */
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;

  /* 模糊 */
  --blur-sm: 4px;
  --blur-md: 12px;
  --blur-lg: 64px;

  /* 阴影 */
  --shadow-button: 0px 0px 15px 0px rgba(139, 92, 246, 0.50);
  --shadow-card: 0 4px 12px rgba(0, 0, 0, 0.15);

  /* 动画 */
  --transition-fast: 0.15s ease;
  --transition-normal: 0.3s ease;
  --transition-slow: 0.5s ease;
}

/* ===== 个人中心设置页面专用样式 ===== */
/* 只在设置页面应用特殊输入框样式 */
.settings-page .input,
.settings-page input[type="text"],
.settings-page input[type="email"],
.settings-page input[type="password"],
.settings-page input[type="tel"],
.settings-page textarea {
  background: rgba(18, 18, 18, 0.50) !important;
  backdrop-filter: blur(4px) !important;
  -webkit-backdrop-filter: blur(4px) !important;
  border: 1px solid rgba(42, 42, 42, 0.70) !important;
  color: #FFFFFF !important;
  font-family: var(--font-family-primary) !important;
}

.settings-page .input:focus,
.settings-page input[type="text"]:focus,
.settings-page input[type="email"]:focus,
.settings-page input[type="password"]:focus,
.settings-page input[type="tel"]:focus,
.settings-page textarea:focus {
  border-color: #3B82F6 !important;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1) !important;
  outline: none !important;
}

/* 特殊处理：确保个人简介文本域只有一层边框 */
.settings-page .bio-textarea:focus {
  border: 1px solid #3B82F6 !important;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1) !important;
  outline: none !important;
}

/* 设置页面头像区域优化 */
.avatar-edit-button:hover {
  transform: scale(1.1) !important;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3) !important;
}

.avatar-edit-text:hover {
  color: var(--color-text-primary) !important;
}

/* 设置页面头像容器悬浮效果 */
.avatar-container:hover {
  border-color: rgba(59, 130, 246, 0.4) !important;
  box-shadow: 0 0 24px rgba(59, 130, 246, 0.15) !important;
}

/* 设置页面表单区域优化 */
.settings-form-card {
  transition: all 0.3s ease !important;
}

.settings-form-card:hover {
  background: rgba(26, 26, 26, 0.4) !important;
  border-color: rgba(42, 42, 42, 0.6) !important;
}

/* 响应式优化 */
@media (max-width: 768px) {
  .settings-form-row {
    flex-direction: column !important;
    gap: 12px !important;
  }

  .settings-form-label {
    text-align: left !important;
    width: 100% !important;
    padding-top: 0 !important;
  }

  .settings-form-card {
    margin: 0 24px !important;
    padding: 24px !important;
  }

  .settings-avatar {
    width: 96px !important;
    height: 96px !important;
  }

  .settings-buttons {
    flex-direction: column !important;
    padding-left: 24px !important;
    padding-right: 24px !important;
  }

  .settings-buttons button {
    width: 100% !important;
  }
}

/* 通用输入框placeholder样式 */
.input::placeholder,
input::placeholder,
textarea::placeholder {
  color: var(--color-text-muted) !important;
  opacity: 1 !important;
}

/* 兼容性支持 */
.input::-webkit-input-placeholder,
input::-webkit-input-placeholder,
textarea::-webkit-input-placeholder {
  color: var(--color-text-muted) !important;
  opacity: 1 !important;
}

.input::-moz-placeholder,
input::-moz-placeholder,
textarea::-moz-placeholder {
  color: var(--color-text-muted) !important;
  opacity: 1 !important;
}

.input:-ms-input-placeholder,
input:-ms-input-placeholder,
textarea:-ms-input-placeholder {
  color: var(--color-text-muted) !important;
  opacity: 1 !important;
}

/* 设置页面专用占位符样式 */
.settings-page .input::placeholder,
.settings-page input::placeholder,
.settings-page textarea::placeholder {
  color: #9CA3AF !important;
  opacity: 1 !important;
}

/* 设置页面专用输入框标签样式 */
.settings-page .input-label {
  color: var(--color-text-secondary) !important;
  font-size: var(--font-size-sm) !important;
  font-weight: 500 !important;
  margin-bottom: var(--spacing-2) !important;
}

/* 设置页面专用输入框帮助文本和错误文本 */
.settings-page .input-helper {
  color: var(--color-text-muted) !important;
  font-size: var(--font-size-xs) !important;
  margin-top: var(--spacing-1) !important;
}

.settings-page .input-error {
  color: #EF4444 !important;
  font-size: var(--font-size-xs) !important;
  margin-top: var(--spacing-1) !important;
}

/* ===== 字体加载 ===== */
@font-face {
  font-family: 'Alibaba PuHuiTi 3.0';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('/fonts/alibaba-puhuiti/AlibabaHuiTi-Normal.woff2') format('woff2');
}

@font-face {
  font-family: 'Alibaba PuHuiTi 3.0';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('/fonts/alibaba-puhuiti/AlibabaHuiTi-Bold.woff2') format('woff2');
}

/* ===== 基础组件样式 ===== */

/* 渐变文字效果 */
.gradient-text {
  background: var(--gradient-primary);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  font-family: var(--font-family-primary);
  font-weight: 600;
  line-height: 1.2;
}

/* Hero区域副标题样式 - 最高优先级强制覆盖 */
.hero-subtitle,
.hero-subtitle *,
div.hero-subtitle,
section .hero-subtitle {
  color: #D1D5DB !important;
}

/* 确保在所有加载阶段都保持灰色 */
.hero-subtitle {
  color: #D1D5DB !important;
  -webkit-text-fill-color: #D1D5DB !important;
  /* 禁用可能的颜色动画和过渡 */
  transition: none !important;
  animation: none !important;
  /* 确保不被任何渐变文字类影响 */
  background: none !important;
  background-clip: initial !important;
  -webkit-background-clip: initial !important;
}

/* 🔧 终极覆盖规则 - 最高优先级 */
html body section div.hero-subtitle,
html body div.hero-subtitle,
body div.hero-subtitle,
div.hero-subtitle {
  color: #D1D5DB !important;
  -webkit-text-fill-color: #D1D5DB !important;
}

/* 🔧 防止任何可能的继承覆盖 */
div.hero-subtitle,
div.hero-subtitle *,
.hero-subtitle,
.hero-subtitle * {
  color: #D1D5DB !important;
  -webkit-text-fill-color: #D1D5DB !important;
}

/* 玻璃卡片效果 */
.glass-card {
  background: var(--color-bg-glass);
  backdrop-filter: blur(var(--blur-md));
  -webkit-backdrop-filter: blur(var(--blur-md));
  border: 1px solid var(--color-border-primary);
  border-radius: var(--radius-xl);
  transition: var(--transition-normal);
  /* 🔧 防止点击时的黑色闪烁 */
  -webkit-tap-highlight-color: transparent;
  user-select: none;
}

.glass-card--hover:hover {
  border-color: var(--color-border-active);
  box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.1);
  transform: translateY(-2px);
}

/* 🎯 毛玻璃卡片点击状态优化 */
.glass-card--hover:active {
  border-color: var(--color-border-active);
  box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.15);
  transform: translateY(0) !important;
}

.glass-card--active {
  border-color: var(--color-border-active);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* 按钮基础样式 */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-family-primary);
  font-weight: 500;
  border: none;
  border-radius: var(--radius-full);
  cursor: pointer;
  transition: var(--transition-normal);
  text-decoration: none;
  outline: none;
  /* 🔧 防止浏览器默认点击效果 */
  -webkit-tap-highlight-color: transparent;
  user-select: none;
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* 🎯 全局按钮点击状态优化 - 防止黑色闪烁 */
.btn:active:not(:disabled) {
  transform: translateY(0) !important;
  transition: transform 0.1s ease !important;
}

/* 渐变按钮 */
.btn--gradient {
  background: var(--gradient-primary);
  color: #FFFFFF;
  box-shadow: var(--shadow-button);
}

.btn--gradient:hover:not(:disabled) {
  box-shadow: 0px 0px 20px 0px rgba(139, 92, 246, 0.70);
  transform: translateY(-1px);
}

.btn--gradient:active:not(:disabled) {
  transform: translateY(0) !important;
  box-shadow: 0px 0px 15px 0px rgba(139, 92, 246, 0.50) !important;
}

/* 轮廓按钮 */
.btn--outline {
  background: transparent;
  color: var(--color-text-primary);
  border: 1px solid var(--color-border-primary);
}

.btn--outline:hover:not(:disabled) {
  border-color: var(--color-border-active);
  background: rgba(59, 130, 246, 0.1);
}

.btn--outline:active:not(:disabled) {
  background: rgba(59, 130, 246, 0.2) !important;
  transform: translateY(0) !important;
}

/* 按钮尺寸 */
.btn--sm {
  padding: 8px 20px;
  font-size: var(--font-size-sm);
  line-height: 1.2;
}

.btn--md {
  padding: 12px 24px;
  font-size: var(--font-size-base);
  line-height: 1.2;
}

.btn--lg {
  padding: 16px 32px;
  font-size: var(--font-size-lg);
  line-height: 1.2;
}

/* 渐变文字效果 */
.gradient-text {
  background: var(--gradient-primary);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-size: 200% 100%;
  animation: gradient-shift 3s ease-in-out infinite;
}

@keyframes gradient-shift {

  0%,
  100% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }
}

/* ===== 导航链接样式 ===== */

/* Header导航链接 */
.nav-link:not(.nav-link--active):hover {
  color: #FFFFFF !important;
}

/* Footer社交链接 */
.social-link:hover {
  background: rgba(59, 130, 246, 0.2) !important;
}

/* Footer导航链接 */
.footer-nav-link:hover {
  color: #FFFFFF !important;
}

/* Footer法律条款链接 */
.footer-legal-link:hover {
  color: var(--color-text-secondary) !important;
}

/* Footer社交媒体链接 */
.footer-social-link:hover {
  border-color: var(--color-border-active) !important;
  box-shadow: var(--shadow-button) !important;
}

/* 主要内容区域文章卡片 */
.main-content-article-card:hover {
  background: rgba(18, 18, 18, 0.50) !important;
}

.main-content-article-card:active {
  background: rgba(18, 18, 18, 0.60) !important;
  transform: translateY(0) !important;
}

/* 免费资源卡片 */
.free-resource-card:hover {
  transform: translateY(-4px) !important;
  box-shadow: 0px 8px 25px -4px rgba(0, 0, 0, 0.20), 0px 20px 35px -3px rgba(0, 0, 0, 0.15) !important;
}

.free-resource-card:active {
  transform: translateY(-2px) !important;
  box-shadow: 0px 4px 15px -2px rgba(0, 0, 0, 0.25) !important;
}

/* 相关文章卡片 */
.related-article-card:hover {
  border-color: var(--color-border-active) !important;
  background: rgba(59, 130, 246, 0.05) !important;
  transform: translateY(-1px) !important;
}

.related-article-card:active {
  border-color: var(--color-border-active) !important;
  background: rgba(59, 130, 246, 0.10) !important;
  transform: translateY(0) !important;
}

/* 文章筛选按钮 */
.article-filter-button:not(.article-filter-button--active):hover {
  color: var(--color-text-primary) !important;
  border-color: var(--color-border-active) !important;
}

.article-filter-button:not(.article-filter-button--active):active {
  color: var(--color-text-primary) !important;
  border-color: var(--color-border-active) !important;
  background: rgba(59, 130, 246, 0.15) !important;
}

/* 联系方式卡片 */
.contact-method-card:hover {
  border-color: var(--color-border-active) !important;
  background: rgba(59, 130, 246, 0.05) !important;
}

.contact-method-card:active {
  border-color: var(--color-border-active) !important;
  background: rgba(59, 130, 246, 0.10) !important;
}

/* 联系方式链接 */
.contact-method-link:hover {
  text-decoration: underline !important;
}

.contact-method-link:active {
  text-decoration: underline !important;
  color: var(--color-primary-blue) !important;
}

/* 文章操作按钮 */
.article-action-button:not(.article-action-button--liked):not(.article-action-button--bookmarked):hover {
  color: var(--color-text-primary) !important;
  border-color: var(--color-border-active) !important;
}

.article-action-button:not(.article-action-button--liked):not(.article-action-button--bookmarked):active {
  color: var(--color-text-primary) !important;
  border-color: var(--color-border-active) !important;
  background: rgba(59, 130, 246, 0.15) !important;
}

/* Footer联系链接 */
.footer-contact-link:hover {
  color: #FFFFFF !important;
}

.footer-contact-link:active {
  color: var(--color-primary-blue) !important;
}

/* ===== 头部图标按钮样式 ===== */

/* 图标按钮基础样式 */
.icon-button {
  transition: all 0.2s ease !important;
  /* 🔧 防止移动端点击黑色闪烁 */
  -webkit-tap-highlight-color: transparent !important;
  user-select: none !important;
  outline: none !important;
}

/* 图标按钮hover效果 */
.icon-button:hover {
  background: rgba(59, 130, 246, 0.10) !important;
  border-color: rgba(59, 130, 246, 0.40) !important;
  transform: translateY(-1px) !important;
}

/* 🎯 图标按钮点击状态优化 - 防止黑色闪烁 */
.icon-button:active {
  transform: translateY(0) !important;
  background: rgba(59, 130, 246, 0.15) !important;
  border-color: rgba(59, 130, 246, 0.50) !important;
  transition: all 0.1s ease !important;
}

/* 图标按钮中的图标hover效果 */
.icon-button:hover svg {
  color: #FFFFFF !important;
}

/* 🌟 通用可点击元素点击状态优化 */
button,
.clickable,
[role="button"],
[tabindex="0"] {
  -webkit-tap-highlight-color: transparent !important;
  user-select: none !important;
  outline: none !important;
}

/* 🎯 通用点击反馈效果 */
button:active:not(:disabled),
.clickable:active,
[role="button"]:active,
[tabindex="0"]:active {
  transform: scale(0.98) !important;
  transition: transform 0.1s ease !important;
}

/* 🔧 覆盖浏览器默认的焦点样式 */
button:focus-visible,
.clickable:focus-visible,
[role="button"]:focus-visible,
[tabindex="0"]:focus-visible {
  outline: 2px solid rgba(59, 130, 246, 0.5) !important;
  outline-offset: 2px !important;
}

/* ===== 响应式设计 ===== */

/* 大屏桌面端样式 (1440px及以上) */
@media (min-width: 1440px) {
  .desktop-nav {
    display: flex !important;
  }

  .desktop-auth-buttons {
    display: flex !important;
  }

  .mobile-menu-button {
    display: none !important;
  }

  /* 调整页面顶部间距适配新的header高度 */
  body main {
    padding-top: 0px !important;
    /* 移除顶部间距，让背景上移 */
  }
}

/* 中等桌面端样式 (1200px - 1439px) */
@media (min-width: 1200px) and (max-width: 1439px) {
  .desktop-nav {
    display: flex !important;
  }

  .desktop-auth-buttons {
    display: flex !important;
  }

  .mobile-menu-button {
    display: none !important;
  }

  /* 调整容器最大宽度和内边距 */
  .container-xl {
    max-width: 1200px !important;
    padding: 0 var(--spacing-8) !important;
  }

  /* 调整页面顶部间距 */
  body main {
    padding-top: 0px !important;
  }
}

/* 桌面端样式 (1024px - 1199px) */
@media (min-width: 1024px) and (max-width: 1199px) {
  .desktop-nav {
    display: flex !important;
  }

  .desktop-auth-buttons {
    display: flex !important;
  }

  .mobile-menu-button {
    display: none !important;
  }

  /* 调整容器最大宽度和内边距 */
  .container-xl {
    max-width: 1024px !important;
    padding: 0 var(--spacing-6) !important;
  }

  /* 调整页面顶部间距 */
  body main {
    padding-top: 0px !important;
  }
}

/* 全局页面头部样式 - 确保所有屏幕尺寸一致 */
.page-header {
  padding: 40px 0 20px !important;
  text-align: center !important;
}

/* 平板端样式 (768px - 1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
  .desktop-nav {
    display: flex !important;
  }

  .desktop-auth-buttons {
    display: flex !important;
  }

  .mobile-menu-button {
    display: none !important;
  }

  /* 调整容器最大宽度 */
  .container-xl {
    max-width: 768px !important;
    padding: 0 var(--spacing-6) !important;
  }

  /* 调整字体大小 */
  :root {
    --font-size-7xl: 40px;
    --font-size-8xl: 56px;
  }

  /* 调整页面顶部间距适配新的header高度 */
  body main {
    padding-top: 0px !important;
    /* 移除顶部间距，让背景上移 */
  }
}

/* 移动端样式 (767px及以下) */
@media (max-width: 767px) {
  .desktop-nav {
    display: none !important;
  }

  .desktop-auth-buttons {
    display: none !important;
  }

  .mobile-menu-button {
    display: block !important;
  }

  /* 调整头部高度和间距 */
  header>div {
    height: 64px !important;
    padding: 0 var(--spacing-4) !important;
  }

  /* 调整容器间距 */
  .container-xl {
    padding: 0 var(--spacing-4) !important;
  }

  /* 调整页面顶部间距适配移动端header高度 */
  body main {
    padding-top: 0px !important;
    /* 移除顶部间距，让背景上移 */
  }

  /* 调整字体大小 */
  :root {
    --font-size-6xl: 28px;
    --font-size-7xl: 36px;
    --font-size-8xl: 48px;
  }

  /* 网格布局调整 */
  .grid-responsive {
    grid-template-columns: 1fr !important;
    gap: var(--spacing-6) !important;
  }

  /* 文章卡片调整 */
  .article-card-grid {
    grid-template-columns: 1fr !important;
    gap: var(--spacing-4) !important;
  }

  /* 文章详情页侧边栏隐藏 */
  .article-detail-grid {
    grid-template-columns: 1fr !important;
  }

  .article-detail-sidebar {
    display: none !important;
  }

  /* 关于页面网格调整 */
  .about-content-grid {
    grid-template-columns: 1fr !important;
    gap: var(--spacing-8) !important;
  }

  /* 联系表单调整 */
  .contact-grid {
    grid-template-columns: 1fr !important;
    gap: var(--spacing-8) !important;
  }

  /* 统计数据网格调整 */
  .stats-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: var(--spacing-4) !important;
  }

  /* 使命卡片网格调整 */
  .mission-grid {
    grid-template-columns: 1fr !important;
    gap: var(--spacing-6) !important;
  }

  /* 会员特权区域调整 */
  .membership-grid {
    grid-template-columns: 1fr !important;
    gap: var(--spacing-8) !important;
  }

  /* 调整卡片内边距 */
  .glass-card {
    padding: var(--spacing-4) !important;
  }

  /* 调整区块间距 */
  .section-spacing {
    padding: 40px 0 !important;
    margin-bottom: 60px !important;
  }

  /* 返回顶部按钮调整 - 移动端响应式 */
  .back-to-top-button {
    bottom: 20px !important;
    right: 20px !important;
    width: 40px !important;
    height: 40px !important;
  }

  /* 分页组件调整 */
  .pagination {
    flex-wrap: wrap !important;
    gap: var(--spacing-2) !important;
    justify-content: center !important;
  }

  .pagination button {
    min-width: 32px !important;
    height: 32px !important;
    font-size: var(--font-size-xs) !important;
  }
}

/* 超小屏幕样式 (480px及以下) */
@media (max-width: 480px) {

  /* 进一步缩小字体 */
  :root {
    --font-size-5xl: 24px;
    --font-size-6xl: 28px;
    --font-size-7xl: 32px;
    --font-size-8xl: 40px;
  }

  /* 调整间距 */
  .container-xl {
    padding: 0 var(--spacing-3) !important;
  }

  /* 统计数据单列显示 */
  .stats-grid {
    grid-template-columns: 1fr !important;
  }

  /* 按钮全宽显示 */
  .btn-mobile-full {
    width: 100% !important;
  }

  /* 表单元素调整 */
  input,
  textarea,
  select {
    font-size: 16px !important;
    /* 防止iOS放大 */
  }
}

/* ===== 打印样式 ===== */
@media print {

  header,
  footer,
  .glass-card,
  .gradient-text {
    background: white !important;
    color: black !important;
    box-shadow: none !important;
    -webkit-print-color-adjust: exact;
  }

  .desktop-nav,
  .mobile-menu-button,
  #back-to-top {
    display: none !important;
  }
}

/* ===== 高对比度支持 ===== */
@media (prefers-contrast: high) {
  :root {
    --color-border-primary: #666666;
    --color-text-muted: #CCCCCC;
    --color-bg-glass: rgba(0, 0, 0, 0.9);
  }
}

/* ===== 减少动画支持 ===== */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .gradient-text {
    animation: none !important;
  }
}

/* ===== 深色模式优化 ===== */
@media (prefers-color-scheme: dark) {
  /* 当前已经是深色主题，无需额外调整 */
}

/* ===== 模态弹窗样式 ===== */

/* 弹窗遮罩层 */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  padding: var(--spacing-4);
}

/* 弹窗容器 */
.modal-container {
  position: relative;
  background: var(--color-bg-glass);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid var(--color-border-primary);
  border-radius: var(--radius-xl);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  outline: none;
}

/* 弹窗头部 */
.modal-header {
  position: relative;
  padding: var(--spacing-6) var(--spacing-6) var(--spacing-4);
  text-align: center;
}

/* 关闭按钮 */
.modal-close {
  position: absolute;
  top: var(--spacing-6);
  right: var(--spacing-6);
  background: none;
  border: none;
  cursor: pointer;
  padding: var(--spacing-2);
  border-radius: var(--radius-md);
  transition: var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-close:hover {
  background: rgba(255, 255, 255, 0.1);
}

/* 弹窗标题 */
.modal-title {
  font-size: var(--font-size-4xl);
  font-weight: 700;
  background: var(--gradient-primary);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin: 0 0 var(--spacing-2);
  line-height: 1.2;
}

/* 弹窗副标题 */
.modal-subtitle {
  font-size: var(--font-size-base);
  color: var(--color-text-muted);
  margin: 0;
  line-height: 1.5;
}

/* 弹窗内容 */
.modal-body {
  padding: 0 var(--spacing-6) var(--spacing-6);
}

/* 弹窗动画 */
@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
}

@keyframes modalEnter {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(-10px);
  }

  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes modalExit {
  from {
    opacity: 1;
    transform: scale(1) translateY(0);
  }

  to {
    opacity: 0;
    transform: scale(0.95) translateY(-10px);
  }
}

/* 响应式弹窗 */
@media (max-width: 767px) {
  .modal-overlay {
    padding: var(--spacing-2);
    align-items: flex-end;
  }

  .modal-container {
    max-height: 95vh;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
  }

  .modal-title {
    font-size: var(--font-size-3xl);
  }

  .modal-header {
    padding: var(--spacing-5) var(--spacing-4) var(--spacing-3);
  }

  .modal-body {
    padding: 0 var(--spacing-4) var(--spacing-5);
  }

  .modal-close {
    top: var(--spacing-5);
    right: var(--spacing-4);
  }
}

/* ===== Container 容器样式 ===== */

/* 基础容器样式 */
.container {
  width: 100%;
  margin: 0 auto;
  position: relative;
}

/* 容器尺寸变体 */
.container--sm {
  max-width: 640px;
  padding: 0 var(--spacing-4);
}

.container--md {
  max-width: 768px;
  padding: 0 var(--spacing-6);
}

.container--lg {
  max-width: 1024px;
  padding: 0 var(--spacing-6);
}

.container--xl {
  max-width: 1440px;
  padding: 0 var(--spacing-8);
}

/* ===== 工具类样式 ===== */

/* 隐藏类 */
.hidden {
  display: none !important;
}

.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* 文本对齐 */
.text-center {
  text-align: center !important;
}

.text-left {
  text-align: left !important;
}

.text-right {
  text-align: right !important;
}

/* 全宽 */
.w-full {
  width: 100% !important;
}

/* Flex工具类 */
.flex {
  display: flex !important;
}

.flex-col {
  flex-direction: column !important;
}

.items-center {
  align-items: center !important;
}

.justify-center {
  justify-content: center !important;
}

.justify-between {
  justify-content: space-between !important;
}

/* 间距工具类 */
.mb-4 {
  margin-bottom: var(--spacing-4) !important;
}

.mb-6 {
  margin-bottom: var(--spacing-6) !important;
}

.mb-8 {
  margin-bottom: var(--spacing-8) !important;
}

.mt-4 {
  margin-top: var(--spacing-4) !important;
}

.mt-6 {
  margin-top: var(--spacing-6) !important;
}

.mt-8 {
  margin-top: var(--spacing-8) !important;
}

/* ===== 响应式导航栏样式 ===== */

/* 默认状态（桌面端） */
.desktop-nav {
  display: flex !important;
}

.desktop-auth-buttons {
  display: flex !important;
}

.mobile-menu-button {
  display: none !important;
}

/* 平板端适配 - 1024px以下 */
@media (max-width: 1023px) {
  .desktop-nav {
    display: none !important;
  }

  .desktop-auth-buttons {
    display: none !important;
  }

  .mobile-menu-button {
    display: flex !important;
  }
}

/* 移动端适配 - 768px以下 */
@media (max-width: 767px) {
  .desktop-nav {
    display: none !important;
  }

  .desktop-auth-buttons {
    display: none !important;
  }

  .mobile-menu-button {
    display: flex !important;
  }
}

/* 导航链接hover效果 */
.nav-link:hover {
  color: var(--color-text-primary) !important;
  transition: color 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* 图标按钮hover效果增强 */
.icon-button {
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.icon-button:hover {
  transform: translateY(-1px);
}

/* 毛玻璃效果增强 */
.inner-border {
  border: 1px solid rgba(59, 130, 246, 0.20);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* 邮箱输入框placeholder样式 */
.hero-email-input::placeholder {
  color: var(--color-text-muted);
  opacity: 1;
}

.hero-email-input::-webkit-input-placeholder {
  color: var(--color-text-muted);
  opacity: 1;
}

.hero-email-input::-moz-placeholder {
  color: var(--color-text-muted);
  opacity: 1;
}

.hero-email-input:-ms-input-placeholder {
  color: var(--color-text-muted);
  opacity: 1;
}

/* ===== 页面过渡效果增强 ===== */

/* 平滑滚动优化 */
html {
  scroll-behavior: smooth;
  scroll-padding-top: 0px;
  /* 移除Header空间，让背景上移 */
}

/* 页面过渡容器优化 */
.page-transition {
  isolation: isolate;
  /* 创建新的层叠上下文 */
  contain: layout style paint;
  /* 优化渲染性能 */
}

/* 标准页面间距优化 */
.page-transition.standard-page {
  padding-top: 0px;
  /* 移除顶部间距，让背景上移 */
  transition: padding-top 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* 个人中心页面特殊处理 */
.page-transition.profile-page {
  padding-top: 0;
}

/* 内容区域进入动画 */
.page-transition>* {
  animation: contentFadeIn 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  /* 从0.6s减少到0.3s */
}

@keyframes contentFadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
    /* 从20px减少到10px，减少位移 */
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 优化页面滚动性能 */
* {
  scroll-behavior: smooth;
}

/* 减少重排重绘 */
.page-transition,
.page-transition * {
  will-change: auto;
  /* 避免过度使用will-change */
}

/* 为动画元素单独优化 */
.background-decoration,
.nav-link,
.icon-button {
  will-change: transform, opacity;
}

/* 响应式过渡优化 */
@media (max-width: 768px) {
  .page-transition.standard-page {
    padding-top: 0px;
    /* 移除顶部间距，让背景上移 */
  }

  html {
    scroll-padding-top: 0px;
    /* 移除移动端Header空间 */
  }
}

/* 设备性能优化 */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }

  .page-transition,
  .page-transition *,
  .background-decoration {
    animation: none !important;
    transition: none !important;
  }
}

/* 主内容区域文章卡片样式 */
.main-content-article-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.main-content-article-card:active {
  transform: translateY(0);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
}

/* ===== 移动端触摸友好交互优化 ===== */

/* 移动端触摸基础优化 */
@media (hover: none) and (pointer: coarse) {

  /* 移除所有触摸高亮 */
  * {
    -webkit-tap-highlight-color: transparent !important;
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    user-select: none !important;
  }

  /* 文本内容恢复选择 */
  p,
  span,
  div[class*="text"],
  article,
  section {
    -webkit-user-select: text !important;
    user-select: text !important;
  }

  /* 输入框恢复选择 */
  input,
  textarea {
    -webkit-user-select: text !important;
    user-select: text !important;
  }

  /* 触摸友好的按钮最小尺寸 */
  button,
  [role="button"],
  .btn,
  .clickable,
  a[href] {
    min-height: 44px !important;
    min-width: 44px !important;
    touch-action: manipulation !important;
  }

  /* 触摸反馈效果 */
  button:active:not(:disabled),
  [role="button"]:active,
  .btn:active:not(:disabled),
  .clickable:active,
  a[href]:active {
    transform: scale(0.95) !important;
    transition: transform 0.1s ease !important;
  }

  /* 特殊按钮触摸优化 */
  .glass-card:active {
    transform: scale(0.98) !important;
    transition: transform 0.1s ease !important;
  }

  /* 图标按钮触摸优化 */
  .icon-button:active {
    transform: scale(0.9) !important;
    background: rgba(59, 130, 246, 0.2) !important;
  }

  /* 导航链接触摸优化 */
  .nav-link:active {
    color: var(--color-primary-blue) !important;
    transform: scale(0.95) !important;
  }

  /* 表单输入框触摸优化 */
  input:focus,
  textarea:focus {
    transform: none !important;
    outline: 2px solid var(--color-primary-blue) !important;
    outline-offset: 2px !important;
  }

  /* 移动端卡片间距优化 */
  .glass-card {
    margin: 8px 0 !important;
  }

  /* 移动端文字大小优化 - 防止缩放 */
  input,
  textarea,
  select {
    font-size: 16px !important;
    /* 防止iOS Safari自动缩放 */
  }
}

/* 移动端具体屏幕尺寸优化 */
@media (max-width: 767px) {

  /* 触摸友好的导航按钮 */
  .mobile-menu-button {
    min-width: 48px !important;
    min-height: 48px !important;
    padding: 12px !important;
  }

  /* 触摸友好的链接间距 */
  a {
    padding: 8px 4px !important;
    margin: 4px 0 !important;
  }

  /* 触摸友好的表单元素 */
  .hero-email-form {
    gap: 16px !important;
  }

  .hero-email-input {
    min-height: 52px !important;
    padding: 16px 20px !important;
    font-size: 16px !important;
  }

  .hero-subscribe-button {
    min-height: 52px !important;
    padding: 16px 24px !important;
    font-size: 16px !important;
  }

  /* 触摸友好的文章卡片 */
  .article-card {
    padding: 20px !important;
    margin: 16px 0 !important;
  }

  /* 触摸友好的按钮组 */
  .button-group {
    gap: 16px !important;
  }

  .button-group button {
    min-height: 48px !important;
    padding: 14px 20px !important;
  }

  /* 触摸友好的分页 */
  .pagination button {
    min-width: 44px !important;
    min-height: 44px !important;
    padding: 12px !important;
    margin: 4px !important;
  }

  /* 触摸友好的返回顶部按钮 */
  .back-to-top-button {
    width: 56px !important;
    height: 56px !important;
    bottom: 24px !important;
    right: 24px !important;
  }

  /* 触摸友好的标签 */
  .tag {
    min-height: 36px !important;
    padding: 8px 16px !important;
    margin: 4px !important;
  }

  /* 触摸友好的下拉菜单 */
  .dropdown-item {
    min-height: 48px !important;
    padding: 12px 16px !important;
  }

  /* 触摸友好的搜索框 */
  .search-input {
    min-height: 48px !important;
    padding: 12px 16px !important;
    font-size: 16px !important;
  }

  /* 触摸友好的模态弹窗关闭按钮 */
  .modal-close {
    min-width: 44px !important;
    min-height: 44px !important;
    padding: 12px !important;
  }
}

/* 大屏幕移动设备优化 (平板) */
@media (min-width: 768px) and (max-width: 1023px) and (hover: none) {

  /* 平板触摸优化 */
  button,
  .btn {
    min-height: 48px !important;
    padding: 12px 20px !important;
  }

  .glass-card {
    padding: 24px !important;
  }

  .nav-link {
    padding: 12px 16px !important;
  }
}

/* 触摸设备的文本选择优化 */
@media (hover: none) and (pointer: coarse) {

  /* 标题和重要文本可选择 */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    -webkit-user-select: text !important;
    user-select: text !important;
  }

  /* 代码块可选择 */
  pre,
  code {
    -webkit-user-select: text !important;
    user-select: text !important;
  }

  /* 防止意外选择的元素 */
  .icon,
  .logo,
  .decoration,
  .background {
    -webkit-user-select: none !important;
    user-select: none !important;
  }
}

/* 触摸设备滚动优化 */
@media (hover: none) and (pointer: coarse) {

  /* 平滑滚动 */
  html {
    scroll-behavior: smooth !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* 优化滚动容器 */
  .scroll-container {
    overflow-x: auto !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* 侧边栏滚动优化 */
  .mobile-menu {
    -webkit-overflow-scrolling: touch !important;
  }
}

/* 触摸设备动画性能优化 */
@media (hover: none) and (pointer: coarse) {

  /* 减少复杂动画 */
  *,
  *::before,
  *::after {
    will-change: auto !important;
  }

  /* 关键元素使用硬件加速 */
  .mobile-menu,
  .modal-overlay,
  .modal-container,
  .back-to-top-button {
    will-change: transform, opacity !important;
    transform: translateZ(0) !important;
    /* 强制硬件加速 */
  }
}

/* 移动端字体渲染优化 */
@media (max-width: 767px) {
  body {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    text-rendering: optimizeLegibility !important;
  }
}

/* 移动端输入框样式防止缩放 */
@media (max-width: 767px) {

  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="search"],
  input[type="tel"],
  input[type="url"],
  input[type="number"],
  textarea,
  select {
    font-size: 16px !important;
    /* 防止iOS Safari缩放 */
    border-radius: 8px !important;
    /* 统一圆角 */
    min-height: 44px !important;
    /* 触摸友好高度 */
  }
}

/* ===== 移动端响应式设计增强 ===== */

/* ===== 模态弹窗移动端优化样式 ===== */

/* 移动端弹窗容器 */
.modal-container--mobile {
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  max-width: 100% !important;
  border-radius: 16px 16px 0 0 !important;
  margin: 0 !important;
  transform: none !important;
  max-height: 95vh !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important;
}

/* 移动端弹窗遮罩层 */
.modal-overlay--mobile {
  align-items: flex-end !important;
  justify-content: center !important;
  padding: 0 !important;
}

/* 移动端弹窗头部拖拽区域 */
.modal-mobile-header {
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  padding: 12px 0 8px !important;
  cursor: grab !important;
  touch-action: manipulation !important;
  -webkit-tap-highlight-color: transparent !important;
}

.modal-mobile-header:active {
  cursor: grabbing !important;
}

/* 拖拽指示器 */
.modal-drag-indicator {
  width: 36px !important;
  height: 4px !important;
  background: rgba(255, 255, 255, 0.3) !important;
  border-radius: 2px !important;
  transition: background-color 0.2s ease !important;
}

.modal-mobile-header:hover .modal-drag-indicator {
  background: rgba(255, 255, 255, 0.5) !important;
}

/* 移动端弹窗头部优化 */
.modal-header--mobile {
  padding: 16px 20px 12px !important;
  position: relative !important;
}

/* 移动端关闭按钮优化 */
.modal-close--mobile {
  min-width: 44px !important;
  min-height: 44px !important;
  padding: 12px !important;
  border-radius: 12px !important;
  background: rgba(255, 255, 255, 0.1) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  transition: all 0.2s ease !important;
  touch-action: manipulation !important;
  -webkit-tap-highlight-color: transparent !important;
}

.modal-close--mobile:hover {
  background: rgba(255, 255, 255, 0.15) !important;
  border-color: rgba(255, 255, 255, 0.25) !important;
}

.modal-close--mobile:active {
  transform: scale(0.95) !important;
  background: rgba(255, 255, 255, 0.2) !important;
}

/* 移动端标题优化 */
.modal-title--mobile {
  font-size: 24px !important;
  line-height: 30px !important;
  margin-bottom: 8px !important;
  text-align: center !important;
  padding-right: 54px !important;
  /* 为关闭按钮留出空间 */
}

.modal-subtitle--mobile {
  font-size: 14px !important;
  line-height: 20px !important;
  text-align: center !important;
  padding-right: 54px !important;
  /* 为关闭按钮留出空间 */
}

/* 移动端弹窗内容区域优化 */
.modal-body--mobile {
  padding: 12px 20px 32px !important;
  flex: 1 !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important;
}

/* 移动端弹窗动画优化 */
@media (max-width: 767px) {
  @keyframes modalEnter {
    from {
      opacity: 0;
      transform: translateY(100%);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes modalExit {
    from {
      opacity: 1;
      transform: translateY(0);
    }

    to {
      opacity: 0;
      transform: translateY(100%);
    }
  }

  /* 移动端弹窗特殊布局 */
  .modal-container--mobile {
    animation: modalEnter 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  }

  /* 移动端表单元素优化 */
  .modal-body--mobile input,
  .modal-body--mobile textarea,
  .modal-body--mobile select {
    font-size: 16px !important;
    /* 防止iOS缩放 */
    min-height: 48px !important;
    padding: 12px 16px !important;
    border-radius: 12px !important;
    touch-action: manipulation !important;
  }

  .modal-body--mobile button {
    min-height: 48px !important;
    padding: 12px 20px !important;
    font-size: 16px !important;
    border-radius: 12px !important;
    touch-action: manipulation !important;
    -webkit-tap-highlight-color: transparent !important;
  }

  .modal-body--mobile .btn {
    min-height: 48px !important;
    padding: 12px 20px !important;
    font-size: 16px !important;
    font-weight: 600 !important;
  }

  /* 移动端弹窗按钮组优化 */
  .modal-body--mobile .button-group {
    flex-direction: column !important;
    gap: 12px !important;
    margin-top: 24px !important;
  }

  .modal-body--mobile .button-group button {
    width: 100% !important;
  }
}

/* 移动端触摸设备优化 */
@media (hover: none) and (pointer: coarse) {
  .modal-close--mobile:active {
    transform: scale(0.9) !important;
    transition: transform 0.1s ease !important;
  }

  .modal-body--mobile button:active,
  .modal-body--mobile .btn:active {
    transform: scale(0.98) !important;
    transition: transform 0.1s ease !important;
  }
}

/* 移动端全屏弹窗样式 */
.modal-container--mobile.modal-container--fullscreen {
  border-radius: 0 !important;
  height: 100vh !important;
  max-height: 100vh !important;
  top: 0 !important;
  bottom: 0 !important;
}

.modal-container--fullscreen .modal-mobile-header {
  display: none !important;
}

.modal-container--fullscreen .modal-header--mobile {
  padding-top: 20px !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* 移动端小屏幕优化 (480px及以下) */
@media (max-width: 480px) {
  .modal-header--mobile {
    padding: 12px 16px 8px !important;
  }

  .modal-body--mobile {
    padding: 8px 16px 24px !important;
  }

  .modal-title--mobile {
    font-size: 20px !important;
    line-height: 26px !important;
    padding-right: 48px !important;
  }

  .modal-subtitle--mobile {
    font-size: 13px !important;
    line-height: 18px !important;
    padding-right: 48px !important;
  }

  .modal-close--mobile {
    min-width: 40px !important;
    min-height: 40px !important;
    padding: 10px !important;
  }
}

/* 移动端横屏优化 */
@media (max-width: 767px) and (orientation: landscape) {
  .modal-container--mobile {
    max-height: 90vh !important;
  }

  .modal-body--mobile {
    max-height: 60vh !important;
  }
}

/* 移动端Dark Mode优化 */
@media (prefers-color-scheme: dark) and (max-width: 767px) {
  .modal-drag-indicator {
    background: rgba(255, 255, 255, 0.4) !important;
  }

  .modal-close--mobile {
    background: rgba(255, 255, 255, 0.15) !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
  }
}

/* ===== 模态弹窗样式 ===== */