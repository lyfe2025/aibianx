{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Button/GradientButton.tsx"],"sourcesContent":["'use client'\n\nimport { ButtonHTMLAttributes, forwardRef } from 'react'\n\ninterface GradientButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n    children: React.ReactNode\n    variant?: 'primary' | 'outline'\n    size?: 'sm' | 'md' | 'lg'\n    fullWidth?: boolean\n    loading?: boolean\n    className?: string\n}\n\nexport const GradientButton = forwardRef<HTMLButtonElement, GradientButtonProps>(\n    ({\n        children,\n        variant = 'primary',\n        size = 'md',\n        fullWidth = false,\n        loading = false,\n        className = '',\n        disabled,\n        ...props\n    }, ref) => {\n        const buttonClasses = [\n            'btn',\n            `btn--${size}`,\n            variant === 'primary' ? 'btn--gradient' : 'btn--outline',\n            fullWidth && 'w-full',\n            className\n        ].filter(Boolean).join(' ')\n\n        const isDisabled = disabled || loading\n\n        return (\n            <button\n                ref={ref}\n                className={buttonClasses}\n                disabled={isDisabled}\n                {...props}\n            >\n                {loading && (\n                    <span className=\"loading-spinner\" style={{ marginRight: 'var(--spacing-2)' }} />\n                )}\n                {children}\n            </button>\n        )\n    }\n)\n\nGradientButton.displayName = 'GradientButton' "],"names":[],"mappings":";;;;AAEA;AAFA;;;AAaO,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EACnC,CAAC,EACG,QAAQ,EACR,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,YAAY,KAAK,EACjB,UAAU,KAAK,EACf,YAAY,EAAE,EACd,QAAQ,EACR,GAAG,OACN,EAAE;IACC,MAAM,gBAAgB;QAClB;QACA,CAAC,KAAK,EAAE,MAAM;QACd,YAAY,YAAY,kBAAkB;QAC1C,aAAa;QACb;KACH,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;IAEvB,MAAM,aAAa,YAAY;IAE/B,qBACI,8OAAC;QACG,KAAK;QACL,WAAW;QACX,UAAU;QACT,GAAG,KAAK;;YAER,yBACG,8OAAC;gBAAK,WAAU;gBAAkB,OAAO;oBAAE,aAAa;gBAAmB;;;;;;YAE9E;;;;;;;AAGb;AAGJ,eAAe,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Text/GradientText.tsx"],"sourcesContent":["'use client'\n\nimport { type ReactNode, type ElementType, type CSSProperties, type HTMLAttributes } from 'react'\n\nexport interface GradientTextProps extends HTMLAttributes<HTMLElement> {\n    children: ReactNode\n    as?: ElementType\n    size?: 'xs' | 'sm' | 'base' | 'lg' | 'xl' | '2xl' | '3xl' | '4xl' | '5xl' | '6xl' | '7xl' | '8xl'\n    weight?: 'normal' | 'medium' | 'semibold' | 'bold'\n    className?: string\n    style?: CSSProperties\n}\n\nexport const GradientText = ({\n    children,\n    as: Component = 'span',\n    size = 'base',\n    weight = 'normal',\n    className = '',\n    style,\n    ...props\n}: GradientTextProps) => {\n    // 字体大小映射\n    const fontSizeMap = {\n        'xs': 'var(--font-size-xs)',\n        'sm': 'var(--font-size-sm)',\n        'base': 'var(--font-size-base)',\n        'lg': 'var(--font-size-lg)',\n        'xl': 'var(--font-size-xl)',\n        '2xl': 'var(--font-size-2xl)',\n        '3xl': 'var(--font-size-3xl)',\n        '4xl': 'var(--font-size-4xl)',\n        '5xl': 'var(--font-size-5xl)',\n        '6xl': 'var(--font-size-6xl)',\n        '7xl': 'var(--font-size-7xl)',\n        '8xl': 'var(--font-size-8xl)'\n    }\n\n    // 字体粗细映射\n    const fontWeightMap = {\n        'normal': '400',\n        'medium': '500',\n        'semibold': '600',\n        'bold': '700'\n    }\n\n    const combinedStyle = {\n        fontSize: fontSizeMap[size],\n        fontWeight: fontWeightMap[weight],\n        ...style\n    }\n\n    const classes = [\n        'gradient-text',\n        className\n    ].filter(Boolean).join(' ')\n\n    return (\n        <Component className={classes} style={combinedStyle} {...props}>\n            {children}\n        </Component>\n    )\n} "],"names":[],"mappings":";;;;AAAA;;AAaO,MAAM,eAAe,CAAC,EACzB,QAAQ,EACR,IAAI,YAAY,MAAM,EACtB,OAAO,MAAM,EACb,SAAS,QAAQ,EACjB,YAAY,EAAE,EACd,KAAK,EACL,GAAG,OACa;IAChB,SAAS;IACT,MAAM,cAAc;QAChB,MAAM;QACN,MAAM;QACN,QAAQ;QACR,MAAM;QACN,MAAM;QACN,OAAO;QACP,OAAO;QACP,OAAO;QACP,OAAO;QACP,OAAO;QACP,OAAO;QACP,OAAO;IACX;IAEA,SAAS;IACT,MAAM,gBAAgB;QAClB,UAAU;QACV,UAAU;QACV,YAAY;QACZ,QAAQ;IACZ;IAEA,MAAM,gBAAgB;QAClB,UAAU,WAAW,CAAC,KAAK;QAC3B,YAAY,aAAa,CAAC,OAAO;QACjC,GAAG,KAAK;IACZ;IAEA,MAAM,UAAU;QACZ;QACA;KACH,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;IAEvB,qBACI,8OAAC;QAAU,WAAW;QAAS,OAAO;QAAgB,GAAG,KAAK;kBACzD;;;;;;AAGb","debugId":null}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Input/Input.tsx"],"sourcesContent":["'use client'\n\nimport { forwardRef, type InputHTMLAttributes, type ReactNode } from 'react'\n\nexport interface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n    label?: string\n    error?: string\n    helperText?: string\n    icon?: ReactNode | string  // 支持ReactNode或icon名称字符串\n    rightIcon?: ReactNode      // 新增：右侧图标支持\n    className?: string\n    fullWidth?: boolean\n}\n\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\n    ({\n        label,\n        error,\n        helperText,\n        icon,\n        rightIcon,\n        className = '',\n        fullWidth = true,\n        ...props\n    }, ref) => {\n        const hasLeftIcon = !!icon\n        const hasRightIcon = !!rightIcon\n\n        // 如果icon是字符串，渲染为Icon组件（需要时）\n        const renderIcon = (iconProp: ReactNode | string, position: 'left' | 'right') => {\n            if (!iconProp) return null\n\n            // 如果是字符串，可以在这里渲染为Icon组件\n            // 为了简化，现在直接渲染ReactNode\n            return (\n                <div\n                    className={`input-icon input-icon--${position}`}\n                    style={{\n                        position: 'absolute',\n                        [position]: '16px',\n                        top: '50%',\n                        transform: 'translateY(-50%)',\n                        color: 'var(--color-text-muted)',\n                        zIndex: 1,\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }}\n                >\n                    {iconProp}\n                </div>\n            )\n        }\n\n        const inputPaddingLeft = hasLeftIcon ? '48px' : '16px'\n        const inputPaddingRight = hasRightIcon ? '48px' : '16px'\n\n        return (\n            <div\n                className=\"input-wrapper\"\n                style={{\n                    width: fullWidth ? '100%' : 'auto',\n                    marginBottom: 'var(--spacing-1)'\n                }}\n            >\n                {label && (\n                    <label\n                        className=\"input-label\"\n                        style={{\n                            display: 'block',\n                            color: 'var(--color-text-secondary)',\n                            fontSize: 'var(--font-size-sm)',\n                            fontWeight: '500',\n                            marginBottom: 'var(--spacing-2)'\n                        }}\n                    >\n                        {label}\n                    </label>\n                )}\n\n                <div\n                    className=\"input-container\"\n                    style={{\n                        position: 'relative',\n                        width: '100%'\n                    }}\n                >\n                    {renderIcon(icon, 'left')}\n\n                    <input\n                        ref={ref}\n                        className={`input ${error ? 'input--error' : ''} ${className}`}\n                        style={{\n                            width: '100%',\n                            height: '48px',\n                            padding: `0 ${inputPaddingRight} 0 ${inputPaddingLeft}`,\n                            background: 'var(--color-bg-input)',\n                            border: `1px solid ${error ? '#EF4444' : 'var(--color-border-primary)'}`,\n                            borderRadius: 'var(--radius-lg)',\n                            color: 'var(--color-text-primary)',\n                            fontSize: 'var(--font-size-base)',\n                            outline: 'none',\n                            transition: 'all 0.2s ease',\n                            backdropFilter: 'blur(12px)',\n                            WebkitBackdropFilter: 'blur(12px)'\n                        }}\n                        onFocus={(e) => {\n                            if (!error) {\n                                e.target.style.borderColor = 'var(--color-border-active)'\n                                e.target.style.boxShadow = '0 0 0 2px rgba(59, 130, 246, 0.1)'\n                            }\n                            // 如果原有props有onFocus，也要调用\n                            if (props.onFocus) {\n                                props.onFocus(e)\n                            }\n                        }}\n                        onBlur={(e) => {\n                            e.target.style.borderColor = error ? '#EF4444' : 'var(--color-border-primary)'\n                            e.target.style.boxShadow = 'none'\n                            // 如果原有props有onBlur，也要调用\n                            if (props.onBlur) {\n                                props.onBlur(e)\n                            }\n                        }}\n                        {...props}\n                    />\n\n                    {renderIcon(rightIcon, 'right')}\n                </div>\n\n                {error && (\n                    <span\n                        className=\"input-error\"\n                        style={{\n                            display: 'block',\n                            color: 'var(--color-error)',\n                            fontSize: 'var(--font-size-xs)',\n                            marginTop: 'var(--spacing-1)'\n                        }}\n                    >\n                        {error}\n                    </span>\n                )}\n\n                {helperText && !error && (\n                    <span\n                        className=\"input-helper\"\n                        style={{\n                            display: 'block',\n                            color: 'var(--color-text-muted)',\n                            fontSize: 'var(--font-size-xs)',\n                            marginTop: 'var(--spacing-1)'\n                        }}\n                    >\n                        {helperText}\n                    </span>\n                )}\n            </div>\n        )\n    }\n)\n\nInput.displayName = 'Input' "],"names":[],"mappings":";;;;AAEA;AAFA;;;AAcO,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAC1B,CAAC,EACG,KAAK,EACL,KAAK,EACL,UAAU,EACV,IAAI,EACJ,SAAS,EACT,YAAY,EAAE,EACd,YAAY,IAAI,EAChB,GAAG,OACN,EAAE;IACC,MAAM,cAAc,CAAC,CAAC;IACtB,MAAM,eAAe,CAAC,CAAC;IAEvB,4BAA4B;IAC5B,MAAM,aAAa,CAAC,UAA8B;QAC9C,IAAI,CAAC,UAAU,OAAO;QAEtB,wBAAwB;QACxB,uBAAuB;QACvB,qBACI,8OAAC;YACG,WAAW,CAAC,uBAAuB,EAAE,UAAU;YAC/C,OAAO;gBACH,UAAU;gBACV,CAAC,SAAS,EAAE;gBACZ,KAAK;gBACL,WAAW;gBACX,OAAO;gBACP,QAAQ;gBACR,SAAS;gBACT,YAAY;gBACZ,gBAAgB;YACpB;sBAEC;;;;;;IAGb;IAEA,MAAM,mBAAmB,cAAc,SAAS;IAChD,MAAM,oBAAoB,eAAe,SAAS;IAElD,qBACI,8OAAC;QACG,WAAU;QACV,OAAO;YACH,OAAO,YAAY,SAAS;YAC5B,cAAc;QAClB;;YAEC,uBACG,8OAAC;gBACG,WAAU;gBACV,OAAO;oBACH,SAAS;oBACT,OAAO;oBACP,UAAU;oBACV,YAAY;oBACZ,cAAc;gBAClB;0BAEC;;;;;;0BAIT,8OAAC;gBACG,WAAU;gBACV,OAAO;oBACH,UAAU;oBACV,OAAO;gBACX;;oBAEC,WAAW,MAAM;kCAElB,8OAAC;wBACG,KAAK;wBACL,WAAW,CAAC,MAAM,EAAE,QAAQ,iBAAiB,GAAG,CAAC,EAAE,WAAW;wBAC9D,OAAO;4BACH,OAAO;4BACP,QAAQ;4BACR,SAAS,CAAC,EAAE,EAAE,kBAAkB,GAAG,EAAE,kBAAkB;4BACvD,YAAY;4BACZ,QAAQ,CAAC,UAAU,EAAE,QAAQ,YAAY,+BAA+B;4BACxE,cAAc;4BACd,OAAO;4BACP,UAAU;4BACV,SAAS;4BACT,YAAY;4BACZ,gBAAgB;4BAChB,sBAAsB;wBAC1B;wBACA,SAAS,CAAC;4BACN,IAAI,CAAC,OAAO;gCACR,EAAE,MAAM,CAAC,KAAK,CAAC,WAAW,GAAG;gCAC7B,EAAE,MAAM,CAAC,KAAK,CAAC,SAAS,GAAG;4BAC/B;4BACA,yBAAyB;4BACzB,IAAI,MAAM,OAAO,EAAE;gCACf,MAAM,OAAO,CAAC;4BAClB;wBACJ;wBACA,QAAQ,CAAC;4BACL,EAAE,MAAM,CAAC,KAAK,CAAC,WAAW,GAAG,QAAQ,YAAY;4BACjD,EAAE,MAAM,CAAC,KAAK,CAAC,SAAS,GAAG;4BAC3B,wBAAwB;4BACxB,IAAI,MAAM,MAAM,EAAE;gCACd,MAAM,MAAM,CAAC;4BACjB;wBACJ;wBACC,GAAG,KAAK;;;;;;oBAGZ,WAAW,WAAW;;;;;;;YAG1B,uBACG,8OAAC;gBACG,WAAU;gBACV,OAAO;oBACH,SAAS;oBACT,OAAO;oBACP,UAAU;oBACV,WAAW;gBACf;0BAEC;;;;;;YAIR,cAAc,CAAC,uBACZ,8OAAC;gBACG,WAAU;gBACV,OAAO;oBACH,SAAS;oBACT,OAAO;oBACP,UAAU;oBACV,WAAW;gBACf;0BAEC;;;;;;;;;;;;AAKrB;AAGJ,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Card/GlassCard.tsx"],"sourcesContent":["'use client'\n\nimport { type ReactNode, type HTMLAttributes } from 'react'\n\nexport interface GlassCardProps extends HTMLAttributes<HTMLDivElement> {\n    children: ReactNode\n    variant?: 'default' | 'hover' | 'active'\n    padding?: 'sm' | 'md' | 'lg' | 'xl'\n    className?: string\n}\n\nexport const GlassCard = ({\n    children,\n    variant = 'default',\n    padding = 'md',\n    className = '',\n    ...props\n}: GlassCardProps) => {\n    const baseClass = 'glass-card'\n    const paddingClass = `p-${padding === 'sm' ? '4' : padding === 'md' ? '6' : padding === 'lg' ? '8' : '10'}`\n\n    const variantStyles: Record<string, string> = {\n        default: '',\n        hover: 'glass-card--hover',\n        active: 'glass-card--active'\n    }\n\n    const classes = [\n        baseClass,\n        variantStyles[variant],\n        paddingClass,\n        className\n    ].filter(Boolean).join(' ')\n\n    return (\n        <div className={classes} {...props}>\n            {children}\n        </div>\n    )\n} "],"names":[],"mappings":";;;;AAAA;;AAWO,MAAM,YAAY,CAAC,EACtB,QAAQ,EACR,UAAU,SAAS,EACnB,UAAU,IAAI,EACd,YAAY,EAAE,EACd,GAAG,OACU;IACb,MAAM,YAAY;IAClB,MAAM,eAAe,CAAC,EAAE,EAAE,YAAY,OAAO,MAAM,YAAY,OAAO,MAAM,YAAY,OAAO,MAAM,MAAM;IAE3G,MAAM,gBAAwC;QAC1C,SAAS;QACT,OAAO;QACP,QAAQ;IACZ;IAEA,MAAM,UAAU;QACZ;QACA,aAAa,CAAC,QAAQ;QACtB;QACA;KACH,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;IAEvB,qBACI,8OAAC;QAAI,WAAW;QAAU,GAAG,KAAK;kBAC7B;;;;;;AAGb","debugId":null}},
    {"offset": {"line": 294, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Icon/Icon.tsx"],"sourcesContent":["'use client'\n\nimport Image from 'next/image'\nimport { type HTMLAttributes, useEffect, useState, useCallback } from 'react'\n\nexport interface IconProps extends Omit<HTMLAttributes<HTMLDivElement>, 'size'> {\n    name: string\n    size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl'\n    className?: string\n    preserveColor?: boolean // 是否保持图标原色，不应用颜色filter。适用于品牌logo、应用图标等已有完整设计的图标\n}\n\n// 图标路径映射 - 解决子目录问题\nconst iconPathMap: Record<string, string> = {\n    // 弹窗相关图标 (modals目录)\n    'close-button': 'modals/close-button',\n    'close-button-login': 'modals/close-button-login',\n    'close-button-forgot': 'modals/close-button-forgot',\n    'email-icon': 'modals/email-icon',\n    'email-icon-forgot': 'modals/email-icon-forgot',\n    'email-username-icon': 'modals/email-username-icon',\n    'username-icon': 'modals/username-icon',\n    'password-icon': 'modals/password-icon',\n    'password-icon-login': 'modals/password-icon-login',\n    'password-eye-icon': 'modals/password-eye-icon',\n    'password-eye-login': 'modals/password-eye-login',\n    'password-strength': 'modals/password-strength',\n    'github-icon': 'modals/github-icon',\n    'github-icon-login': 'modals/github-icon-login',\n    'secure-payment': 'modals/secure-payment',\n    'help-icon': 'modals/help-icon',\n    'member-check-icon': 'modals/member-check-icon',\n    'remember-me-checkbox': 'modals/remember-me-checkbox',\n    'checkbox-icon': 'modals/checkbox-icon',\n    'divider-line': 'modals/divider-line',\n    'divider-line-login': 'modals/divider-line-login',\n    'arrow-separator': 'modals/arrow-separator',\n    'countdown-separator': 'modals/countdown-separator',\n\n    // 支付相关图标 (payments目录)\n    'payment-selected': 'payments/payment-selected',\n    'wechat-pay-icon': 'payments/wechat-pay-icon',\n    'alipay-icon': 'payments/alipay-icon',\n    'unionpay-icon': 'payments/unionpay-icon',\n\n    // 订阅相关图标 - 映射到根目录实际存在的文件\n    'subscription/renew-arrow': 'arrow-right',\n    'subscription/payment-manage': 'settings-icon',\n    'subscription/member-privilege': 'privilege-icon',\n    'subscription/arrow-right': 'arrow-right',\n    'subscription/view-all-arrow': 'arrow-right',\n    'subscription/invite-guide': 'strategy-icon',\n    'subscription/withdraw-record': 'record-icon',\n    'subscription/invite-code': 'invite-code-icon',\n    'subscription/copy-icon': 'copy-icon',\n    'subscription/invited-users': 'invited-count-icon',\n    'subscription/pending-users': 'pending-activation-icon',\n    'subscription/commission-amount': 'commission-icon',\n    'subscription/copy-invite-link': 'copy-icon',\n    'subscription/generate-poster': 'resources-icon',\n    'subscription/cash-reward': 'commission-icon',\n    'subscription/membership-reward': 'privilege-icon',\n    'subscription/reward-rules': 'strategy-icon',\n\n    // 侧边栏图标 - 直接映射到根目录\n    'profile-sidebar-home': 'profile-sidebar-home',\n    'profile-sidebar-center': 'profile-sidebar-center',\n    'profile-sidebar-bookmark': 'profile-sidebar-bookmark',\n    'profile-sidebar-subscription': 'profile-sidebar-subscription',\n    'profile-sidebar-settings': 'profile-sidebar-settings',\n    'profile-sidebar-logout': 'profile-sidebar-logout',\n\n    // 根目录常用图标直接映射\n    'invited-count-icon': 'invited-count-icon',\n    'pending-activation-icon': 'pending-activation-icon',\n    'commission-icon': 'commission-icon',\n    'invite-code-icon': 'invite-code-icon',\n    'copy-icon': 'copy-icon',\n    'strategy-icon': 'strategy-icon',\n    'record-icon': 'record-icon',\n    'resources-icon': 'resources-icon',\n    'user-icon': 'user-icon',\n    'search-icon': 'search-icon',\n    'renew-icon': 'renew-icon',\n    'privilege-icon': 'privilege-icon',\n    'privilege-arrow': 'privilege-arrow',\n    'arrow-right-blue': 'arrow-right-blue',\n\n    // 多语言相关图标\n    'globe': 'globe', // 地球图标，用于多语言切换\n}\n\nexport const Icon = ({\n    name,\n    size = 'md',\n    className = '',\n    preserveColor = false,\n    ...props\n}: IconProps) => {\n    // SSR兼容：确保服务端和客户端初始状态一致\n    const [isClient, setIsClient] = useState(false)\n    const [dynamicStyles, setDynamicStyles] = useState<React.CSSProperties>({})\n\n    const sizeMap = {\n        xs: 12,\n        sm: 16,\n        md: 20,\n        lg: 24,\n        xl: 32\n    }\n\n    // 从style中提取width和height，如果存在则优先使用\n    const parseSize = (size: string | number | undefined): number | null => {\n        if (!size) return null\n        if (typeof size === 'number') return size\n        // 提取数字部分，如 \"24px\" -> 24\n        const match = String(size).match(/(\\d+)/)\n        return match ? parseInt(match[1]) : null\n    }\n\n    const customWidth = parseSize(props.style?.width)\n    const customHeight = parseSize(props.style?.height)\n\n    const iconWidth = customWidth || sizeMap[size]\n    const iconHeight = customHeight || sizeMap[size]\n\n    // 获取图标路径，优先使用映射，否则使用根目录\n    const iconPath = iconPathMap[name] ? `icons/${iconPathMap[name]}.svg` : `icons/${name}.svg`\n\n    // 自动识别需要保持原色的图标\n    const shouldPreserveColor = preserveColor ||\n        name.includes('logo') ||\n        name.includes('app-icon') ||\n        name.includes('brand') ||\n        name.startsWith('logo-') ||\n        name.endsWith('-logo') ||\n        name.includes('-app-') ||\n        name.includes('application') ||\n        name.includes('favicon') ||\n        // 某些已经有完整设计的图标也保持原色\n        name === 'membership-crown-design' ||\n        name === 'membership-premium' ||\n        name === 'privilege-icon' ||\n        name === 'crown-white' ||\n        name === 'crown-premium-white' ||\n        // profile-sidebar图标已改为currentColor，不需要filter处理\n        name === 'profile-sidebar-settings' ||\n        name === 'profile-sidebar-logout' ||\n        // 应用类型的图标（通常有深色背景和白色图标内容）\n        name.includes('article-stat') ||\n        name.includes('tutorial-stat') ||\n        name.includes('ai-tool-stat') ||\n        name.includes('case-stat') ||\n        // 其他可能有完整设计的图标\n        name.includes('-stat-') ||\n        name.endsWith('-stat') ||\n        name.includes('app-') ||\n        name.includes('-brand')\n\n    // 计算filter样式的函数\n    const calculateFilterStyle = useCallback((colorValue: string | number, theme: string): React.CSSProperties => {\n        const getDynamicColorMap = (): Record<string, string> => {\n            if (theme === 'light') {\n                // 亮色模式的颜色映射\n                return {\n                    'var(--color-text-primary)': 'brightness(0) saturate(100%) invert(16%) sepia(15%) saturate(1142%) hue-rotate(202deg) brightness(93%) contrast(90%)', // #1E293B\n                    'var(--color-text-secondary)': 'brightness(0) saturate(100%) invert(31%) sepia(15%) saturate(549%) hue-rotate(202deg) brightness(95%) contrast(89%)', // #475569\n                    'var(--color-text-muted)': 'brightness(0) saturate(100%) invert(45%) sepia(13%) saturate(692%) hue-rotate(202deg) brightness(91%) contrast(87%)', // #64748B\n                    'var(--color-text-disabled)': 'brightness(0) saturate(100%) invert(46%) sepia(7%) saturate(442%) hue-rotate(202deg) brightness(91%) contrast(84%)', // #6B7280\n                    'var(--color-primary-blue)': 'brightness(0) saturate(100%) invert(44%) sepia(78%) saturate(2601%) hue-rotate(214deg) brightness(97%) contrast(94%)', // #3B82F6\n                    'var(--color-warning)': 'brightness(0) saturate(100%) invert(70%) sepia(98%) saturate(1159%) hue-rotate(8deg) brightness(98%) contrast(93%)', // #F59E0B\n                    'var(--color-bg-primary)': '', // 特殊处理\n                }\n            } else {\n                // 暗色模式的颜色映射\n                return {\n                    'var(--color-text-primary)': 'brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(7500%) hue-rotate(109deg) brightness(105%) contrast(105%)', // #FFFFFF\n                    'var(--color-text-secondary)': 'brightness(0) saturate(100%) invert(73%) sepia(8%) saturate(348%) hue-rotate(202deg) brightness(91%) contrast(87%)', // #D1D5DB\n                    'var(--color-text-muted)': 'brightness(0) saturate(100%) invert(64%) sepia(8%) saturate(645%) hue-rotate(202deg) brightness(92%) contrast(84%)', // #9CA3AF\n                    'var(--color-text-disabled)': 'brightness(0) saturate(100%) invert(46%) sepia(7%) saturate(442%) hue-rotate(202deg) brightness(91%) contrast(84%)', // #6B7280\n                    'var(--color-primary-blue)': 'brightness(0) saturate(100%) invert(44%) sepia(78%) saturate(2601%) hue-rotate(214deg) brightness(97%) contrast(94%)', // #3B82F6\n                    'var(--color-warning)': 'brightness(0) saturate(100%) invert(70%) sepia(98%) saturate(1159%) hue-rotate(8deg) brightness(98%) contrast(93%)', // #F59E0B\n                    'var(--color-bg-primary)': '', // 特殊处理\n                }\n            }\n        }\n\n        const colorMap = getDynamicColorMap()\n        const colorString = String(colorValue)\n\n        // 如果匹配到CSS变量，返回对应的filter\n        if (colorMap[colorString]) {\n            return { filter: colorMap[colorString] }\n        }\n\n        // 如果不是预定义的CSS变量，保持原样\n        return {}\n    }, [])\n\n    // SSR兼容的客户端状态检测\n    useEffect(() => {\n        setIsClient(true)\n    }, [])\n\n    // 单独处理动态样式\n    useEffect(() => {\n        if (isClient && typeof window !== 'undefined') {\n            // 客户端水合后计算动态样式\n            const theme = document.documentElement.getAttribute('data-theme') || 'dark'\n            const hasColor = props.style?.color\n\n            if (hasColor && !shouldPreserveColor) {\n                const filterStyle = calculateFilterStyle(hasColor, theme)\n                setDynamicStyles(filterStyle)\n            }\n\n            // 监听主题变化\n            const observer = new MutationObserver((mutations) => {\n                mutations.forEach((mutation) => {\n                    if (mutation.type === 'attributes' && mutation.attributeName === 'data-theme') {\n                        const newTheme = document.documentElement.getAttribute('data-theme') || 'dark'\n                        if (hasColor && !shouldPreserveColor) {\n                            const filterStyle = calculateFilterStyle(hasColor, newTheme)\n                            setDynamicStyles(filterStyle)\n                        }\n                    }\n                })\n            })\n\n            observer.observe(document.documentElement, {\n                attributes: true,\n                attributeFilter: ['data-theme']\n            })\n\n            return () => observer.disconnect()\n        }\n    }, [isClient, props.style?.color, shouldPreserveColor])\n\n    // 始终渲染真正的图标，避免SSR水合问题\n    return (\n        <span\n            className={`icon icon--${size} ${className}`}\n            style={{ display: 'inline-block', lineHeight: 0, ...props.style }}\n            {...props}\n        >\n            <Image\n                src={`/${iconPath}`}\n                alt={name}\n                width={iconWidth}\n                height={iconHeight}\n                style={{ display: 'block', ...dynamicStyles }}\n            />\n        </span>\n    )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/CrownIcon/CrownIcon.tsx"],"sourcesContent":["'use client'\n\nimport { type CSSProperties } from 'react'\n\ninterface CrownIconProps {\n    size?: 'xs' | 'sm' | 'md' | 'lg'\n    className?: string\n    style?: CSSProperties\n}\n\nexport const CrownIcon = ({\n    size = 'xs',\n    className = '',\n    style = {}\n}: CrownIconProps) => {\n    // 尺寸映射 - 匹配StarIcon的尺寸系统\n    const sizeMap = {\n        xs: { width: 12, height: 12 }, // 匹配 --font-size-xs (12px)\n        sm: { width: 14, height: 14 }, // 匹配 --font-size-sm (14px)\n        md: { width: 16, height: 16 }, // 匹配 --font-size-base (16px)\n        lg: { width: 20, height: 20 }  // 匹配 --font-size-lg (20px)\n    }\n\n    const { width, height } = sizeMap[size]\n\n    // 重要：图标组件不设置颜色，完全继承父元素的文字颜色\n    return (\n        <span\n            className={`crown-icon crown-icon--${size} ${className}`}\n            style={{\n                display: 'inline-block',\n                flexShrink: 0,\n                transition: 'all 0.2s ease',\n                filter: 'drop-shadow(0 1px 2px rgba(0, 0, 0, 0.15))',\n                width,\n                height,\n                lineHeight: 0,\n                verticalAlign: 'middle', // 与文字基线对齐\n                // 不设置任何颜色，完全继承父元素\n                ...style\n            }}\n        >\n            <svg\n                width={width}\n                height={height}\n                viewBox=\"0 0 20 20\"\n                fill=\"#F59E0B\" // 直接强制设置金橙色\n                xmlns=\"http://www.w3.org/2000/svg\"\n                style={{ \n                    display: 'block', \n                    color: '#F59E0B',\n                    fill: '#F59E0B'\n                }}\n            >\n                <path\n                    d=\"M0 14.1667L16.6667 14.1667L16.6667 15.8333L0 15.8333L0 14.1667ZM0 2.5L4.16667 5L8.33335 0L12.5 5L16.6667 2.5L16.6667 12.5L0 12.5L0 2.5Z\"\n                    fillRule=\"nonzero\"\n                    transform=\"matrix(1 0 0 1 1.67073 1.66667)\"\n                />\n            </svg>\n        </span>\n    )\n} "],"names":[],"mappings":";;;;AAAA;;AAUO,MAAM,YAAY,CAAC,EACtB,OAAO,IAAI,EACX,YAAY,EAAE,EACd,QAAQ,CAAC,CAAC,EACG;IACb,yBAAyB;IACzB,MAAM,UAAU;QACZ,IAAI;YAAE,OAAO;YAAI,QAAQ;QAAG;QAC5B,IAAI;YAAE,OAAO;YAAI,QAAQ;QAAG;QAC5B,IAAI;YAAE,OAAO;YAAI,QAAQ;QAAG;QAC5B,IAAI;YAAE,OAAO;YAAI,QAAQ;QAAG,EAAG,2BAA2B;IAC9D;IAEA,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC,KAAK;IAEvC,4BAA4B;IAC5B,qBACI,8OAAC;QACG,WAAW,CAAC,uBAAuB,EAAE,KAAK,CAAC,EAAE,WAAW;QACxD,OAAO;YACH,SAAS;YACT,YAAY;YACZ,YAAY;YACZ,QAAQ;YACR;YACA;YACA,YAAY;YACZ,eAAe;YACf,kBAAkB;YAClB,GAAG,KAAK;QACZ;kBAEA,cAAA,8OAAC;YACG,OAAO;YACP,QAAQ;YACR,SAAQ;YACR,MAAK;YACL,OAAM;YACN,OAAO;gBACH,SAAS;gBACT,OAAO;gBACP,MAAM;YACV;sBAEA,cAAA,8OAAC;gBACG,GAAE;gBACF,UAAS;gBACT,WAAU;;;;;;;;;;;;;;;;AAK9B","debugId":null}},
    {"offset": {"line": 570, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/StarIcon/StarIcon.tsx"],"sourcesContent":["'use client'\n\nimport { type CSSProperties } from 'react'\n\ninterface StarIconProps {\n    size?: 'xs' | 'sm' | 'md' | 'lg'\n    className?: string\n    style?: CSSProperties\n}\n\nexport const StarIcon = ({\n    size = 'xs',\n    className = '',\n    style = {}\n}: StarIconProps) => {\n    // 尺寸映射 - 调整以匹配对应字体大小\n    const sizeMap = {\n        xs: { width: 12, height: 12 }, // 匹配 --font-size-xs (12px)\n        sm: { width: 14, height: 14 }, // 匹配 --font-size-sm (14px)\n        md: { width: 16, height: 16 }, // 匹配 --font-size-base (16px)\n        lg: { width: 20, height: 20 }  // 匹配 --font-size-lg (20px)\n    }\n\n    const { width, height } = sizeMap[size]\n\n    // 重要：图标组件不设置颜色，完全继承父元素的文字颜色\n    return (\n        <span\n            className={`star-icon star-icon--${size} ${className}`}\n            style={{\n                display: 'inline-block',\n                flexShrink: 0,\n                transition: 'all 0.2s ease',\n                filter: 'drop-shadow(0 1px 2px rgba(0, 0, 0, 0.15))',\n                width,\n                height,\n                lineHeight: 0,\n                verticalAlign: 'middle', // 与文字基线对齐\n                // 不设置任何颜色，完全继承父元素\n                ...style\n            }}\n        >\n            <svg\n                width={width}\n                height={height}\n                viewBox=\"0 0 20 20\"\n                fill=\"#F59E0B\" // 直接强制设置金橙色\n                xmlns=\"http://www.w3.org/2000/svg\"\n                style={{ \n                    display: 'block', \n                    color: '#F59E0B',\n                    fill: '#F59E0B'\n                }}\n            >\n                <path\n                    d=\"M10 1.25L2.5 1.25C2.15482 1.25 1.86019 1.37204 1.61612 1.61612C1.37204 1.86019 1.25 2.15482 1.25 2.5L1.25 16.875L0.625 16.875L0.209773 16.4079L5.83477 11.4079C5.86314 11.3827 5.89355 11.3602 5.926 11.3405C5.95845 11.3208 5.99242 11.3043 6.02789 11.2908C6.06336 11.2773 6.09976 11.2672 6.13709 11.2603C6.17442 11.2534 6.21205 11.25 6.25 11.25C6.28795 11.25 6.32559 11.2534 6.36291 11.2603C6.40024 11.2672 6.43664 11.2773 6.47211 11.2908C6.50758 11.3043 6.54155 11.3208 6.574 11.3405C6.60645 11.3602 6.63686 11.3827 6.66523 11.4079L12.2902 16.4079L11.875 16.875L11.25 16.875L11.25 2.5C11.25 2.15482 11.128 1.86019 10.8839 1.61612C10.6398 1.37204 10.3452 1.25 10 1.25ZM10 0C10.6903 0 11.2796 0.244078 11.7678 0.732233C12.2559 1.22039 12.5 1.80964 12.5 2.5L12.5 16.875C12.5 16.9515 12.4864 17.0256 12.4592 17.0971C12.432 17.1686 12.393 17.233 12.3421 17.2902C12.3148 17.3209 12.2848 17.3486 12.2521 17.3734C12.2194 17.3981 12.1846 17.4195 12.1477 17.4374C12.1108 17.4553 12.0724 17.4694 12.0327 17.4798C11.993 17.4901 11.9527 17.4965 11.9117 17.4989C11.8708 17.5013 11.83 17.4997 11.7893 17.4941C11.7486 17.4884 11.7089 17.4789 11.6701 17.4655C11.6314 17.452 11.5943 17.4349 11.5589 17.4142C11.5235 17.3934 11.4905 17.3694 11.4598 17.3421L5.83477 12.3421L6.25 11.875L6.66523 12.3421L1.04023 17.3421C0.983024 17.393 0.918652 17.432 0.847113 17.4592C0.775574 17.4864 0.701536 17.5 0.625 17.5C0.583962 17.5 0.543318 17.496 0.503069 17.488C0.462819 17.48 0.423737 17.4681 0.385823 17.4524C0.347909 17.4367 0.311891 17.4175 0.277769 17.3947C0.243647 17.3719 0.212077 17.346 0.183058 17.3169C0.15404 17.2879 0.128131 17.2563 0.105332 17.2222C0.082532 17.1881 0.0632797 17.1521 0.047575 17.1142C0.0318703 17.0763 0.020015 17.0372 0.012009 16.9969C0.00400301 16.9567 0 16.9161 0 16.875L0 2.5C0 1.80964 0.244078 1.22039 0.732233 0.732233C1.22039 0.244078 1.80964 0 2.5 0L10 0Z\"\n                    fillRule=\"nonzero\"\n                    transform=\"matrix(1 0 0 1 3.75 1.25)\"\n                />\n            </svg>\n        </span>\n    )\n}"],"names":[],"mappings":";;;;AAAA;;AAUO,MAAM,WAAW,CAAC,EACrB,OAAO,IAAI,EACX,YAAY,EAAE,EACd,QAAQ,CAAC,CAAC,EACE;IACZ,qBAAqB;IACrB,MAAM,UAAU;QACZ,IAAI;YAAE,OAAO;YAAI,QAAQ;QAAG;QAC5B,IAAI;YAAE,OAAO;YAAI,QAAQ;QAAG;QAC5B,IAAI;YAAE,OAAO;YAAI,QAAQ;QAAG;QAC5B,IAAI;YAAE,OAAO;YAAI,QAAQ;QAAG,EAAG,2BAA2B;IAC9D;IAEA,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC,KAAK;IAEvC,4BAA4B;IAC5B,qBACI,8OAAC;QACG,WAAW,CAAC,qBAAqB,EAAE,KAAK,CAAC,EAAE,WAAW;QACtD,OAAO;YACH,SAAS;YACT,YAAY;YACZ,YAAY;YACZ,QAAQ;YACR;YACA;YACA,YAAY;YACZ,eAAe;YACf,kBAAkB;YAClB,GAAG,KAAK;QACZ;kBAEA,cAAA,8OAAC;YACG,OAAO;YACP,QAAQ;YACR,SAAQ;YACR,MAAK;YACL,OAAM;YACN,OAAO;gBACH,SAAS;gBACT,OAAO;gBACP,MAAM;YACV;sBAEA,cAAA,8OAAC;gBACG,GAAE;gBACF,UAAS;gBACT,WAAU;;;;;;;;;;;;;;;;AAK9B","debugId":null}},
    {"offset": {"line": 647, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Avatar/Avatar.tsx"],"sourcesContent":["'use client'\n\nimport Image from 'next/image'\nimport { HTMLAttributes, useState } from 'react'\n\nexport interface AvatarProps extends HTMLAttributes<HTMLDivElement> {\n  src?: string\n  alt?: string\n  size?: 'sm' | 'md' | 'lg' | 'xl' | 'xxl'\n  fallback?: string\n  className?: string\n}\n\nexport const Avatar = ({\n  src,\n  alt = 'Avatar',\n  size = 'md',\n  fallback,\n  className = '',\n  ...props\n}: AvatarProps) => {\n  const [imageError, setImageError] = useState(false)\n  const [imageLoading, setImageLoading] = useState(true)\n\n  const sizeMap = {\n    sm: 32,\n    md: 40,\n    lg: 48,\n    xl: 64,\n    xxl: 84  // 支持UserSidebar的84x84头像尺寸\n  }\n\n  const avatarSize = sizeMap[size]\n\n  const avatarStyle = {\n    width: `${avatarSize}px`,\n    height: `${avatarSize}px`,\n    borderRadius: '50%',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: imageError || !src ? 'var(--color-bg-secondary)' : 'transparent',\n    color: 'var(--color-text-primary)',\n    fontSize: `${avatarSize * 0.4}px`,\n    fontWeight: '500',\n    overflow: 'hidden',\n    position: 'relative' as const\n  }\n\n  const handleImageError = () => {\n    setImageError(true)\n    setImageLoading(false)\n  }\n\n  const handleImageLoad = () => {\n    setImageError(false)\n    setImageLoading(false)\n  }\n\n  // 生成fallback文字\n  const getFallbackText = () => {\n    if (fallback) return fallback\n    if (alt && alt !== 'Avatar') {\n      // 提取中文字符的第一个字符，或英文的首字母\n      const match = alt.match(/[\\u4e00-\\u9fa5]/) || alt.match(/[A-Za-z]/)\n      return match ? match[0].toUpperCase() : '?'\n    }\n    return '?'\n  }\n\n  return (\n    <div\n      className={`avatar avatar--${size} ${className}`}\n      style={avatarStyle}\n      {...props}\n    >\n      {src && !imageError ? (\n        <>\n          <Image\n            src={src}\n            alt={alt}\n            width={avatarSize}\n            height={avatarSize}\n            style={{\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover',\n              opacity: imageLoading ? 0 : 1,\n              transition: 'opacity 0.2s ease-in-out'\n            }}\n            onError={handleImageError}\n            onLoad={handleImageLoad}\n            unoptimized={process.env.NODE_ENV === 'development'}\n          />\n          {imageLoading && (\n            <div\n              style={{\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                backgroundColor: 'var(--color-bg-secondary)',\n                fontSize: `${avatarSize * 0.3}px`,\n                color: 'var(--color-text-muted)'\n              }}\n            >\n              ⟳\n            </div>\n          )}\n        </>\n      ) : (\n        <span style={{\n          background: `linear-gradient(135deg, #3B82F6, #8B5CF6)`,\n          WebkitBackgroundClip: 'text',\n          WebkitTextFillColor: 'transparent',\n          backgroundClip: 'text',\n          fontWeight: '600'\n        }}>\n          {getFallbackText()}\n        </span>\n      )}\n    </div>\n  )\n} "],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAaO,MAAM,SAAS,CAAC,EACrB,GAAG,EACH,MAAM,QAAQ,EACd,OAAO,IAAI,EACX,QAAQ,EACR,YAAY,EAAE,EACd,GAAG,OACS;IACZ,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,UAAU;QACd,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,KAAK,GAAI,0BAA0B;IACrC;IAEA,MAAM,aAAa,OAAO,CAAC,KAAK;IAEhC,MAAM,cAAc;QAClB,OAAO,GAAG,WAAW,EAAE,CAAC;QACxB,QAAQ,GAAG,WAAW,EAAE,CAAC;QACzB,cAAc;QACd,SAAS;QACT,YAAY;QACZ,gBAAgB;QAChB,iBAAiB,cAAc,CAAC,MAAM,8BAA8B;QACpE,OAAO;QACP,UAAU,GAAG,aAAa,IAAI,EAAE,CAAC;QACjC,YAAY;QACZ,UAAU;QACV,UAAU;IACZ;IAEA,MAAM,mBAAmB;QACvB,cAAc;QACd,gBAAgB;IAClB;IAEA,MAAM,kBAAkB;QACtB,cAAc;QACd,gBAAgB;IAClB;IAEA,eAAe;IACf,MAAM,kBAAkB;QACtB,IAAI,UAAU,OAAO;QACrB,IAAI,OAAO,QAAQ,UAAU;YAC3B,uBAAuB;YACvB,MAAM,QAAQ,IAAI,KAAK,CAAC,sBAAsB,IAAI,KAAK,CAAC;YACxD,OAAO,QAAQ,KAAK,CAAC,EAAE,CAAC,WAAW,KAAK;QAC1C;QACA,OAAO;IACT;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,eAAe,EAAE,KAAK,CAAC,EAAE,WAAW;QAChD,OAAO;QACN,GAAG,KAAK;kBAER,OAAO,CAAC,2BACP;;8BACE,8OAAC,6HAAA,CAAA,UAAK;oBACJ,KAAK;oBACL,KAAK;oBACL,OAAO;oBACP,QAAQ;oBACR,OAAO;wBACL,OAAO;wBACP,QAAQ;wBACR,WAAW;wBACX,SAAS,eAAe,IAAI;wBAC5B,YAAY;oBACd;oBACA,SAAS;oBACT,QAAQ;oBACR,aAAa,oDAAyB;;;;;;gBAEvC,8BACC,8OAAC;oBACC,OAAO;wBACL,UAAU;wBACV,KAAK;wBACL,MAAM;wBACN,OAAO;wBACP,QAAQ;wBACR,SAAS;wBACT,YAAY;wBACZ,gBAAgB;wBAChB,iBAAiB;wBACjB,UAAU,GAAG,aAAa,IAAI,EAAE,CAAC;wBACjC,OAAO;oBACT;8BACD;;;;;;;yCAML,8OAAC;YAAK,OAAO;gBACX,YAAY,CAAC,yCAAyC,CAAC;gBACvD,sBAAsB;gBACtB,qBAAqB;gBACrB,gBAAgB;gBAChB,YAAY;YACd;sBACG;;;;;;;;;;;AAKX","debugId":null}},
    {"offset": {"line": 771, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/SettingsAvatar/SettingsAvatar.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { Icon } from '@/components/ui'\n\nexport interface SettingsAvatarProps {\n    src?: string\n    alt?: string\n    onEdit?: () => void\n    className?: string\n}\n\nexport const SettingsAvatar: React.FC<SettingsAvatarProps> = ({\n    src = '/images/avatars/user-zhang-zhichuang.svg',\n    alt = '用户头像',\n    onEdit,\n    className = ''\n}) => {\n    // 解决SSR水合不匹配问题：确保服务端和客户端渲染一致\n    const [isClient, setIsClient] = useState(false)\n\n    useEffect(() => {\n        setIsClient(true)\n    }, [])\n\n    // 服务端渲染时返回简化版本，避免水合不匹配\n    if (!isClient) {\n        return (\n            <div style={{\n                width: '96px',\n                height: '96px',\n                background: 'var(--color-bg-glass)',\n                borderRadius: '9999px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n            }}>\n                <div style={{\n                    width: '32px',\n                    height: '32px',\n                    background: 'linear-gradient(90deg, #3B82F6 0%, #8B5CF6 100%)',\n                    borderRadius: '9999px'\n                }} />\n            </div>\n        )\n    }\n\n    return (\n        <div\n            className={className}\n            style={{\n                position: 'relative',\n                width: '96px',\n                height: '96px',\n                display: 'inline-block',\n                isolation: 'isolate' // 创建新的层叠上下文，避免样式冲突\n            }}\n        >\n            {/* 头像主体 */}\n            <div style={{\n                width: '96px',\n                height: '96px',\n                borderRadius: '50%',\n                background: 'transparent', // 改为透明背景，移除黑色色块\n                backgroundImage: `url('${src}')`,\n                backgroundSize: 'cover',\n                backgroundPosition: 'center',\n                backgroundRepeat: 'no-repeat',\n                position: 'relative'\n            }} />\n\n            {/* 编辑按钮 - 清洁样式，避免黑色阴影 */}\n            <button\n                onClick={onEdit}\n                style={{\n                    position: 'absolute',\n                    bottom: '4px',\n                    right: '4px',\n                    width: '28px',\n                    height: '28px',\n                    background: 'linear-gradient(90deg, #3B82F6 0%, #8B5CF6 100%)',\n                    borderRadius: '50%',\n                    border: '0',\n                    outline: 'none',\n                    padding: '0',\n                    margin: '0',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    cursor: 'pointer',\n                    transition: 'transform 0.2s ease',\n                    zIndex: 10,\n                    boxShadow: 'none',\n                    userSelect: 'none',\n                    WebkitAppearance: 'none',\n                    MozAppearance: 'none',\n                    appearance: 'none',\n                    WebkitTapHighlightColor: 'transparent'\n                }}\n                onMouseEnter={(e) => {\n                    const target = e.currentTarget as HTMLElement\n                    target.style.transform = 'scale(1.1)'\n                }}\n                onMouseLeave={(e) => {\n                    const target = e.currentTarget as HTMLElement\n                    target.style.transform = 'scale(1)'\n                }}\n                                aria-label=\"编辑头像\"\n                title=\"点击编辑头像\"\n            >\n                {/* 使用简化的编辑图标 */}\n                <svg\n                    width=\"14\"\n                    height=\"14\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    style={{ pointerEvents: 'none' }}\n                >\n                    <path\n                        d=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125\"\n                        stroke=\"white\"\n                        strokeWidth=\"2\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        fill=\"none\"\n                    />\n                </svg>\n            </button>\n        </div>\n    )\n}\n\nexport default SettingsAvatar "],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYO,MAAM,iBAAgD,CAAC,EAC1D,MAAM,0CAA0C,EAChD,MAAM,MAAM,EACZ,MAAM,EACN,YAAY,EAAE,EACjB;IACG,6BAA6B;IAC7B,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,YAAY;IAChB,GAAG,EAAE;IAEL,uBAAuB;IACvB,IAAI,CAAC,UAAU;QACX,qBACI,8OAAC;YAAI,OAAO;gBACR,OAAO;gBACP,QAAQ;gBACR,YAAY;gBACZ,cAAc;gBACd,SAAS;gBACT,YAAY;gBACZ,gBAAgB;YACpB;sBACI,cAAA,8OAAC;gBAAI,OAAO;oBACR,OAAO;oBACP,QAAQ;oBACR,YAAY;oBACZ,cAAc;gBAClB;;;;;;;;;;;IAGZ;IAEA,qBACI,8OAAC;QACG,WAAW;QACX,OAAO;YACH,UAAU;YACV,OAAO;YACP,QAAQ;YACR,SAAS;YACT,WAAW,UAAU,mBAAmB;QAC5C;;0BAGA,8OAAC;gBAAI,OAAO;oBACR,OAAO;oBACP,QAAQ;oBACR,cAAc;oBACd,YAAY;oBACZ,iBAAiB,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;oBAChC,gBAAgB;oBAChB,oBAAoB;oBACpB,kBAAkB;oBAClB,UAAU;gBACd;;;;;;0BAGA,8OAAC;gBACG,SAAS;gBACT,OAAO;oBACH,UAAU;oBACV,QAAQ;oBACR,OAAO;oBACP,OAAO;oBACP,QAAQ;oBACR,YAAY;oBACZ,cAAc;oBACd,QAAQ;oBACR,SAAS;oBACT,SAAS;oBACT,QAAQ;oBACR,SAAS;oBACT,YAAY;oBACZ,gBAAgB;oBAChB,QAAQ;oBACR,YAAY;oBACZ,QAAQ;oBACR,WAAW;oBACX,YAAY;oBACZ,kBAAkB;oBAClB,eAAe;oBACf,YAAY;oBACZ,yBAAyB;gBAC7B;gBACA,cAAc,CAAC;oBACX,MAAM,SAAS,EAAE,aAAa;oBAC9B,OAAO,KAAK,CAAC,SAAS,GAAG;gBAC7B;gBACA,cAAc,CAAC;oBACX,MAAM,SAAS,EAAE,aAAa;oBAC9B,OAAO,KAAK,CAAC,SAAS,GAAG;gBAC7B;gBACgB,cAAW;gBAC3B,OAAM;0BAGN,cAAA,8OAAC;oBACG,OAAM;oBACN,QAAO;oBACP,SAAQ;oBACR,MAAK;oBACL,OAAM;oBACN,OAAO;wBAAE,eAAe;oBAAO;8BAE/B,cAAA,8OAAC;wBACG,GAAE;wBACF,QAAO;wBACP,aAAY;wBACZ,eAAc;wBACd,gBAAe;wBACf,MAAK;;;;;;;;;;;;;;;;;;;;;;AAM7B;uCAEe","debugId":null}},
    {"offset": {"line": 923, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Container/Container.tsx"],"sourcesContent":["'use client'\n\nimport { type ReactNode } from 'react'\n\nexport interface ContainerProps {\n    children: ReactNode\n    size?: 'sm' | 'md' | 'lg' | 'xl' | 'full'\n    className?: string\n}\n\nexport const Container = ({\n    children,\n    size = 'xl',\n    className = ''\n}: ContainerProps) => {\n    const baseClass = 'container'\n    const sizeClass = size !== 'full' ? `container--${size}` : ''\n\n    const classes = [\n        baseClass,\n        sizeClass,\n        className\n    ].filter(Boolean).join(' ')\n\n    return (\n        <div className={classes}>\n            {children}\n        </div>\n    )\n} "],"names":[],"mappings":";;;;AAAA;;AAUO,MAAM,YAAY,CAAC,EACtB,QAAQ,EACR,OAAO,IAAI,EACX,YAAY,EAAE,EACD;IACb,MAAM,YAAY;IAClB,MAAM,YAAY,SAAS,SAAS,CAAC,WAAW,EAAE,MAAM,GAAG;IAE3D,MAAM,UAAU;QACZ;QACA;QACA;KACH,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;IAEvB,qBACI,8OAAC;QAAI,WAAW;kBACX;;;;;;AAGb","debugId":null}},
    {"offset": {"line": 950, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Tag/Tag.tsx"],"sourcesContent":["'use client'\n\nimport { type HTMLAttributes } from 'react'\nimport { Icon } from '@/components/ui/Icon/Icon'\nimport { getTagByName, getTagById, DEFAULT_TAG, type Tag as TagData } from '@/lib/tags'\nimport { useThemeStore } from '@/stores'\n\n/**\n * 标签组件属性接口\n */\nexport interface TagProps extends Omit<HTMLAttributes<HTMLSpanElement>, 'color'> {\n    /** 标签名称或标签ID */\n    tag: string | TagData\n    /** 标签尺寸 */\n    size?: 'sm' | 'md' | 'lg'\n    /** 是否显示图标 */\n    showIcon?: boolean\n    /** 自定义类名 */\n    className?: string\n    /** 是否可点击 */\n    clickable?: boolean\n    /** 点击回调 */\n    onClick?: () => void\n}\n\n/**\n * 通用标签组件\n * \n * 支持主题自动切换，从标签管理系统获取样式配置\n * 确保在亮色和暗色模式下都有良好的显示效果\n * \n * @param props 标签组件属性\n * @returns 标签组件\n */\nexport const Tag = ({\n    tag,\n    size = 'md',\n    showIcon = false,\n    className = '',\n    clickable = false,\n    onClick,\n    ...props\n}: TagProps) => {\n    const { theme } = useThemeStore()\n\n    // 获取标签数据，传入当前主题\n    const tagData = typeof tag === 'string'\n        ? getTagByName(tag, theme) || getTagById(tag, theme) || DEFAULT_TAG\n        : tag\n\n    // 尺寸配置\n    const sizeConfig = {\n        sm: {\n            fontSize: '10px',\n            padding: '2px 6px',\n            iconSize: 'xs' as const,\n            lineHeight: '14px'\n        },\n        md: {\n            fontSize: '12px',\n            padding: '4px 8px',\n            iconSize: 'xs' as const,\n            lineHeight: '16px'\n        },\n        lg: {\n            fontSize: '14px',\n            padding: '6px 12px',\n            iconSize: 'sm' as const,\n            lineHeight: '20px'\n        }\n    }\n\n    const config = sizeConfig[size]\n\n    return (\n        <span\n            className={`tag tag--${size} ${clickable ? 'tag--clickable' : ''} ${className}`}\n            style={{\n                display: 'inline-flex',\n                alignItems: 'center',\n                gap: showIcon ? '6px' : '0',\n                background: tagData.backgroundColor,\n                color: tagData.color,\n                border: `1px solid ${tagData.borderColor}`,\n                borderRadius: '6px',\n                padding: showIcon ? (\n                    size === 'sm' ? '2px 8px' :\n                        size === 'md' ? '4px 10px' :\n                            '6px 14px'\n                ) : config.padding,\n                fontSize: config.fontSize,\n                fontWeight: '500',\n                lineHeight: config.lineHeight,\n                fontFamily: \"'Alibaba PuHuiTi 3.0', sans-serif\",\n                whiteSpace: 'nowrap',\n                flexShrink: 0,\n                cursor: clickable ? 'pointer' : 'default',\n                transition: 'all 0.2s ease',\n                opacity: clickable ? 1 : 1,\n                ...props.style\n            }}\n            onClick={onClick}\n            onMouseEnter={(e) => {\n                if (clickable) {\n                    e.currentTarget.style.opacity = '0.8'\n                    e.currentTarget.style.transform = 'translateY(-1px)'\n                }\n            }}\n            onMouseLeave={(e) => {\n                if (clickable) {\n                    e.currentTarget.style.opacity = '1'\n                    e.currentTarget.style.transform = 'translateY(0)'\n                }\n            }}\n            onMouseDown={(e) => {\n                if (clickable) {\n                    e.currentTarget.style.transform = 'translateY(0)'\n                }\n            }}\n            {...props}\n        >\n            {/* 可选图标 */}\n            {showIcon && tagData.iconName && (\n                <Icon\n                    name={tagData.iconName}\n                    size={config.iconSize}\n                    style={{\n                        flexShrink: 0,\n                        minWidth: size === 'sm' ? '12px' : size === 'md' ? '14px' : '16px',\n                        display: 'inline-block'\n                    }}\n                />\n            )}\n\n            {/* 标签文字 */}\n            <span style={{\n                whiteSpace: 'nowrap',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis'\n            }}>\n                {tagData.name}\n            </span>\n        </span>\n    )\n}\n\n/**\n * 标签列表组件\n * 用于渲染多个标签，自动处理间距和换行\n * 支持主题自动切换\n * \n * @param props 标签列表属性\n */\nexport interface TagListProps {\n    /** 标签数据数组 */\n    tags: Array<string | TagData>\n    /** 标签尺寸 */\n    size?: 'sm' | 'md' | 'lg'\n    /** 是否显示图标 */\n    showIcon?: boolean\n    /** 最大显示数量 */\n    maxCount?: number\n    /** 是否可点击 */\n    clickable?: boolean\n    /** 标签点击回调 */\n    onTagClick?: (tag: TagData) => void\n    /** 自定义类名 */\n    className?: string\n    /** 自定义样式 */\n    style?: React.CSSProperties\n}\n\nexport const TagList = ({\n    tags,\n    size = 'md',\n    showIcon = false,\n    maxCount = 3,\n    clickable = false,\n    onTagClick,\n    className = '',\n    style\n}: TagListProps) => {\n    const { theme } = useThemeStore()\n\n    // 限制显示数量\n    const displayTags = tags.slice(0, maxCount)\n    const hasMore = tags.length > maxCount\n\n    return (\n        <div\n            className={`tag-list ${className}`}\n            style={{\n                display: 'flex',\n                flexWrap: 'wrap',\n                gap: '8px',\n                alignItems: 'center',\n                ...style\n            }}\n        >\n            {displayTags.map((tag, index) => {\n                const tagData = typeof tag === 'string'\n                    ? getTagByName(tag, theme) || getTagById(tag, theme) || DEFAULT_TAG\n                    : tag\n\n                return (\n                    <Tag\n                        key={`${tagData.id}-${index}`}\n                        tag={tagData}\n                        size={size}\n                        showIcon={showIcon}\n                        clickable={clickable}\n                        onClick={() => onTagClick?.(tagData)}\n                    />\n                )\n            })}\n\n            {/* 显示更多提示 */}\n            {hasMore && (\n                <span\n                    style={{\n                        color: 'var(--color-text-muted)',\n                        fontSize: size === 'sm' ? '10px' : size === 'md' ? '12px' : '14px',\n                        fontFamily: \"'Alibaba PuHuiTi 3.0', sans-serif\"\n                    }}\n                >\n                    +{tags.length - maxCount}\n                </span>\n            )}\n        </div>\n    )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1119, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Modal/ModalOverlay.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useRef, useState } from 'react'\n\ninterface ModalOverlayProps {\n    isOpen: boolean\n    onClose: () => void\n    children: React.ReactNode\n    closeOnOverlayClick?: boolean\n    closeOnEscape?: boolean\n    isMobile?: boolean // 新增：是否为移动端\n}\n\nexport function ModalOverlay({\n    isOpen,\n    onClose,\n    children,\n    closeOnOverlayClick = true,\n    closeOnEscape = true,\n    isMobile = false,\n}: ModalOverlayProps) {\n    const overlayRef = useRef<HTMLDivElement>(null)\n    const [startY, setStartY] = useState(0)\n    const [currentY, setCurrentY] = useState(0)\n    const [isDragging, setIsDragging] = useState(false)\n\n    // 处理 ESC 键关闭\n    useEffect(() => {\n        if (!isOpen || !closeOnEscape) return\n\n        const handleEscape = (event: KeyboardEvent) => {\n            if (event.key === 'Escape') {\n                onClose()\n            }\n        }\n\n        document.addEventListener('keydown', handleEscape)\n        return () => document.removeEventListener('keydown', handleEscape)\n    }, [isOpen, closeOnEscape, onClose])\n\n    // 禁止页面滚动\n    useEffect(() => {\n        if (isOpen) {\n            document.body.style.overflow = 'hidden'\n\n            // 移动端阻止滚动穿透\n            if (isMobile) {\n                document.body.style.position = 'fixed'\n                document.body.style.width = '100%'\n                document.body.style.height = '100%'\n            }\n        } else {\n            document.body.style.overflow = 'unset'\n\n            if (isMobile) {\n                document.body.style.position = 'unset'\n                document.body.style.width = 'unset'\n                document.body.style.height = 'unset'\n            }\n        }\n\n        return () => {\n            document.body.style.overflow = 'unset'\n            if (isMobile) {\n                document.body.style.position = 'unset'\n                document.body.style.width = 'unset'\n                document.body.style.height = 'unset'\n            }\n        }\n    }, [isOpen, isMobile])\n\n    // 移动端滑动关闭手势\n    const handleTouchStart = (event: React.TouchEvent) => {\n        if (!isMobile) return\n\n        const touch = event.touches[0]\n        setStartY(touch.clientY)\n        setCurrentY(touch.clientY)\n        setIsDragging(true)\n    }\n\n    const handleTouchMove = (event: React.TouchEvent) => {\n        if (!isMobile || !isDragging) return\n\n        const touch = event.touches[0]\n        setCurrentY(touch.clientY)\n\n        // 如果向下滑动距离超过50px，添加视觉反馈\n        const deltaY = touch.clientY - startY\n        if (deltaY > 0 && overlayRef.current) {\n            const modal = overlayRef.current.querySelector('.modal-container') as HTMLElement\n            if (modal) {\n                modal.style.transform = `translateY(${Math.min(deltaY * 0.5, 100)}px)`\n                modal.style.opacity = `${Math.max(1 - deltaY / 400, 0.5)}`\n            }\n        }\n    }\n\n    const handleTouchEnd = () => {\n        if (!isMobile || !isDragging) return\n\n        const deltaY = currentY - startY\n\n        // 如果向下滑动超过100px，关闭弹窗\n        if (deltaY > 100) {\n            onClose()\n        } else {\n            // 恢复原位\n            if (overlayRef.current) {\n                const modal = overlayRef.current.querySelector('.modal-container') as HTMLElement\n                if (modal) {\n                    modal.style.transform = 'translateY(0)'\n                    modal.style.opacity = '1'\n                    modal.style.transition = 'transform 0.3s ease, opacity 0.3s ease'\n\n                    // 清除transition以避免影响后续操作\n                    setTimeout(() => {\n                        if (modal) {\n                            modal.style.transition = ''\n                        }\n                    }, 300)\n                }\n            }\n        }\n\n        setIsDragging(false)\n        setStartY(0)\n        setCurrentY(0)\n    }\n\n    if (!isOpen) return null\n\n    // 处理点击遮罩关闭\n    const handleOverlayClick = (event: React.MouseEvent<HTMLDivElement>) => {\n        if (closeOnOverlayClick && event.target === event.currentTarget) {\n            onClose()\n        }\n    }\n\n    return (\n        <div\n            ref={overlayRef}\n            className={`modal-overlay ${isMobile ? 'modal-overlay--mobile' : ''}`}\n            onClick={handleOverlayClick}\n            onTouchStart={handleTouchStart}\n            onTouchMove={handleTouchMove}\n            onTouchEnd={handleTouchEnd}\n            style={{\n                animation: isOpen ? 'fadeIn 0.3s ease-out' : 'fadeOut 0.2s ease-in',\n                alignItems: isMobile ? 'flex-end' : 'center',\n                justifyContent: isMobile ? 'center' : 'center',\n                padding: isMobile ? '0' : '24px'\n            }}\n        >\n            {children}\n        </div>\n    )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1257, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Modal/BaseModal.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useRef, useState } from 'react'\nimport { createPortal } from 'react-dom'\nimport { ModalOverlay } from './ModalOverlay'\nimport { Icon } from '../Icon/Icon'\n\ninterface BaseModalProps {\n    isOpen: boolean\n    onClose: () => void\n    title?: string\n    subtitle?: string\n    children: React.ReactNode\n    showCloseButton?: boolean\n    closeOnOverlayClick?: boolean\n    closeOnEscape?: boolean\n    maxWidth?: 'sm' | 'md' | 'lg' | 'xl'\n    className?: string\n    mobileFullscreen?: boolean // 新增：移动端是否全屏显示\n}\n\nexport function BaseModal({\n    isOpen,\n    onClose,\n    title,\n    subtitle,\n    children,\n    showCloseButton = true,\n    closeOnOverlayClick = true,\n    closeOnEscape = true,\n    maxWidth = 'md',\n    className = '',\n    mobileFullscreen = false,\n}: BaseModalProps) {\n    const modalRef = useRef<HTMLDivElement>(null)\n    const [mounted, setMounted] = useState(false)\n    const [isMobile, setIsMobile] = useState(false)\n\n    // 确保在客户端渲染\n    useEffect(() => {\n        setMounted(true)\n\n        // 检测是否为移动设备\n        const checkMobile = () => {\n            setIsMobile(window.innerWidth <= 767)\n        }\n\n        checkMobile()\n        window.addEventListener('resize', checkMobile)\n\n        return () => {\n            window.removeEventListener('resize', checkMobile)\n        }\n    }, [])\n\n    // 焦点管理\n    useEffect(() => {\n        if (isOpen && modalRef.current) {\n            modalRef.current.focus()\n        }\n    }, [isOpen])\n\n    // 如果还没有挂载，不渲染任何内容\n    if (!mounted) return null\n\n    const modalMaxWidths = {\n        sm: '400px',\n        md: '480px',\n        lg: '600px',\n        xl: '800px',\n    }\n\n    // 移动端样式\n    const mobileStyles: React.CSSProperties = isMobile ? {\n        position: 'fixed',\n        top: mobileFullscreen ? '0' : 'auto',\n        bottom: mobileFullscreen ? '0' : '0',\n        left: '0',\n        right: '0',\n        maxWidth: '100%',\n        width: '100%',\n        height: mobileFullscreen ? '100%' : 'auto',\n        maxHeight: mobileFullscreen ? '100%' : '95vh',\n        borderRadius: mobileFullscreen ? '0' : '16px 16px 0 0',\n        margin: '0',\n        transform: 'none'\n    } : {}\n\n    const modalContent = (\n        <ModalOverlay\n            isOpen={isOpen}\n            onClose={onClose}\n            closeOnOverlayClick={closeOnOverlayClick}\n            closeOnEscape={closeOnEscape}\n            isMobile={isMobile}\n        >\n            <div\n                ref={modalRef}\n                className={`modal-container ${className} ${isMobile ? 'modal-container--mobile' : ''}`}\n                style={{\n                    maxWidth: isMobile ? '100%' : modalMaxWidths[maxWidth],\n                    animation: isOpen ? 'modalEnter 0.3s ease-out' : 'modalExit 0.2s ease-in',\n                    ...mobileStyles\n                }}\n                tabIndex={-1}\n                role=\"dialog\"\n                aria-modal=\"true\"\n                aria-labelledby={title ? 'modal-title' : undefined}\n                aria-describedby={subtitle ? 'modal-subtitle' : undefined}\n            >\n                {/* Mobile Header Bar - 移动端顶部拖拽指示器 */}\n                {isMobile && !mobileFullscreen && (\n                    <div className=\"modal-mobile-header\">\n                        <div className=\"modal-drag-indicator\" />\n                    </div>\n                )}\n\n                {/* Header */}\n                {(title || subtitle || showCloseButton) && (\n                    <div className={`modal-header ${isMobile ? 'modal-header--mobile' : ''}`}>\n                        {showCloseButton && (\n                            <button\n                                className={`modal-close ${isMobile ? 'modal-close--mobile' : ''}`}\n                                onClick={onClose}\n                                aria-label=\"关闭弹窗\"\n                                type=\"button\"\n                                style={{\n                                    minWidth: isMobile ? '44px' : '32px',\n                                    minHeight: isMobile ? '44px' : '32px',\n                                    padding: isMobile ? '12px' : '8px',\n                                    touchAction: 'manipulation',\n                                    WebkitTapHighlightColor: 'transparent'\n                                }}\n                            >\n                                <Icon name=\"modals/close-button\" size={isMobile ? \"lg\" : \"md\"} />\n                            </button>\n                        )}\n\n                        {title && (\n                            <h2\n                                id=\"modal-title\"\n                                className={`modal-title ${isMobile ? 'modal-title--mobile' : ''}`}\n                                style={{\n                                    fontSize: isMobile ? '24px' : '28px',\n                                    lineHeight: isMobile ? '30px' : '34px',\n                                    marginBottom: isMobile ? '8px' : '12px'\n                                }}\n                            >\n                                {title}\n                            </h2>\n                        )}\n\n                        {subtitle && (\n                            <p\n                                id=\"modal-subtitle\"\n                                className={`modal-subtitle ${isMobile ? 'modal-subtitle--mobile' : ''}`}\n                                style={{\n                                    fontSize: isMobile ? '14px' : '16px',\n                                    lineHeight: isMobile ? '20px' : '24px'\n                                }}\n                            >\n                                {subtitle}\n                            </p>\n                        )}\n                    </div>\n                )}\n\n                {/* Body */}\n                <div className={`modal-body ${isMobile ? 'modal-body--mobile' : ''}`}>\n                    {children}\n                </div>\n            </div>\n        </ModalOverlay>\n    )\n\n    // 使用 Portal 渲染到 body\n    return createPortal(modalContent, document.body)\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1440, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/BackgroundDecoration/BackgroundDecoration.tsx"],"sourcesContent":["'use client'\n\nimport { CSSProperties } from 'react'\nimport { useThemeStore } from '@/stores'\n\ninterface BackgroundDecorationProps {\n    /**\n     * 装饰元素的位置\n     * - 'top-left': 左上角\n     * - 'top-right': 右上角  \n     * - 'bottom-left': 左下角\n     * - 'bottom-right': 右下角\n     * - 'center': 居中\n     * - 'custom': 自定义位置\n     */\n    position?: 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right' | 'center' | 'custom'\n\n    /**\n     * 自定义位置样式（当position为'custom'时使用）\n     */\n    customPosition?: {\n        top?: string\n        right?: string\n        bottom?: string\n        left?: string\n    }\n\n    /**\n     * 装饰元素的尺寸\n     */\n    size?: {\n        width: string\n        height: string\n    }\n\n    /**\n     * 渐变颜色配置\n     */\n    gradient?: {\n        fromColor: string\n        toColor: string\n        fromOpacity: number\n        toOpacity: number\n    }\n\n    /**\n     * 模糊程度（px）\n     */\n    blur?: number\n\n    /**\n     * 层级\n     */\n    zIndex?: number\n\n    /**\n     * 动画效果\n     */\n    animation?: {\n        duration?: string\n        delay?: string\n        type?: 'float' | 'pulse' | 'rotate' | 'none'\n    }\n\n    /**\n     * 自定义类名\n     */\n    className?: string\n}\n\n/**\n * 背景装饰组件 - BackgroundDecoration\n * \n * 基于设计稿的蓝色渐变模糊效果，可配置位置、颜色、大小等属性\n * \n * 功能特性：\n * - 多种预设位置选项\n * - 自定义渐变颜色和透明度\n * - 可调节模糊程度\n * - 支持多种动画效果\n * - 响应式设计适配\n * \n * 设计规范：\n * - 默认尺寸: 600x600px\n * - 默认渐变: 蓝色渐变（79, 172, 254 -> 0, 242, 254）\n * - 默认模糊: 100px\n * - 完全圆形: border-radius: 50%\n */\nexport function BackgroundDecoration({\n    position = 'top-left',\n    customPosition,\n    size = { width: '600px', height: '600px' },\n    gradient,\n    blur = 100,\n    zIndex = 0,\n    animation = { type: 'none' },\n    className = ''\n}: BackgroundDecorationProps) {\n    const { theme } = useThemeStore()\n    \n    // 根据主题设置默认透明度\n    const defaultGradient = {\n        fromColor: '79, 172, 254',\n        toColor: '0, 242, 254',\n        fromOpacity: theme === 'light' ? 0.015 : 0.10,\n        toOpacity: theme === 'light' ? 0.008 : 0.05\n    }\n    \n    const finalGradient = gradient || defaultGradient\n\n    // 预设位置配置\n    const positionStyles: Record<string, CSSProperties> = {\n        'top-left': {\n            top: '-300px',\n            left: '-200px'\n        },\n        'top-right': {\n            top: '-300px',\n            right: '-200px'\n        },\n        'bottom-left': {\n            bottom: '-300px',\n            left: '-200px'\n        },\n        'bottom-right': {\n            bottom: '-300px',\n            right: '-200px'\n        },\n        'center': {\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)'\n        },\n        'custom': customPosition || {}\n    }\n\n    // 动画样式配置\n    const animationStyles: Record<string, CSSProperties> = {\n        'float': {\n            animation: `backgroundFloat ${animation.duration || '6s'} ease-in-out infinite ${animation.delay || '0s'}`\n        },\n        'pulse': {\n            animation: `backgroundPulse ${animation.duration || '4s'} ease-in-out infinite ${animation.delay || '0s'}`\n        },\n        'rotate': {\n            animation: `backgroundRotate ${animation.duration || '20s'} linear infinite ${animation.delay || '0s'}`\n        },\n        'none': {}\n    }\n\n    const baseStyles: CSSProperties = {\n        position: 'absolute',\n        width: size.width,\n        height: size.height,\n        background: `linear-gradient(90deg, rgba(${finalGradient.fromColor}, ${finalGradient.fromOpacity}) 0%, rgba(${finalGradient.toColor}, ${finalGradient.toOpacity}) 100%)`,\n        filter: `blur(${blur}px)`,\n        borderRadius: '50%',\n        zIndex: zIndex,\n        pointerEvents: 'none',\n        ...positionStyles[position],\n        ...animationStyles[animation.type || 'none']\n    }\n\n    return (\n        <>\n            <div\n                className={`background-decoration ${className}`}\n                style={baseStyles}\n            />\n\n            {/* 动画关键帧样式 */}\n            <style jsx>{`\n                @keyframes backgroundFloat {\n                    0%, 100% {\n                        transform: translateY(0) scale(1);\n                    }\n                    50% {\n                        transform: translateY(-20px) scale(1.05);\n                    }\n                }\n                \n                @keyframes backgroundPulse {\n                    0%, 100% {\n                        opacity: ${finalGradient.fromOpacity};\n                        transform: scale(1);\n                    }\n                    50% {\n                        opacity: ${finalGradient.fromOpacity * 1.5};\n                        transform: scale(1.1);\n                    }\n                }\n                \n                @keyframes backgroundRotate {\n                    from {\n                        transform: rotate(0deg);\n                    }\n                    to {\n                        transform: rotate(360deg);\n                    }\n                }\n                \n                /* 响应式适配 */\n                @media (max-width: 768px) {\n                    .background-decoration {\n                        width: 400px !important;\n                        height: 400px !important;\n                        filter: blur(60px) !important;\n                    }\n                }\n                \n                @media (max-width: 480px) {\n                    .background-decoration {\n                        width: 300px !important;\n                        height: 300px !important;\n                        filter: blur(40px) !important;\n                    }\n                }\n            `}</style>\n        </>\n    )\n} "],"names":[],"mappings":";;;;;AAGA;AAAA;AAHA;;;;AAwFO,SAAS,qBAAqB,EACjC,WAAW,UAAU,EACrB,cAAc,EACd,OAAO;IAAE,OAAO;IAAS,QAAQ;AAAQ,CAAC,EAC1C,QAAQ,EACR,OAAO,GAAG,EACV,SAAS,CAAC,EACV,YAAY;IAAE,MAAM;AAAO,CAAC,EAC5B,YAAY,EAAE,EACU;IACxB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,2HAAA,CAAA,gBAAa,AAAD;IAE9B,cAAc;IACd,MAAM,kBAAkB;QACpB,WAAW;QACX,SAAS;QACT,aAAa,UAAU,UAAU,QAAQ;QACzC,WAAW,UAAU,UAAU,QAAQ;IAC3C;IAEA,MAAM,gBAAgB,YAAY;IAElC,SAAS;IACT,MAAM,iBAAgD;QAClD,YAAY;YACR,KAAK;YACL,MAAM;QACV;QACA,aAAa;YACT,KAAK;YACL,OAAO;QACX;QACA,eAAe;YACX,QAAQ;YACR,MAAM;QACV;QACA,gBAAgB;YACZ,QAAQ;YACR,OAAO;QACX;QACA,UAAU;YACN,KAAK;YACL,MAAM;YACN,WAAW;QACf;QACA,UAAU,kBAAkB,CAAC;IACjC;IAEA,SAAS;IACT,MAAM,kBAAiD;QACnD,SAAS;YACL,WAAW,CAAC,gBAAgB,EAAE,UAAU,QAAQ,IAAI,KAAK,sBAAsB,EAAE,UAAU,KAAK,IAAI,MAAM;QAC9G;QACA,SAAS;YACL,WAAW,CAAC,gBAAgB,EAAE,UAAU,QAAQ,IAAI,KAAK,sBAAsB,EAAE,UAAU,KAAK,IAAI,MAAM;QAC9G;QACA,UAAU;YACN,WAAW,CAAC,iBAAiB,EAAE,UAAU,QAAQ,IAAI,MAAM,iBAAiB,EAAE,UAAU,KAAK,IAAI,MAAM;QAC3G;QACA,QAAQ,CAAC;IACb;IAEA,MAAM,aAA4B;QAC9B,UAAU;QACV,OAAO,KAAK,KAAK;QACjB,QAAQ,KAAK,MAAM;QACnB,YAAY,CAAC,4BAA4B,EAAE,cAAc,SAAS,CAAC,EAAE,EAAE,cAAc,WAAW,CAAC,WAAW,EAAE,cAAc,OAAO,CAAC,EAAE,EAAE,cAAc,SAAS,CAAC,OAAO,CAAC;QACxK,QAAQ,CAAC,KAAK,EAAE,KAAK,GAAG,CAAC;QACzB,cAAc;QACd,QAAQ;QACR,eAAe;QACf,GAAG,cAAc,CAAC,SAAS;QAC3B,GAAG,eAAe,CAAC,UAAU,IAAI,IAAI,OAAO;IAChD;IAEA,qBACI;;0BACI,8OAAC;gBAEG,OAAO;;;;;4BAgBY,cAAc,WAAW;4BAIzB,cAAc,WAAW,GAAG;;;2BArBpC,CAAC,sBAAsB,EAAE,WAAW;;;;;;;;;oBAiB5B,cAAc,WAAW;oBAIzB,cAAc,WAAW,GAAG;;mLAJ5B,cAAc,WAAW,mCAIzB,cAAc,WAAW,GAAG;;;;AAiC/D","debugId":null}},
    {"offset": {"line": 1549, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/HeroBackground3D/HeroBackground3D.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useRef, useState } from 'react'\nimport * as THREE from 'three'\nimport { useThemeStore } from '@/stores'\n\n/**\n * 全局3D背景组件 - GlobalBackground3D\n * \n * 设计理念：遍布全站的淡淡背景装饰，不干扰主要内容\n * - 神经网络节点和连接线\n * - 简洁的粒子效果\n * - 缓慢优雅的动画\n * - 简洁的AI主题元素\n * - 完美融入所有页面背景\n * - 自适应页面高度和滚动\n */\nexport function GlobalBackground3D() {\n    const mountRef = useRef<HTMLDivElement>(null)\n    const animationIdRef = useRef<number | null>(null)\n    const [isLoaded, setIsLoaded] = useState(false)\n    const { theme } = useThemeStore()\n    const [containerOpacity, setContainerOpacity] = useState(theme === 'light' ? 0.05 : 0.9)\n    \n    // 用于平滑过渡的透明度状态\n    const targetOpacityRef = useRef({\n        nodes: theme === 'light' ? 0.008 : 0.15,\n        lines: theme === 'light' ? 0.004 : 0.08,\n        particles: theme === 'light' ? 0.02 : 0.6,\n        container: theme === 'light' ? 0.05 : 0.9\n    })\n    const currentOpacityRef = useRef({\n        nodes: theme === 'light' ? 0.008 : 0.15,\n        lines: theme === 'light' ? 0.004 : 0.08,\n        particles: theme === 'light' ? 0.02 : 0.6,\n        container: theme === 'light' ? 0.05 : 0.9\n    })\n\n    useEffect(() => {\n        if (!mountRef.current) return\n\n        // 创建场景\n        const scene = new THREE.Scene()\n\n        // 创建相机 - 适配全页面视野\n        const camera = new THREE.PerspectiveCamera(\n            75, // 宽视野角度，覆盖整个页面\n            window.innerWidth / window.innerHeight,\n            0.1,\n            1000\n        )\n        camera.position.z = 30 // 更远距离，看到完整的3D效果\n\n        // 创建渲染器\n        const renderer = new THREE.WebGLRenderer({\n            alpha: true,\n            antialias: true\n        })\n        renderer.setSize(window.innerWidth, window.innerHeight)\n        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.5)) // 性能优化\n        renderer.setClearColor(0x000000, 0)\n        mountRef.current.appendChild(renderer.domElement)\n\n        // === 创建全页面AI装饰元素 ===\n\n                // 1. 神经网络节点 (50个，遍布整个页面和滚动区域)\n        const nodes: THREE.Mesh[] = []\n        \n        for (let i = 0; i < 50; i++) {\n            const nodeGeometry = new THREE.SphereGeometry(0.08, 12, 12)\n            const nodeMaterial = new THREE.MeshBasicMaterial({\n                color: 0x3B82F6,\n                transparent: true,\n                opacity: currentOpacityRef.current.nodes\n            })\n            const node = new THREE.Mesh(nodeGeometry, nodeMaterial)\n\n            // 遍布整个页面空间，包括垂直滚动区域\n            node.position.x = (Math.random() - 0.5) * 60  // 更大X轴范围，覆盖页面宽度\n            node.position.y = (Math.random() - 0.5) * 80  // 大Y轴范围，覆盖滚动高度\n            node.position.z = (Math.random() - 0.5) * 30  // Z轴范围\n\n            scene.add(node)\n            nodes.push(node)\n        }\n\n                // 2. 连接线系统 (适度增加，覆盖更多区域)\n        const connections: THREE.Line[] = []\n        \n        // 创建随机连接线，连接附近的节点\n        for (let i = 0; i < Math.min(15, nodes.length - 1); i++) {\n            const startNode = nodes[i]\n            const endNode = nodes[i + Math.floor(Math.random() * 5) + 1] || nodes[i + 1]\n\n            if (startNode && endNode && startNode.position.distanceTo(endNode.position) < 20) {\n                const lineGeometry = new THREE.BufferGeometry()\n                const points = [startNode.position.clone(), endNode.position.clone()]\n                lineGeometry.setFromPoints(points)\n\n                const lineMaterial = new THREE.LineBasicMaterial({\n                    color: 0x8B5CF6,\n                    transparent: true,\n                    opacity: currentOpacityRef.current.lines\n                })\n\n                const line = new THREE.Line(lineGeometry, lineMaterial)\n                scene.add(line)\n                connections.push(line)\n            }\n        }\n\n        // 3. 创建粒子系统 (300个，确保全程可见)\n        const particleCount = 300\n        const particleGeometry = new THREE.BufferGeometry()\n        const positions = new Float32Array(particleCount * 3)\n        const colors = new Float32Array(particleCount * 3)\n        const initialPositions = new Float32Array(particleCount * 3) // 保存初始相对位置\n\n        // 计算相机FOV可见范围：FOV=75度，距离Z=30，可见Y范围≈±23\n        const cameraDistance = 30\n        const fovRadians = (75 * Math.PI) / 180\n        const visibleHeight = 2 * Math.tan(fovRadians / 2) * cameraDistance // ≈46\n        const visibleWidth = visibleHeight * (window.innerWidth / window.innerHeight)\n\n        for (let i = 0; i < particleCount; i++) {\n            // 严格控制在相机可见范围内，留出安全边距\n            const safeMargin = 0.8 // 80%的可见范围，确保边缘粒子也能看到\n            initialPositions[i * 3] = (Math.random() - 0.5) * visibleWidth * safeMargin      // X轴：严格按可见宽度\n            initialPositions[i * 3 + 1] = (Math.random() - 0.5) * visibleHeight * safeMargin  // Y轴：严格按可见高度  \n            initialPositions[i * 3 + 2] = (Math.random() - 0.5) * 20  // Z轴：相机前方分布\n\n            // 初始位置 = 相对位置\n            positions[i * 3] = initialPositions[i * 3]\n            positions[i * 3 + 1] = initialPositions[i * 3 + 1]\n            positions[i * 3 + 2] = initialPositions[i * 3 + 2]\n\n            // 蓝紫色调\n            if (Math.random() < 0.5) {\n                colors[i * 3] = 0.231     // 蓝色\n                colors[i * 3 + 1] = 0.510\n                colors[i * 3 + 2] = 0.965\n            } else {\n                colors[i * 3] = 0.545     // 紫色\n                colors[i * 3 + 1] = 0.361\n                colors[i * 3 + 2] = 0.965\n            }\n        }\n\n        particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3))\n        particleGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3))\n\n                const particleMaterial = new THREE.PointsMaterial({\n            size: 0.2, // 进一步增大粒子尺寸\n            vertexColors: true,\n            transparent: true,\n            opacity: currentOpacityRef.current.particles,\n            blending: THREE.AdditiveBlending,\n            sizeAttenuation: false // 禁用距离衰减\n        })\n\n        const particles = new THREE.Points(particleGeometry, particleMaterial)\n        scene.add(particles)\n\n        // === 缓慢的动画循环 ===\n        let time = 0\n        const animate = () => {\n            time += 0.008 // 更慢的时间增长，适合全页面背景\n\n            // 平滑过渡透明度\n            const lerpFactor = 0.02 // 过渡速度，越小越平滑\n            currentOpacityRef.current.nodes = THREE.MathUtils.lerp(\n                currentOpacityRef.current.nodes, \n                targetOpacityRef.current.nodes, \n                lerpFactor\n            )\n            currentOpacityRef.current.lines = THREE.MathUtils.lerp(\n                currentOpacityRef.current.lines, \n                targetOpacityRef.current.lines, \n                lerpFactor\n            )\n            currentOpacityRef.current.particles = THREE.MathUtils.lerp(\n                currentOpacityRef.current.particles, \n                targetOpacityRef.current.particles, \n                lerpFactor\n            )\n            currentOpacityRef.current.container = THREE.MathUtils.lerp(\n                currentOpacityRef.current.container, \n                targetOpacityRef.current.container, \n                lerpFactor\n            )\n\n            // 更新容器透明度\n            setContainerOpacity(currentOpacityRef.current.container)\n\n            // 节点轻微脉冲动画和透明度更新\n            nodes.forEach((node, index) => {\n                const pulse = 1 + Math.sin(time * 1.5 + index) * 0.15\n                node.scale.setScalar(pulse)\n\n                // 轻微的浮动\n                node.position.y += Math.sin(time * 0.8 + index) * 0.004\n                node.position.x += Math.cos(time * 0.5 + index) * 0.002\n\n                // 更新节点透明度\n                const material = node.material as THREE.MeshBasicMaterial\n                material.opacity = currentOpacityRef.current.nodes\n            })\n\n            // 连接线轻微透明度变化\n            connections.forEach((line, index) => {\n                const baseOpacity = currentOpacityRef.current.lines\n                const variance = baseOpacity * 0.3 // 相对变化\n                const opacity = baseOpacity + Math.sin(time * 1.0 + index) * variance\n                const material = line.material as THREE.LineBasicMaterial\n                material.opacity = Math.max(baseOpacity * 0.2, opacity)\n            })\n\n            // 粒子动态飘动（相对于初始位置）\n            const positions = particles.geometry.attributes.position.array as Float32Array\n            for (let i = 0; i < positions.length; i += 3) {\n                // 基于初始位置进行飘动，而不是累积移动\n                const index = Math.floor(i / 3)\n                positions[i] = initialPositions[i] + Math.cos(time * 0.3 + index) * 0.5      // X轴飘动\n                positions[i + 1] = initialPositions[i + 1] + Math.sin(time * 0.5 + index) * 0.8  // Y轴飘动\n                positions[i + 2] = initialPositions[i + 2] + Math.sin(time * 0.2 + index) * 0.3  // Z轴飘动\n            }\n            particles.geometry.attributes.position.needsUpdate = true\n\n            // 更新粒子透明度\n            const particlesMaterial = particles.material as THREE.PointsMaterial\n            particlesMaterial.opacity = currentOpacityRef.current.particles\n\n            // 整体轻微旋转\n            particles.rotation.y += 0.001\n            particles.rotation.x += 0.0005\n\n            renderer.render(scene, camera)\n            animationIdRef.current = requestAnimationFrame(animate)\n        }\n\n        // 响应式处理 - 适配窗口大小变化\n        const handleResize = () => {\n            if (!mountRef.current || !renderer) return\n\n            const width = window.innerWidth\n            const height = window.innerHeight\n\n            camera.aspect = width / height\n            camera.updateProjectionMatrix()\n            renderer.setSize(width, height)\n        }\n\n        // 滚动处理 - 动态更新粒子云位置，确保始终可见\n        const handleScroll = () => {\n            const scrollY = window.scrollY\n            const scrollRatio = scrollY / (document.documentElement.scrollHeight - window.innerHeight || 1)\n\n            // 相机移动范围扩大到覆盖整个页面高度\n            camera.position.y = (scrollRatio - 0.5) * 50 // 从-25移动到+25，覆盖更大范围\n            camera.rotation.x = scrollRatio * 0.15 // 增强旋转效果\n\n            // Z轴适度调整\n            camera.position.z = 30 + scrollRatio * 8 // 从30移动到38\n\n            // 关键：动态更新粒子云位置，让粒子跟随相机\n            const positions = particles.geometry.attributes.position.array as Float32Array\n            for (let i = 0; i < particleCount; i++) {\n                // 粒子在相机周围重新分布，确保始终可见\n                const baseY = camera.position.y // 以相机Y位置为中心\n                const offsetY = initialPositions[i * 3 + 1] // 相对偏移\n\n                // 更新Y轴位置：相机位置 + 相对偏移\n                positions[i * 3 + 1] = baseY + offsetY\n            }\n            particles.geometry.attributes.position.needsUpdate = true\n        }\n\n        window.addEventListener('resize', handleResize)\n        window.addEventListener('scroll', handleScroll, { passive: true })\n\n        // 启动动画\n        animate()\n        setIsLoaded(true)\n\n        // 清理函数\n        return () => {\n            window.removeEventListener('resize', handleResize)\n            window.removeEventListener('scroll', handleScroll)\n\n            if (animationIdRef.current) {\n                cancelAnimationFrame(animationIdRef.current)\n            }\n\n            if (mountRef.current && renderer.domElement) {\n                mountRef.current.removeChild(renderer.domElement)\n            }\n\n            scene.clear()\n            renderer.dispose()\n        }\n    }, [])\n\n    // 单独处理主题变化，只更新目标透明度\n    useEffect(() => {\n        targetOpacityRef.current = {\n            nodes: theme === 'light' ? 0.008 : 0.15,\n            lines: theme === 'light' ? 0.004 : 0.08,\n            particles: theme === 'light' ? 0.02 : 0.6,\n            container: theme === 'light' ? 0.05 : 0.9\n        }\n    }, [theme])\n\n    return (\n        <div\n            ref={mountRef}\n            style={{\n                position: 'fixed', // 固定定位，覆盖整个视口\n                top: 0,\n                left: 0,\n                width: '100vw',\n                height: '100vh',\n                zIndex: -10, // 确保在所有页面内容之下（LayoutController的main有zIndex:1）\n                pointerEvents: 'none', // 不干扰用户交互\n                opacity: containerOpacity,\n                transition: 'opacity 0.6s ease' // 平滑的透明度过渡\n            }}\n        />\n    )\n}\n\n// 保留原有的HeroBackground3D组件用于首页Hero区域\nexport function HeroBackground3D() {\n    const mountRef = useRef<HTMLDivElement>(null)\n    const animationIdRef = useRef<number | null>(null)\n    const [isLoaded, setIsLoaded] = useState(false)\n    const { theme } = useThemeStore()\n    // 添加强制重新初始化状态\n    const [forceReload, setForceReload] = useState(0)\n    const sceneRef = useRef<THREE.Scene | null>(null)\n    const rendererRef = useRef<THREE.WebGLRenderer | null>(null)\n    const cameraRef = useRef<THREE.PerspectiveCamera | null>(null)\n    \n    // 用于平滑过渡的透明度状态\n    const targetHeroOpacityRef = useRef({\n        nodes: theme === 'light' ? 0.01 : 0.3,\n        lines: theme === 'light' ? 0.005 : 0.2,\n        particles: theme === 'light' ? 0.015 : 0.25\n    })\n    const currentHeroOpacityRef = useRef({\n        nodes: theme === 'light' ? 0.01 : 0.3,\n        lines: theme === 'light' ? 0.005 : 0.2,\n        particles: theme === 'light' ? 0.015 : 0.25\n    })\n\n    useEffect(() => {\n        // 强制清理之前的状态\n        setIsLoaded(false)\n\n        // 延迟初始化确保DOM完全准备就绪\n        const initTimer = setTimeout(() => {\n            if (!mountRef.current) {\n                // DOM未准备好，延迟重试\n                setForceReload(prev => prev + 1)\n                return\n            }\n\n            // 强制清理可能残留的renderer\n            if (rendererRef.current && mountRef.current.contains(rendererRef.current.domElement)) {\n                mountRef.current.removeChild(rendererRef.current.domElement)\n                rendererRef.current.dispose()\n                rendererRef.current = null\n            }\n\n            // 创建场景\n            const scene = new THREE.Scene()\n            sceneRef.current = scene\n\n            // 创建相机\n            const camera = new THREE.PerspectiveCamera(\n                75, // 更大视野角度，覆盖整个首屏\n                mountRef.current.clientWidth / mountRef.current.clientHeight,\n                0.1,\n                1000\n            )\n            camera.position.z = 25 // 更远距离，看到完整的3D效果\n            cameraRef.current = camera\n\n            // 创建渲染器\n            const renderer = new THREE.WebGLRenderer({\n                alpha: true,\n                antialias: true,\n                preserveDrawingBuffer: false, // 添加这个选项优化性能\n                powerPreference: \"high-performance\"\n            })\n\n            // 检查WebGL是否可用\n            if (!renderer.getContext()) {\n                console.warn('WebGL not available, falling back to basic rendering')\n                setIsLoaded(true)\n                return\n            }\n\n            renderer.setSize(mountRef.current.clientWidth, mountRef.current.clientHeight)\n            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.5)) // 性能优化\n            renderer.setClearColor(0x000000, 0)\n\n            // 确保DOM元素存在再添加\n            if (mountRef.current) {\n                mountRef.current.appendChild(renderer.domElement)\n                rendererRef.current = renderer\n            } else {\n                renderer.dispose()\n                return\n            }\n\n            // === 创建简洁的AI装饰元素 ===\n\n            // 1. 神经网络节点 (18个，遍布整个首屏)\n            const nodes: THREE.Mesh[] = []\n            \n            for (let i = 0; i < 18; i++) {\n                const nodeGeometry = new THREE.SphereGeometry(0.12, 12, 12)\n                const nodeMaterial = new THREE.MeshBasicMaterial({\n                    color: 0x3B82F6,\n                    transparent: true,\n                    opacity: currentHeroOpacityRef.current.nodes\n                })\n                const node = new THREE.Mesh(nodeGeometry, nodeMaterial)\n\n                // 遍布整个首屏，包括上下左右\n                node.position.x = (Math.random() - 0.5) * 35  // 更大X轴范围\n                node.position.y = (Math.random() - 0.5) * 20  // 适配100vh高度的Y轴范围\n                node.position.z = (Math.random() - 0.5) * 15  // 更大Z轴范围\n\n                scene.add(node)\n                nodes.push(node)\n            }\n\n            // 2. 中心区域连接线 (只在中间区域显示)\n            const connections: THREE.Line[] = []\n            \n            // 筛选出中心区域的节点 (Y轴在-6到+2之间，适配新的高度范围)\n            const centerNodes = nodes.filter(node =>\n                node.position.y > -6 && node.position.y < 2 &&\n                Math.abs(node.position.x) < 15\n            )\n\n            // 在中心节点间创建连接线\n            for (let i = 0; i < Math.min(6, centerNodes.length - 1); i++) {\n                const startNode = centerNodes[i]\n                const endNode = centerNodes[(i + 1) % centerNodes.length]\n\n                if (startNode && endNode) {\n                    const lineGeometry = new THREE.BufferGeometry()\n                    const points = [startNode.position.clone(), endNode.position.clone()]\n                    lineGeometry.setFromPoints(points)\n\n                    const lineMaterial = new THREE.LineBasicMaterial({\n                        color: 0x8B5CF6,\n                        transparent: true,\n                        opacity: currentHeroOpacityRef.current.lines\n                    })\n\n                    const line = new THREE.Line(lineGeometry, lineMaterial)\n                    scene.add(line)\n                    connections.push(line)\n                }\n            }\n\n            // 3. 创建粒子系统\n            const particleCount = 150\n            const particleGeometry = new THREE.BufferGeometry()\n            const positions = new Float32Array(particleCount * 3)\n            const colors = new Float32Array(particleCount * 3)\n\n            for (let i = 0; i < particleCount; i++) {\n                // 遍布整个首屏空间，包括所有角落\n                positions[i * 3] = (Math.random() - 0.5) * 45      // 更大X轴范围\n                positions[i * 3 + 1] = (Math.random() - 0.5) * 25  // 适配100vh高度的Y轴范围\n                positions[i * 3 + 2] = (Math.random() - 0.5) * 25  // 更大Z轴范围\n\n                // 蓝紫色调\n                if (Math.random() < 0.5) {\n                    colors[i * 3] = 0.231     // 蓝色\n                    colors[i * 3 + 1] = 0.510\n                    colors[i * 3 + 2] = 0.965\n                } else {\n                    colors[i * 3] = 0.545     // 紫色\n                    colors[i * 3 + 1] = 0.361\n                    colors[i * 3 + 2] = 0.965\n                }\n            }\n\n            particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3))\n            particleGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3))\n\n            const particleMaterial = new THREE.PointsMaterial({\n                size: 0.08, // 稍大粒子尺寸，适配扩大的空间\n                vertexColors: true,\n                transparent: true,\n                opacity: currentHeroOpacityRef.current.particles,\n                blending: THREE.AdditiveBlending\n            })\n\n            const particles = new THREE.Points(particleGeometry, particleMaterial)\n            scene.add(particles)\n\n            // === 明显的动画循环 ===\n            let time = 0\n            const animate = () => {\n                // 检查组件是否仍然挂载\n                if (!mountRef.current || !sceneRef.current || !rendererRef.current) {\n                    return\n                }\n\n                time += 0.02 // 明显的时间增长\n\n                // 平滑过渡透明度\n                const lerpFactor = 0.02\n                currentHeroOpacityRef.current.nodes = THREE.MathUtils.lerp(\n                    currentHeroOpacityRef.current.nodes, \n                    targetHeroOpacityRef.current.nodes, \n                    lerpFactor\n                )\n                currentHeroOpacityRef.current.lines = THREE.MathUtils.lerp(\n                    currentHeroOpacityRef.current.lines, \n                    targetHeroOpacityRef.current.lines, \n                    lerpFactor\n                )\n                currentHeroOpacityRef.current.particles = THREE.MathUtils.lerp(\n                    currentHeroOpacityRef.current.particles, \n                    targetHeroOpacityRef.current.particles, \n                    lerpFactor\n                )\n\n                // 节点明显脉冲动画和透明度更新\n                nodes.forEach((node, index) => {\n                    const pulse = 1 + Math.sin(time * 2 + index) * 0.3\n                    node.scale.setScalar(pulse)\n\n                    // 明显的浮动\n                    node.position.y += Math.sin(time * 1.2 + index) * 0.008\n                    node.position.x += Math.cos(time * 0.8 + index) * 0.005\n\n                    // 更新节点透明度\n                    const material = node.material as THREE.MeshBasicMaterial\n                    material.opacity = currentHeroOpacityRef.current.nodes\n\n                    // 定期的颜色变化\n                    if (Math.random() > 0.98) {\n                        material.color.setHex(Math.random() > 0.5 ? 0x3B82F6 : 0x8B5CF6)\n                    }\n                })\n\n                // 连接线明显透明度变化\n                connections.forEach((line, index) => {\n                    const baseOpacity = currentHeroOpacityRef.current.lines\n                    const opacity = baseOpacity + Math.sin(time * 1.5 + index) * (baseOpacity * 0.5)\n                    const material = line.material as THREE.LineBasicMaterial\n                    material.opacity = Math.max(baseOpacity * 0.2, opacity)\n                })\n\n                // 粒子明显飘动\n                const positions = particles.geometry.attributes.position.array as Float32Array\n                for (let i = 0; i < positions.length; i += 3) {\n                    positions[i + 1] += Math.sin(time * 0.8 + i) * 0.01  // 明显Y轴浮动\n                    positions[i] += Math.cos(time * 0.6 + i) * 0.008     // 明显X轴移动\n                    positions[i + 2] += Math.sin(time * 0.4 + i) * 0.005 // Z轴微动\n                }\n                particles.geometry.attributes.position.needsUpdate = true\n\n                // 更新粒子透明度\n                const particlesMaterial = particles.material as THREE.PointsMaterial\n                particlesMaterial.opacity = currentHeroOpacityRef.current.particles\n\n                // 明显旋转\n                particles.rotation.y += 0.004\n                particles.rotation.x += 0.001\n\n                try {\n                    renderer.render(scene, camera)\n                    animationIdRef.current = requestAnimationFrame(animate)\n                } catch (error) {\n                    console.warn('Three.js render error:', error)\n                    // 渲染出错时停止动画\n                    return\n                }\n            }\n\n            // 响应式处理\n            const handleResize = () => {\n                if (!mountRef.current || !renderer || !camera) return\n\n                const width = mountRef.current.clientWidth\n                const height = mountRef.current.clientHeight\n\n                camera.aspect = width / height\n                camera.updateProjectionMatrix()\n                renderer.setSize(width, height)\n            }\n\n            window.addEventListener('resize', handleResize)\n\n            // 启动动画\n            animate()\n            setIsLoaded(true)\n\n            // 清理函数\n            return () => {\n                window.removeEventListener('resize', handleResize)\n\n                if (animationIdRef.current) {\n                    cancelAnimationFrame(animationIdRef.current)\n                    animationIdRef.current = null\n                }\n\n                // 清理Three.js资源\n                if (sceneRef.current) {\n                    sceneRef.current.clear()\n                    sceneRef.current = null\n                }\n\n                if (rendererRef.current) {\n                    if (mountRef.current && mountRef.current.contains(rendererRef.current.domElement)) {\n                        mountRef.current.removeChild(rendererRef.current.domElement)\n                    }\n                    rendererRef.current.dispose()\n                    rendererRef.current = null\n                }\n\n                // 清理几何体和材质\n                nodes.forEach(node => {\n                    if (node.geometry) node.geometry.dispose()\n                    if (node.material) {\n                        if (Array.isArray(node.material)) {\n                            node.material.forEach(material => material.dispose())\n                        } else {\n                            node.material.dispose()\n                        }\n                    }\n                })\n\n                connections.forEach(line => {\n                    if (line.geometry) line.geometry.dispose()\n                    if (line.material) {\n                        if (Array.isArray(line.material)) {\n                            line.material.forEach(material => material.dispose())\n                        } else {\n                            line.material.dispose()\n                        }\n                    }\n                })\n\n                // 清理粒子系统资源\n                if (particleGeometry) particleGeometry.dispose()\n                if (particleMaterial) particleMaterial.dispose()\n            }\n        }, 100) // 延迟100ms确保DOM完全准备就绪\n\n        // 清理计时器\n        return () => {\n            clearTimeout(initTimer)\n        }\n    }, [forceReload])\n\n    // 添加错误边界处理\n    useEffect(() => {\n        const errorHandler = (event: ErrorEvent) => {\n            if (event.message.includes('WebGL') || event.message.includes('Three')) {\n                console.warn('WebGL error detected, attempting to reinitialize:', event.message)\n                setForceReload(prev => prev + 1)\n            }\n        }\n\n        window.addEventListener('error', errorHandler)\n        return () => window.removeEventListener('error', errorHandler)\n    }, [forceReload])\n\n    // 单独处理主题变化，只更新目标透明度\n    useEffect(() => {\n        targetHeroOpacityRef.current = {\n            nodes: theme === 'light' ? 0.01 : 0.3,\n            lines: theme === 'light' ? 0.005 : 0.2,\n            particles: theme === 'light' ? 0.015 : 0.25\n        }\n    }, [theme])\n\n    return (\n        <div\n            ref={mountRef}\n            style={{\n                position: 'fixed', // 关键修复：使用fixed定位固定在视口\n                top: 0,\n                left: 0,\n                width: '100vw', // 使用视口单位确保全屏覆盖\n                height: '100vh', // 使用视口单位确保全屏覆盖\n                zIndex: 2, // 在遮罩层之上，显示3D效果\n                pointerEvents: 'none', // 不干扰用户交互\n                opacity: isLoaded ? 0.3 : 0, // 降低透明度，避免遮挡前景内容\n                transition: 'opacity 0.5s ease-in-out' // 平滑过渡效果\n            }}\n        />\n    )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2134, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/CSSParticleBackground/CSSParticleBackground.tsx"],"sourcesContent":["'use client'\n\nimport { memo, useState, useEffect, useCallback } from 'react'\n\n/**\n * 粒子配置接口\n */\ninterface ParticleConfig {\n    id: number\n    size: number\n    left: number\n    top: number // 新增：垂直位置\n    animationDuration: number\n    animationDelay: number\n    opacity: number\n    animation: string\n    color: string\n}\n\n/**\n * 纯CSS粒子背景组件 - CSSParticleBackground\n * \n * 🎯 设计理念：\n * - 100%纯CSS实现，绝对稳定可靠\n * - 轻量高效，零依赖，完美兼容\n * - 视觉效果媲美Three.js，但维护成本极低\n * - 智能区域分布，与首屏3D效果完美配合\n * \n * ✨ 技术特性：\n * - 150个动态粒子，6种不同动画轨迹\n * - 蓝紫渐变色调，符合AI科技主题\n * - position: fixed 确保滚动时始终可见\n * - 避开首屏区域（0-100vh），保持原有3D效果\n * - 从第二屏开始分布（100vh-400vh），提供一致背景\n */\nexport const CSSParticleBackground = memo(function CSSParticleBackground() {\n    // 客户端渲染状态 - 解决SSR水合不匹配问题\n    const [isClient, setIsClient] = useState(false)\n    const [particles, setParticles] = useState<ParticleConfig[]>([])\n\n    // 生成粒子配置 - 使用useCallback优化性能\n    const generateParticles = useCallback((): ParticleConfig[] => {\n        const particles: ParticleConfig[] = []\n\n        for (let i = 0; i < 150; i++) {\n            // 随机粒子属性 - 智能分布版本\n            const size = Math.random() * 4 + 2 // 2-6px (适中大小，可见但不突兀)\n            const left = Math.random() * 100 // 0-100%\n            const top = Math.random() * 100 // 0-100% 全屏分布\n            const animationDuration = Math.random() * 12 + 8 // 8-20秒 (缓慢优雅)\n            const animationDelay = Math.random() * 10 // 0-10秒随机延迟\n            const opacity = Math.random() * 0.6 + 0.4 // 0.4-1.0 (更强的可见性)\n\n            // 6种不同的动画类型\n            const animationType = i % 6\n            const animations = [\n                'floatUp', 'floatDiagonal', 'floatZigzag',\n                'floatSway', 'floatSpiral', 'floatSine'\n            ]\n\n            // 颜色变化 - AI科技主题蓝紫色调\n            const colorType = i % 3\n            const colors = [\n                '#3B82F6', // 主蓝色\n                '#8B5CF6', // 主紫色\n                '#60A5FA'  // 淡蓝色\n            ]\n\n            particles.push({\n                id: i,\n                size,\n                left,\n                top, // 新增：垂直位置\n                animationDuration,\n                animationDelay,\n                opacity,\n                animation: animations[animationType],\n                color: colors[colorType]\n            })\n        }\n\n        return particles\n    }, [])\n\n    // 客户端水合后生成粒子 - 避免SSR不匹配\n    useEffect(() => {\n        setIsClient(true)\n        setParticles(generateParticles())\n    }, [generateParticles])\n\n    // 服务端渲染时返回null，避免水合不匹配\n    if (!isClient) {\n        return null\n    }\n\n    return (\n        <div\n            className=\"css-particle-background\"\n            style={{\n                position: 'fixed',\n                top: 0,\n                left: 0,\n                width: '100vw',\n                height: '100vh', // 恢复视口高度\n                zIndex: 0.5, // 在背景层，但高于body背景\n                pointerEvents: 'none',\n                overflow: 'hidden'\n            }}\n        >\n            {/* 渲染所有粒子 */}\n            {particles.map((particle) => (\n                <div\n                    key={particle.id}\n                    className={`particle particle-${particle.animation}`}\n                    style={{\n                        position: 'absolute',\n                        left: `${particle.left}%`,\n                        top: `${particle.top}%`, // 恢复百分比，全屏分布\n                        width: `${particle.size}px`,\n                        height: `${particle.size}px`,\n                        background: `radial-gradient(circle, ${particle.color} 0%, transparent 70%)`,\n                        borderRadius: '50%',\n                        opacity: particle.opacity,\n                        animation: `${particle.animation} ${particle.animationDuration}s infinite linear`,\n                        animationDelay: `${particle.animationDelay}s`\n                    }}\n                />\n            ))}\n\n            {/* CSS动画定义 */}\n            <style jsx>{`\n                /* 轻微上下漂浮 */\n                @keyframes floatUp {\n                    0%, 100% {\n                        transform: translateY(0) translateX(0);\n                    }\n                    50% {\n                        transform: translateY(-20px) translateX(0);\n                    }\n                }\n\n                /* 对角轻微漂浮 */\n                @keyframes floatDiagonal {\n                    0%, 100% {\n                        transform: translateY(0) translateX(0);\n                    }\n                    50% {\n                        transform: translateY(-15px) translateX(15px);\n                    }\n                }\n\n                /* 左右摆动 */\n                @keyframes floatZigzag {\n                    0%, 100% {\n                        transform: translateY(0) translateX(0);\n                    }\n                    25% {\n                        transform: translateY(-10px) translateX(10px);\n                    }\n                    75% {\n                        transform: translateY(-10px) translateX(-10px);\n                    }\n                }\n\n                /* 圆形摆动 */\n                @keyframes floatSway {\n                    0% {\n                        transform: translateY(0) translateX(0);\n                    }\n                    25% {\n                        transform: translateY(-8px) translateX(8px);\n                    }\n                    50% {\n                        transform: translateY(-16px) translateX(0);\n                    }\n                    75% {\n                        transform: translateY(-8px) translateX(-8px);\n                    }\n                    100% {\n                        transform: translateY(0) translateX(0);\n                    }\n                }\n\n                /* 旋转漂浮 */\n                @keyframes floatSpiral {\n                    0% {\n                        transform: translateY(0) translateX(0) rotate(0deg);\n                    }\n                    50% {\n                        transform: translateY(-12px) translateX(8px) rotate(180deg);\n                    }\n                    100% {\n                        transform: translateY(0) translateX(0) rotate(360deg);\n                    }\n                }\n\n                /* 正弦波漂浮 */\n                @keyframes floatSine {\n                    0%, 100% {\n                        transform: translateY(0) translateX(0);\n                    }\n                    20% {\n                        transform: translateY(-6px) translateX(6px);\n                    }\n                    40% {\n                        transform: translateY(-12px) translateX(-3px);\n                    }\n                    60% {\n                        transform: translateY(-6px) translateX(6px);\n                    }\n                    80% {\n                        transform: translateY(-12px) translateX(-3px);\n                    }\n                }\n\n                /* 性能优化 */\n                .particle {\n                    will-change: transform, opacity;\n                    backface-visibility: hidden;\n                    transform-style: preserve-3d;\n                }\n            `}</style>\n        </div>\n    )\n}) "],"names":[],"mappings":";;;;;AAEA;AAFA;;;;AAmCO,MAAM,sCAAwB,CAAA,GAAA,qMAAA,CAAA,OAAI,AAAD,EAAE,SAAS;IAC/C,yBAAyB;IACzB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAoB,EAAE;IAE/D,6BAA6B;IAC7B,MAAM,oBAAoB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAClC,MAAM,YAA8B,EAAE;QAEtC,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,IAAK;YAC1B,kBAAkB;YAClB,MAAM,OAAO,KAAK,MAAM,KAAK,IAAI,EAAE,sBAAsB;;YACzD,MAAM,OAAO,KAAK,MAAM,KAAK,IAAI,SAAS;;YAC1C,MAAM,MAAM,KAAK,MAAM,KAAK,IAAI,cAAc;;YAC9C,MAAM,oBAAoB,KAAK,MAAM,KAAK,KAAK,EAAE,eAAe;;YAChE,MAAM,iBAAiB,KAAK,MAAM,KAAK,GAAG,YAAY;;YACtD,MAAM,UAAU,KAAK,MAAM,KAAK,MAAM,IAAI,mBAAmB;;YAE7D,YAAY;YACZ,MAAM,gBAAgB,IAAI;YAC1B,MAAM,aAAa;gBACf;gBAAW;gBAAiB;gBAC5B;gBAAa;gBAAe;aAC/B;YAED,oBAAoB;YACpB,MAAM,YAAY,IAAI;YACtB,MAAM,SAAS;gBACX;gBACA;gBACA,UAAW,MAAM;aACpB;YAED,UAAU,IAAI,CAAC;gBACX,IAAI;gBACJ;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA,WAAW,UAAU,CAAC,cAAc;gBACpC,OAAO,MAAM,CAAC,UAAU;YAC5B;QACJ;QAEA,OAAO;IACX,GAAG,EAAE;IAEL,wBAAwB;IACxB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,YAAY;QACZ,aAAa;IACjB,GAAG;QAAC;KAAkB;IAEtB,uBAAuB;IACvB,IAAI,CAAC,UAAU;QACX,OAAO;IACX;IAEA,qBACI,8OAAC;QAEG,OAAO;YACH,UAAU;YACV,KAAK;YACL,MAAM;YACN,OAAO;YACP,QAAQ;YACR,QAAQ;YACR,eAAe;YACf,UAAU;QACd;kDAVU;;YAaT,UAAU,GAAG,CAAC,CAAC,yBACZ,8OAAC;oBAGG,OAAO;wBACH,UAAU;wBACV,MAAM,GAAG,SAAS,IAAI,CAAC,CAAC,CAAC;wBACzB,KAAK,GAAG,SAAS,GAAG,CAAC,CAAC,CAAC;wBACvB,OAAO,GAAG,SAAS,IAAI,CAAC,EAAE,CAAC;wBAC3B,QAAQ,GAAG,SAAS,IAAI,CAAC,EAAE,CAAC;wBAC5B,YAAY,CAAC,wBAAwB,EAAE,SAAS,KAAK,CAAC,qBAAqB,CAAC;wBAC5E,cAAc;wBACd,SAAS,SAAS,OAAO;wBACzB,WAAW,GAAG,SAAS,SAAS,CAAC,CAAC,EAAE,SAAS,iBAAiB,CAAC,iBAAiB,CAAC;wBACjF,gBAAgB,GAAG,SAAS,cAAc,CAAC,CAAC,CAAC;oBACjD;8DAZW,CAAC,kBAAkB,EAAE,SAAS,SAAS,EAAE;mBAD/C,SAAS,EAAE;;;;;;;;;;;;;;;AAgHpC","debugId":null}},
    {"offset": {"line": 2254, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/DynamicParticleBackground/DynamicParticleBackground.tsx"],"sourcesContent":["'use client'\n\nimport dynamic from 'next/dynamic'\n\n/**\n * 动态粒子背景组件 - DynamicParticleBackground\n * \n * 🎯 技术方案：\n * - 使用Next.js dynamic导入，ssr: false完全避免服务端渲染\n * - 零SSR水合问题，绝对稳定可靠\n * - 客户端挂载后立即显示粒子效果\n * \n * ✨ 优势：\n * - 100%避免React SSR水合不匹配错误\n * - 保持原有粒子效果和性能\n * - 简单可靠的技术方案\n */\nconst CSSParticleBackgroundClient = dynamic(\n    () => import('../CSSParticleBackground/CSSParticleBackgroundClient').then(mod => ({ default: mod.CSSParticleBackgroundClient })),\n    {\n        ssr: false, // 完全禁用服务端渲染\n        loading: () => null // 加载时不显示任何内容\n    }\n)\n\nexport const DynamicParticleBackground = CSSParticleBackgroundClient "],"names":[],"mappings":";;;AAEA;;AAFA;;AAIA;;;;;;;;;;;;CAYC,GACD,MAAM,8BAA8B,CAAA,GAAA,+JAAA,CAAA,UAAO,AAAD;;;;;;IAGlC,KAAK;IACL,SAAS,IAAM,KAAK,aAAa;;AAIlC,MAAM,4BAA4B","debugId":null}},
    {"offset": {"line": 2287, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/AIBrainModel/AIBrainModel.tsx"],"sourcesContent":["'use client'\n\nimport React, { useEffect, useRef, useState } from 'react'\nimport * as THREE from 'three'\nimport { useThemeStore } from '@/stores'\n\n/**\n * 简化3D粒子组件\n * \n * 功能特点：\n * - 简洁的粒子效果，不抢夺主要内容焦点\n * - 科技感粒子动画\n * - 优化的渲染性能\n * - 响应式适配，支持各种屏幕尺寸\n */\n\nexport const AIBrainModel: React.FC = () => {\n    const mountRef = useRef<HTMLDivElement>(null)\n    // 添加强制重新初始化状态\n    const [forceReload, setForceReload] = useState(0)\n    const sceneRef = useRef<THREE.Scene | null>(null)\n    const rendererRef = useRef<THREE.WebGLRenderer | null>(null)\n    const cameraRef = useRef<THREE.PerspectiveCamera | null>(null)\n    const animationIdRef = useRef<number | null>(null)\n    const { theme } = useThemeStore()\n\n    // 用于平滑过渡的透明度状态\n    const targetOpacityRef = useRef(theme === 'light' ? 0.01 : 0.6)\n    const currentOpacityRef = useRef(theme === 'light' ? 0.01 : 0.6)\n\n    useEffect(() => {\n        // 强制清理之前的状态\n        let animationId: number | null = null\n\n        // 延迟初始化确保DOM完全准备就绪\n        const initTimer = setTimeout(() => {\n            if (!mountRef.current) {\n                // DOM未准备好，延迟重试\n                setForceReload(prev => prev + 1)\n                return\n            }\n\n            // 强制清理可能残留的renderer\n            if (rendererRef.current && mountRef.current.contains(rendererRef.current.domElement)) {\n                mountRef.current.removeChild(rendererRef.current.domElement)\n                rendererRef.current.dispose()\n                rendererRef.current = null\n            }\n\n            try {\n                // 检查WebGL可用性\n                const canvas = document.createElement('canvas')\n                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl')\n                if (!gl) {\n                    console.warn('WebGL不可用，跳过3D渲染')\n                    return\n                }\n\n                // 初始化场景\n                const scene = new THREE.Scene()\n                sceneRef.current = scene\n\n                // 初始化相机 - 调整为小容器适配\n                const camera = new THREE.PerspectiveCamera(\n                    40, // 减小视野角度，适应小容器\n                    mountRef.current.clientWidth / mountRef.current.clientHeight,\n                    0.1,\n                    1000\n                )\n                camera.position.set(0, 0, 8) // 拉远相机，确保小容器内显示完整\n                cameraRef.current = camera\n\n                // 初始化渲染器\n                const renderer = new THREE.WebGLRenderer({\n                    alpha: true,\n                    antialias: true,\n                    powerPreference: 'high-performance'\n                })\n                renderer.setSize(mountRef.current.clientWidth, mountRef.current.clientHeight)\n                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))\n                rendererRef.current = renderer\n                mountRef.current.appendChild(renderer.domElement)\n\n                // 创建简单粒子系统\n                const particleCount = 60\n                const particleGeometry = new THREE.BufferGeometry()\n                const positions = new Float32Array(particleCount * 3)\n                const colors = new Float32Array(particleCount * 3)\n\n                for (let i = 0; i < particleCount; i++) {\n                    // 随机位置\n                    positions[i * 3] = (Math.random() - 0.5) * 10     // x\n                    positions[i * 3 + 1] = (Math.random() - 0.5) * 6  // y\n                    positions[i * 3 + 2] = (Math.random() - 0.5) * 6  // z\n\n                    // 蓝紫色调\n                    if (Math.random() < 0.5) {\n                        colors[i * 3] = 0.231     // 蓝色\n                        colors[i * 3 + 1] = 0.510\n                        colors[i * 3 + 2] = 0.965\n                    } else {\n                        colors[i * 3] = 0.545     // 紫色\n                        colors[i * 3 + 1] = 0.361\n                        colors[i * 3 + 2] = 0.965\n                    }\n                }\n\n                particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3))\n                particleGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3))\n\n                const particleMaterial = new THREE.PointsMaterial({\n                    size: 0.05,\n                    vertexColors: true,\n                    transparent: true,\n                    opacity: currentOpacityRef.current,\n                    blending: THREE.AdditiveBlending\n                })\n\n                const particles = new THREE.Points(particleGeometry, particleMaterial)\n                scene.add(particles)\n\n                let time = 0\n\n                // 动画循环\n                function animate() {\n                    // 检查组件是否仍然挂载\n                    if (!mountRef.current || !sceneRef.current || !rendererRef.current || !cameraRef.current) {\n                        return\n                    }\n\n                    time += 0.01\n\n                    // 平滑过渡透明度\n                    currentOpacityRef.current = THREE.MathUtils.lerp(\n                        currentOpacityRef.current,\n                        targetOpacityRef.current,\n                        0.02\n                    )\n\n                    // 简单的粒子动画\n                    const positions = particles.geometry.attributes.position.array as Float32Array\n                    for (let i = 0; i < positions.length; i += 3) {\n                        positions[i + 1] += Math.sin(time + i) * 0.005 // y轴浮动\n                        positions[i] += Math.cos(time + i * 0.1) * 0.003 // x轴微动\n                    }\n                    particles.geometry.attributes.position.needsUpdate = true\n\n                    // 更新粒子透明度\n                    const material = particles.material as THREE.PointsMaterial\n                    material.opacity = currentOpacityRef.current\n\n                    // 整体旋转\n                    particles.rotation.y += 0.002\n\n                    try {\n                        renderer.render(scene, camera)\n                        animationId = requestAnimationFrame(animate)\n                        animationIdRef.current = animationId\n                    } catch (error) {\n                        console.warn('Three.js render error:', error)\n                        return\n                    }\n                }\n\n                // 启动动画\n                animate()\n            } catch (error) {\n                console.warn('3D初始化失败:', error)\n            }\n        }, 100)\n\n        // 清理函数\n        return () => {\n            clearTimeout(initTimer)\n\n            if (animationId) {\n                cancelAnimationFrame(animationId)\n            }\n            if (animationIdRef.current) {\n                cancelAnimationFrame(animationIdRef.current)\n                animationIdRef.current = null\n            }\n\n            // 完整资源清理\n            if (sceneRef.current) {\n                sceneRef.current.clear()\n                sceneRef.current = null\n            }\n\n            if (rendererRef.current) {\n                if (mountRef.current && mountRef.current.contains(rendererRef.current.domElement)) {\n                    mountRef.current.removeChild(rendererRef.current.domElement)\n                }\n                rendererRef.current.dispose()\n                rendererRef.current = null\n            }\n\n            cameraRef.current = null\n        }\n    }, [forceReload]) // 依赖forceReload，确保重新初始化\n\n    // 单独处理主题变化，只更新目标透明度\n    useEffect(() => {\n        targetOpacityRef.current = theme === 'light' ? 0.01 : 0.6\n    }, [theme])\n\n    return (\n        <div\n            ref={mountRef}\n            style={{\n                width: '100%',\n                height: '200px', // 减小高度，适配小容器\n                position: 'relative',\n                zIndex: 1,\n                pointerEvents: 'none' // 关键修复：确保不干扰用户交互\n            }}\n        />\n    )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2475, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/BackToTopButton/BackToTopButton.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback } from 'react'\n\n/**\n * BackToTopButton 组件 - 全站公共返回顶部按钮\n * \n * 🎯 功能特性：\n * - 全站唯一公共组件，所有页面共享使用\n * - 智能显示：滚动超过300px时显示\n * - 平滑过渡：多重动画效果，避免突兀出现\n * - 响应式设计：移动端和桌面端自适应\n * - 性能优化：防抖滚动监听，requestAnimationFrame优化\n * \n * 🎨 设计规范：\n * - 位置：右下角固定定位\n * - 尺寸：48x48px (桌面端)，40x40px (移动端)\n * - 背景：品牌渐变色 + 毛玻璃效果\n * - 动画：cubic-bezier缓动 + 多重过渡效果\n * - 阴影：品牌色阴影增强视觉层次\n * \n * ⚠️ 重要说明：\n * - 这是全站唯一的置顶按钮组件\n * - 已在 layout.tsx 和 profile/layout.tsx 中全局引用\n * - 禁止在单个页面中重复实现置顶功能\n * - 所有页面的置顶功能都必须使用这个公共组件\n * \n * 📍 使用位置：\n * - 主布局：frontend/src/app/layout.tsx (第144行)\n * - 个人中心布局：frontend/src/app/profile/layout.tsx (第80行)\n * \n * 🔧 技术实现：\n * - 始终渲染到DOM，使用CSS控制可见性\n * - 多重过渡效果：opacity + transform + scale\n * - 防抖滚动监听，优化性能\n * - 响应式断点：768px以下调整尺寸和位置\n */\nexport function BackToTopButton() {\n    const [isVisible, setIsVisible] = useState(false)\n    const [isScrolling, setIsScrolling] = useState(false)\n\n    // 防抖滚动处理 - 优化性能\n    const handleScroll = useCallback(() => {\n        const scrollTop = window.pageYOffset || document.documentElement.scrollTop\n\n        // 滚动阈值：300px后显示按钮\n        const shouldShow = scrollTop > 300\n\n        if (shouldShow !== isVisible) {\n            setIsVisible(shouldShow)\n        }\n\n        // 滚动状态：用于微妙的视觉反馈\n        setIsScrolling(true)\n\n        // 清除滚动状态\n        const scrollTimeout = setTimeout(() => {\n            setIsScrolling(false)\n        }, 150)\n\n        return () => clearTimeout(scrollTimeout)\n    }, [isVisible])\n\n    // 滚动监听 - 性能优化版本\n    useEffect(() => {\n        let ticking = false\n\n        const optimizedScrollHandler = () => {\n            if (!ticking) {\n                requestAnimationFrame(() => {\n                    handleScroll()\n                    ticking = false\n                })\n                ticking = true\n            }\n        }\n\n        // 监听滚动事件，passive: true 优化性能\n        window.addEventListener('scroll', optimizedScrollHandler, { passive: true })\n\n        // 清理函数\n        return () => {\n            window.removeEventListener('scroll', optimizedScrollHandler)\n        }\n    }, [handleScroll])\n\n    // 返回顶部处理函数\n    const scrollToTop = useCallback(() => {\n        window.scrollTo({\n            top: 0,\n            behavior: 'smooth'\n        })\n    }, [])\n\n    return (\n        <button\n            onClick={scrollToTop}\n            className=\"back-to-top-button\"\n            style={{\n                // 基础定位和层级\n                position: 'fixed',\n                bottom: '32px', // 桌面端位置\n                right: '32px',\n                zIndex: 100,\n\n                // 尺寸和形状\n                width: '48px', // 桌面端尺寸\n                height: '48px',\n                borderRadius: '50%',\n                border: 'none',\n                cursor: 'pointer',\n\n                // 布局\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n\n                // 视觉样式\n                background: 'var(--gradient-primary)', // 使用项目主题渐变色\n                boxShadow: isVisible\n                    ? '0 8px 25px rgba(59, 130, 246, 0.4), 0 4px 12px rgba(139, 92, 246, 0.3)'\n                    : '0 4px 12px rgba(59, 130, 246, 0.2)',\n                backdropFilter: 'blur(8px)',\n                WebkitBackdropFilter: 'blur(8px)',\n\n                // 🎭 多重平滑过渡效果 - 核心优化\n                opacity: isVisible ? 1 : 0,\n                transform: `\n                    translateY(${isVisible ? '0' : '20px'}) \n                    scale(${isVisible ? (isScrolling ? '1.05' : '1') : '0.8'})\n                `,\n                visibility: isVisible ? 'visible' : 'hidden',\n\n                // 🌊 平滑过渡动画 - 使用三次贝塞尔曲线\n                transition: `\n                    opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94),\n                    transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94),\n                    visibility 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94),\n                    box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)\n                `,\n\n                // 性能优化\n                willChange: 'opacity, transform, box-shadow'\n            }}\n            // 鼠标悬停效果\n            onMouseEnter={(e) => {\n                if (isVisible) {\n                    e.currentTarget.style.transform = `\n                        translateY(-2px) \n                        scale(1.1)\n                    `\n                    e.currentTarget.style.boxShadow = '0 12px 30px rgba(59, 130, 246, 0.5), 0 6px 15px rgba(139, 92, 246, 0.4)'\n                }\n            }}\n            onMouseLeave={(e) => {\n                if (isVisible) {\n                    e.currentTarget.style.transform = `\n                        translateY(0) \n                        scale(1)\n                    `\n                    e.currentTarget.style.boxShadow = '0 8px 25px rgba(59, 130, 246, 0.4), 0 4px 12px rgba(139, 92, 246, 0.3)'\n                }\n            }}\n            // 点击反馈效果\n            onMouseDown={(e) => {\n                if (isVisible) {\n                    e.currentTarget.style.transform = `\n                        translateY(0) \n                        scale(0.95)\n                    `\n                }\n            }}\n            onMouseUp={(e) => {\n                if (isVisible) {\n                    e.currentTarget.style.transform = `\n                        translateY(-2px) \n                        scale(1.1)\n                    `\n                }\n            }}\n            // 无障碍支持\n            aria-label=\"返回页面顶部\"\n            aria-hidden={!isVisible}\n            disabled={!isVisible}\n        >\n            {/* 向上箭头图标 - 使用内联SVG确保渲染稳定性 */}\n            <svg\n                width=\"20\"\n                height=\"20\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                style={{\n                    transition: 'transform 0.2s ease',\n                    transform: isScrolling ? 'translateY(-1px)' : 'translateY(0)'\n                }}\n            >\n                <path\n                    d=\"M12 19V5M5 12L12 5L19 12\"\n                    stroke=\"white\"\n                    strokeWidth=\"2.5\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                />\n            </svg>\n        </button>\n    )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2651, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/PageTransition/PageTransition.tsx"],"sourcesContent":["'use client'\n\nimport { ReactNode, useEffect, useState, memo } from 'react'\nimport { usePathname } from 'next/navigation'\n\ninterface PageTransitionProps {\n    children: ReactNode\n    /**\n     * 过渡动画持续时间（毫秒）\n     */\n    duration?: number\n\n    /**\n     * 动画类型\n     */\n    animationType?: 'fade' | 'slide-up' | 'slide-down' | 'scale' | 'none'\n\n    /**\n     * 是否启用过渡动画\n     */\n    enabled?: boolean\n\n    /**\n     * 自定义类名\n     */\n    className?: string\n}\n\n/**\n * 页面过渡效果组件 - PageTransition\n * \n * 提供平滑的页面切换过渡效果，优化用户体验\n * \n * 功能特性：\n * - 多种过渡动画类型\n * - 自动检测路由变化\n * - 与菜单栏过渡同步\n * - 性能优化的动画\n * - 响应式设计支持\n * \n * 设计规范：\n * - 默认动画: fade淡入淡出\n * - 持续时间: 300ms (优化后更快速)\n * - 缓动函数: cubic-bezier(0.25, 0.46, 0.45, 0.94)\n * - 层级管理: 确保与Header组件不冲突\n */\nexport const PageTransition = memo(function PageTransition({\n    children,\n    duration = 300, // 减少到300ms，更快速\n    animationType = 'fade',\n    enabled = true,\n    className = ''\n}: PageTransitionProps) {\n    const pathname = usePathname()\n    const [isTransitioning, setIsTransitioning] = useState(false)\n    const [displayContent, setDisplayContent] = useState(children)\n\n    // 监听路由变化，触发过渡动画\n    useEffect(() => {\n        if (!enabled) {\n            setDisplayContent(children)\n            return\n        }\n\n        // 开始过渡动画\n        setIsTransitioning(true)\n\n        // 优化：减少延迟时间，让过渡更快速\n        const timer = setTimeout(() => {\n            setDisplayContent(children)\n            setIsTransitioning(false)\n        }, duration / 3) // 从 duration / 2 改为 duration / 3\n\n        return () => clearTimeout(timer)\n    }, [pathname, children, duration, enabled])\n\n    // 获取动画样式\n    const getAnimationStyles = () => {\n        const baseTransition = `all ${duration}ms cubic-bezier(0.25, 0.46, 0.45, 0.94)`\n\n        switch (animationType) {\n            case 'fade':\n                return {\n                    transition: baseTransition,\n                    opacity: isTransitioning ? 0 : 1\n                }\n\n            case 'slide-up':\n                return {\n                    transition: baseTransition,\n                    transform: isTransitioning ? 'translateY(20px)' : 'translateY(0)',\n                    opacity: isTransitioning ? 0 : 1\n                }\n\n            case 'slide-down':\n                return {\n                    transition: baseTransition,\n                    transform: isTransitioning ? 'translateY(-20px)' : 'translateY(0)',\n                    opacity: isTransitioning ? 0 : 1\n                }\n\n            case 'scale':\n                return {\n                    transition: baseTransition,\n                    transform: isTransitioning ? 'scale(0.95)' : 'scale(1)',\n                    opacity: isTransitioning ? 0 : 1\n                }\n\n            case 'none':\n            default:\n                return {}\n        }\n    }\n\n    const containerStyles = {\n        ...getAnimationStyles(),\n        willChange: isTransitioning ? 'transform, opacity' : 'auto', // 只在过渡时设置will-change\n        minHeight: '100vh',\n        position: 'relative' as const,\n        // 添加性能优化\n        contain: 'layout style paint' as const, // 创建新的层叠上下文\n        isolation: 'isolate' as const // 隔离层叠上下文\n    }\n\n    return (\n        <div\n            className={`page-transition ${className}`}\n            style={containerStyles}\n        >\n            {displayContent}\n\n            {/* 过渡期间的加载指示器 */}\n            {isTransitioning && (\n                <div style={{\n                    position: 'fixed',\n                    top: '98px', // 菜单栏高度\n                    left: 0,\n                    right: 0,\n                    height: '2px',\n                    background: 'var(--gradient-primary)',\n                    zIndex: 1000,\n                    animation: 'progressBar 0.3s ease-out' // 从0.5s减少到0.3s\n                }} />\n            )}\n\n            <style jsx>{`\n                @keyframes progressBar {\n                    0% {\n                        transform: translateX(-100%);\n                    }\n                    100% {\n                        transform: translateX(0);\n                    }\n                }\n                \n                .page-transition {\n                    /* 确保内容区域与Header不重叠 */\n                    margin-top: 0;\n                }\n                \n                /* 为不同页面类型提供特殊处理 */\n                .page-transition.profile-page {\n                    margin-top: 0; /* 个人中心页面不需要Header间距 */\n                }\n                \n                .page-transition.standard-page {\n                    padding-top: 98px; /* 标准页面需要Header间距 */\n                }\n                \n                /* 响应式优化 */\n                @media (max-width: 768px) {\n                    .page-transition.standard-page {\n                        padding-top: 80px; /* 移动端Header高度调整 */\n                    }\n                }\n                \n                /* 减少不必要的重排重绘 */\n                @media (prefers-reduced-motion: reduce) {\n                    .page-transition {\n                        transition: none !important;\n                        transform: none !important;\n                        animation: none !important;\n                    }\n                }\n            `}</style>\n        </div>\n    )\n})"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;;AA8CO,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,OAAI,AAAD,EAAE,SAAS,eAAe,EACvD,QAAQ,EACR,WAAW,GAAG,EACd,gBAAgB,MAAM,EACtB,UAAU,IAAI,EACd,YAAY,EAAE,EACI;IAClB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErD,gBAAgB;IAChB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,CAAC,SAAS;YACV,kBAAkB;YAClB;QACJ;QAEA,SAAS;QACT,mBAAmB;QAEnB,mBAAmB;QACnB,MAAM,QAAQ,WAAW;YACrB,kBAAkB;YAClB,mBAAmB;QACvB,GAAG,WAAW,GAAG,iCAAiC;;QAElD,OAAO,IAAM,aAAa;IAC9B,GAAG;QAAC;QAAU;QAAU;QAAU;KAAQ;IAE1C,SAAS;IACT,MAAM,qBAAqB;QACvB,MAAM,iBAAiB,CAAC,IAAI,EAAE,SAAS,uCAAuC,CAAC;QAE/E,OAAQ;YACJ,KAAK;gBACD,OAAO;oBACH,YAAY;oBACZ,SAAS,kBAAkB,IAAI;gBACnC;YAEJ,KAAK;gBACD,OAAO;oBACH,YAAY;oBACZ,WAAW,kBAAkB,qBAAqB;oBAClD,SAAS,kBAAkB,IAAI;gBACnC;YAEJ,KAAK;gBACD,OAAO;oBACH,YAAY;oBACZ,WAAW,kBAAkB,sBAAsB;oBACnD,SAAS,kBAAkB,IAAI;gBACnC;YAEJ,KAAK;gBACD,OAAO;oBACH,YAAY;oBACZ,WAAW,kBAAkB,gBAAgB;oBAC7C,SAAS,kBAAkB,IAAI;gBACnC;YAEJ,KAAK;YACL;gBACI,OAAO,CAAC;QAChB;IACJ;IAEA,MAAM,kBAAkB;QACpB,GAAG,oBAAoB;QACvB,YAAY,kBAAkB,uBAAuB;QACrD,WAAW;QACX,UAAU;QACV,SAAS;QACT,SAAS;QACT,WAAW;IACf;IAEA,qBACI,8OAAC;QAEG,OAAO;iDADI,CAAC,gBAAgB,EAAE,WAAW;;YAGxC;YAGA,iCACG,8OAAC;gBAAI,OAAO;oBACR,UAAU;oBACV,KAAK;oBACL,MAAM;oBACN,OAAO;oBACP,QAAQ;oBACR,YAAY;oBACZ,QAAQ;oBACR,WAAW,4BAA4B,eAAe;gBAC1D;;;;;;;;;;;;;;;;;AA6ChB","debugId":null}},
    {"offset": {"line": 2766, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/AnimatedNumber/AnimatedNumber.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect, useRef } from 'react'\nimport { GradientText } from '../Text/GradientText'\n\ninterface AnimatedNumberProps {\n    value: string\n    duration?: number\n    delay?: number\n    size?: 'xs' | 'sm' | 'base' | 'lg' | 'xl' | '2xl' | '3xl' | '4xl' | '5xl' | '6xl' | '7xl' | '8xl'\n    weight?: 'normal' | 'medium' | 'semibold' | 'bold'\n    className?: string\n    style?: React.CSSProperties\n}\n\nexport const AnimatedNumber: React.FC<AnimatedNumberProps> = ({\n    value,\n    duration = 2000,\n    delay = 0,\n    size = '7xl',\n    weight = 'bold',\n    className = '',\n    style = {}\n}) => {\n    const [displayValue, setDisplayValue] = useState(value.endsWith('万+') ? '0万+' : '0+')\n    const [isVisible, setIsVisible] = useState(false)\n    const elementRef = useRef<HTMLDivElement>(null)\n    const animationRef = useRef<number | null>(null)\n    const hasAnimatedRef = useRef(false)\n\n    // 解析目标数值\n    const getTargetNumber = (val: string): number => {\n        if (val === '30万+') return 30\n        if (val === '500+') return 500\n        if (val === '120+') return 120\n        if (val === '50+') return 50\n        return 0\n    }\n\n    const targetNumber = getTargetNumber(value)\n    const isWanValue = value.includes('万')\n\n    // 开始动画\n    const startAnimation = () => {\n        if (hasAnimatedRef.current) return\n        hasAnimatedRef.current = true\n\n        console.log('🚀 Starting animation for:', value, 'target:', targetNumber)\n\n        let startTime: number | null = null\n\n        const animate = (timestamp: number) => {\n            if (!startTime) startTime = timestamp\n\n            const elapsed = timestamp - startTime\n            const progress = Math.min(elapsed / duration, 1)\n\n            // 简单的线性插值，更容易调试\n            const currentNumber = Math.round(progress * targetNumber)\n\n            // 更新显示值\n            const newDisplayValue = isWanValue ? `${currentNumber}万+` : `${currentNumber}+`\n            setDisplayValue(newDisplayValue)\n\n            console.log('📊 Animation update:', {\n                progress: Math.round(progress * 100) + '%',\n                currentNumber,\n                newDisplayValue\n            })\n\n            if (progress < 1) {\n                animationRef.current = requestAnimationFrame(animate)\n            } else {\n                console.log('✅ Animation completed for:', value)\n            }\n        }\n\n        animationRef.current = requestAnimationFrame(animate)\n    }\n\n    // Intersection Observer\n    useEffect(() => {\n        const element = elementRef.current\n        if (!element) return\n\n        const observer = new IntersectionObserver(\n            ([entry]) => {\n                if (entry.isIntersecting) {\n                    setIsVisible(true)\n                    console.log('👁️ Element visible:', value, 'delay:', delay)\n\n                    setTimeout(() => {\n                        startAnimation()\n                    }, delay)\n                }\n            },\n            { threshold: 0.1 }\n        )\n\n        observer.observe(element)\n\n        return () => {\n            observer.disconnect()\n            if (animationRef.current) {\n                cancelAnimationFrame(animationRef.current)\n            }\n        }\n    }, []) // 空依赖数组，只在挂载时运行\n\n    return (\n        <div ref={elementRef}>\n            <GradientText\n                size={size}\n                weight={weight}\n                className={className}\n                style={{\n                    ...style,\n                    whiteSpace: 'nowrap',\n                    lineHeight: size === '7xl' ? '76.8px' : undefined\n                }}\n            >\n                {displayValue}\n            </GradientText>\n        </div>\n    )\n} "],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAeO,MAAM,iBAAgD,CAAC,EAC1D,KAAK,EACL,WAAW,IAAI,EACf,QAAQ,CAAC,EACT,OAAO,KAAK,EACZ,SAAS,MAAM,EACf,YAAY,EAAE,EACd,QAAQ,CAAC,CAAC,EACb;IACG,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,MAAM,QAAQ,CAAC,QAAQ,QAAQ;IAChF,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAC1C,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAiB;IAC3C,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAE;IAE9B,SAAS;IACT,MAAM,kBAAkB,CAAC;QACrB,IAAI,QAAQ,QAAQ,OAAO;QAC3B,IAAI,QAAQ,QAAQ,OAAO;QAC3B,IAAI,QAAQ,QAAQ,OAAO;QAC3B,IAAI,QAAQ,OAAO,OAAO;QAC1B,OAAO;IACX;IAEA,MAAM,eAAe,gBAAgB;IACrC,MAAM,aAAa,MAAM,QAAQ,CAAC;IAElC,OAAO;IACP,MAAM,iBAAiB;QACnB,IAAI,eAAe,OAAO,EAAE;QAC5B,eAAe,OAAO,GAAG;QAEzB,QAAQ,GAAG,CAAC,8BAA8B,OAAO,WAAW;QAE5D,IAAI,YAA2B;QAE/B,MAAM,UAAU,CAAC;YACb,IAAI,CAAC,WAAW,YAAY;YAE5B,MAAM,UAAU,YAAY;YAC5B,MAAM,WAAW,KAAK,GAAG,CAAC,UAAU,UAAU;YAE9C,gBAAgB;YAChB,MAAM,gBAAgB,KAAK,KAAK,CAAC,WAAW;YAE5C,QAAQ;YACR,MAAM,kBAAkB,aAAa,GAAG,cAAc,EAAE,CAAC,GAAG,GAAG,cAAc,CAAC,CAAC;YAC/E,gBAAgB;YAEhB,QAAQ,GAAG,CAAC,wBAAwB;gBAChC,UAAU,KAAK,KAAK,CAAC,WAAW,OAAO;gBACvC;gBACA;YACJ;YAEA,IAAI,WAAW,GAAG;gBACd,aAAa,OAAO,GAAG,sBAAsB;YACjD,OAAO;gBACH,QAAQ,GAAG,CAAC,8BAA8B;YAC9C;QACJ;QAEA,aAAa,OAAO,GAAG,sBAAsB;IACjD;IAEA,wBAAwB;IACxB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,UAAU,WAAW,OAAO;QAClC,IAAI,CAAC,SAAS;QAEd,MAAM,WAAW,IAAI,qBACjB,CAAC,CAAC,MAAM;YACJ,IAAI,MAAM,cAAc,EAAE;gBACtB,aAAa;gBACb,QAAQ,GAAG,CAAC,wBAAwB,OAAO,UAAU;gBAErD,WAAW;oBACP;gBACJ,GAAG;YACP;QACJ,GACA;YAAE,WAAW;QAAI;QAGrB,SAAS,OAAO,CAAC;QAEjB,OAAO;YACH,SAAS,UAAU;YACnB,IAAI,aAAa,OAAO,EAAE;gBACtB,qBAAqB,aAAa,OAAO;YAC7C;QACJ;IACJ,GAAG,EAAE,GAAE,gBAAgB;IAEvB,qBACI,8OAAC;QAAI,KAAK;kBACN,cAAA,8OAAC,gJAAA,CAAA,eAAY;YACT,MAAM;YACN,QAAQ;YACR,WAAW;YACX,OAAO;gBACH,GAAG,KAAK;gBACR,YAAY;gBACZ,YAAY,SAAS,QAAQ,WAAW;YAC5C;sBAEC;;;;;;;;;;;AAIjB","debugId":null}},
    {"offset": {"line": 2870, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/GlobalCountdownInit/GlobalCountdownInit.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect } from 'react'\nimport { startGlobalCountdown } from '@/stores'\n\n/**\n * 全局倒计时初始化组件\n * 用于在应用启动时初始化全局倒计时系统\n */\nexport function GlobalCountdownInit() {\n    useEffect(() => {\n        // 启动全局倒计时\n        startGlobalCountdown()\n\n        // 清理函数\n        return () => {\n            // 组件卸载时不停止倒计时，让倒计时持续运行\n        }\n    }, [])\n\n    // 这个组件不渲染任何内容\n    return null\n} "],"names":[],"mappings":";;;AAEA;AACA;AAAA;AAHA;;;AASO,SAAS;IACZ,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,UAAU;QACV,CAAA,GAAA,+HAAA,CAAA,uBAAoB,AAAD;QAEnB,OAAO;QACP,OAAO;QACH,uBAAuB;QAC3B;IACJ,GAAG,EAAE;IAEL,cAAc;IACd,OAAO;AACX","debugId":null}},
    {"offset": {"line": 2895, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/ThemeInit/ThemeInit.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect } from 'react'\nimport { usePathname } from 'next/navigation'\nimport { useThemeStore } from '@/stores'\n\n/**\n * ThemeInit 组件 - 主题初始化\n * \n * 功能特性：\n * - 在客户端初始化时应用主题\n * - 确保主题状态与DOM属性同步\n * - 处理SSR水合时的主题应用\n * - 路由切换时强制重新应用主题\n */\nexport function ThemeInit() {\n    const { theme } = useThemeStore()\n    const pathname = usePathname()\n\n    useEffect(() => {\n        // 检查主题是否已经正确应用（由阻塞式脚本设置）\n        const currentDataTheme = document.documentElement.getAttribute('data-theme')\n        const needsUpdate = currentDataTheme !== theme\n\n        const applyTheme = () => {\n            document.documentElement.setAttribute('data-theme', theme)\n            \n            // 只有在主题实际发生变化时才触发重排\n            if (needsUpdate) {\n                // 使用更轻量的方式触发CSS重新计算\n                const rootElement = document.documentElement\n                rootElement.style.setProperty('--theme-update', Date.now().toString())\n            }\n        }\n\n        // 如果需要更新主题，立即应用\n        if (needsUpdate) {\n            applyTheme()\n        }\n        \n        // 添加小延迟确保路由切换完成后再检查一次\n        const timer = setTimeout(() => {\n            if (document.documentElement.getAttribute('data-theme') !== theme) {\n                applyTheme()\n            }\n        }, 50)\n\n        // 主题切换后的优化已通过阻塞式脚本和CSS处理，这里不再需要额外处理\n\n        // 监听系统主题变化（可选功能）\n        const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\n\n        const handleSystemThemeChange = (_: MediaQueryListEvent) => {\n            // 只有在用户没有明确设置主题时才跟随系统\n            // 这里暂时不实现自动跟随，保持用户选择\n        }\n\n        mediaQuery.addEventListener('change', handleSystemThemeChange)\n\n        return () => {\n            clearTimeout(timer)\n            mediaQuery.removeEventListener('change', handleSystemThemeChange)\n        }\n    }, [theme, pathname]) // 监听主题和路径变化\n\n    // 额外的路径变化监听 - 确保路由切换时主题保持一致\n    useEffect(() => {\n        // 路径变化时检查并确保主题正确\n        const ensureThemeConsistency = () => {\n            const currentDataTheme = document.documentElement.getAttribute('data-theme')\n            if (currentDataTheme !== theme) {\n                document.documentElement.setAttribute('data-theme', theme)\n            }\n        }\n\n        // 添加小延迟确保路由切换完成\n        const timer = setTimeout(ensureThemeConsistency, 100)\n        \n        return () => clearTimeout(timer)\n    }, [pathname, theme]) // 路径变化时重新检查主题\n\n    // 不渲染任何内容，纯功能组件\n    return null\n} "],"names":[],"mappings":";;;AAEA;AACA;AACA;AAAA;AAJA;;;;AAeO,SAAS;IACZ,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,2HAAA,CAAA,gBAAa,AAAD;IAC9B,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAE3B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,yBAAyB;QACzB,MAAM,mBAAmB,SAAS,eAAe,CAAC,YAAY,CAAC;QAC/D,MAAM,cAAc,qBAAqB;QAEzC,MAAM,aAAa;YACf,SAAS,eAAe,CAAC,YAAY,CAAC,cAAc;YAEpD,oBAAoB;YACpB,IAAI,aAAa;gBACb,oBAAoB;gBACpB,MAAM,cAAc,SAAS,eAAe;gBAC5C,YAAY,KAAK,CAAC,WAAW,CAAC,kBAAkB,KAAK,GAAG,GAAG,QAAQ;YACvE;QACJ;QAEA,gBAAgB;QAChB,IAAI,aAAa;YACb;QACJ;QAEA,sBAAsB;QACtB,MAAM,QAAQ,WAAW;YACrB,IAAI,SAAS,eAAe,CAAC,YAAY,CAAC,kBAAkB,OAAO;gBAC/D;YACJ;QACJ,GAAG;QAEH,oCAAoC;QAEpC,iBAAiB;QACjB,MAAM,aAAa,OAAO,UAAU,CAAC;QAErC,MAAM,0BAA0B,CAAC;QAC7B,sBAAsB;QACtB,qBAAqB;QACzB;QAEA,WAAW,gBAAgB,CAAC,UAAU;QAEtC,OAAO;YACH,aAAa;YACb,WAAW,mBAAmB,CAAC,UAAU;QAC7C;IACJ,GAAG;QAAC;QAAO;KAAS,GAAE,YAAY;IAElC,4BAA4B;IAC5B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,iBAAiB;QACjB,MAAM,yBAAyB;YAC3B,MAAM,mBAAmB,SAAS,eAAe,CAAC,YAAY,CAAC;YAC/D,IAAI,qBAAqB,OAAO;gBAC5B,SAAS,eAAe,CAAC,YAAY,CAAC,cAAc;YACxD;QACJ;QAEA,gBAAgB;QAChB,MAAM,QAAQ,WAAW,wBAAwB;QAEjD,OAAO,IAAM,aAAa;IAC9B,GAAG;QAAC;QAAU;KAAM,GAAE,cAAc;IAEpC,gBAAgB;IAChB,OAAO;AACX","debugId":null}},
    {"offset": {"line": 2971, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Modal/index.ts"],"sourcesContent":["// Modal组件统一导出\nexport { BaseModal } from './BaseModal'\nexport { ModalOverlay } from './ModalOverlay' "],"names":[],"mappings":"AAAA,cAAc;;AACd;AACA","debugId":null}},
    {"offset": {"line": 2989, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Toast/Toast.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\n\n/**\n * 移动端Toast通知组件 - Toast\n * \n * 专为移动端优化的通知提示系统\n * 支持多种类型的消息展示和自动消失\n * \n * 设计目标：\n * - 移动端友好的通知展示\n * - 多种消息类型支持\n * - 自动消失和手动关闭\n * - 优雅的动画效果\n */\n\nexport type ToastType = 'success' | 'error' | 'warning' | 'info'\nexport type ToastPosition = 'top' | 'bottom' | 'center'\n\nexport interface ToastData {\n    id: string\n    type: ToastType\n    title: string\n    message?: string\n    duration?: number\n    position?: ToastPosition\n    showCloseButton?: boolean\n    action?: {\n        label: string\n        onClick: () => void\n    }\n}\n\ninterface ToastProps {\n    toast: ToastData\n    onClose: (id: string) => void\n    className?: string\n}\n\nexport function Toast({ toast, onClose, className = '' }: ToastProps) {\n    const [isVisible, setIsVisible] = useState(false)\n    const [isLeaving, setIsLeaving] = useState(false)\n\n    // 获取Toast类型对应的图标和样式\n    const getToastConfig = (type: ToastType) => {\n        switch (type) {\n            case 'success':\n                return {\n                    icon: '✅',\n                    className: 'toast-success',\n                    backgroundColor: '#10B981',\n                    borderColor: '#059669'\n                }\n            case 'error':\n                return {\n                    icon: '❌',\n                    className: 'toast-error',\n                    backgroundColor: '#EF4444',\n                    borderColor: '#DC2626'\n                }\n            case 'warning':\n                return {\n                    icon: '⚠️',\n                    className: 'toast-warning',\n                    backgroundColor: '#F59E0B',\n                    borderColor: '#D97706'\n                }\n            case 'info':\n                return {\n                    icon: 'ℹ️',\n                    className: 'toast-info',\n                    backgroundColor: '#3B82F6',\n                    borderColor: '#2563EB'\n                }\n            default:\n                return {\n                    icon: 'ℹ️',\n                    className: 'toast-info',\n                    backgroundColor: '#3B82F6',\n                    borderColor: '#2563EB'\n                }\n        }\n    }\n\n    const config = getToastConfig(toast.type)\n\n    // 处理关闭动画\n    const handleClose = () => {\n        setIsLeaving(true)\n        setTimeout(() => {\n            onClose(toast.id)\n        }, 300) // 动画持续时间\n    }\n\n    // 自动消失逻辑\n    useEffect(() => {\n        setIsVisible(true)\n        \n        if (toast.duration && toast.duration > 0) {\n            const timer = setTimeout(() => {\n                handleClose()\n            }, toast.duration)\n\n            return () => clearTimeout(timer)\n        }\n    }, [toast.duration])\n\n    // 处理操作按钮点击\n    const handleActionClick = () => {\n        if (toast.action?.onClick) {\n            toast.action.onClick()\n            handleClose()\n        }\n    }\n\n    return (\n        <div \n            className={`\n                toast \n                ${config.className} \n                ${isVisible ? 'toast-visible' : ''} \n                ${isLeaving ? 'toast-leaving' : ''} \n                ${className}\n            `}\n            style={{\n                backgroundColor: config.backgroundColor,\n                borderColor: config.borderColor\n            }}\n        >\n            {/* Toast内容 */}\n            <div className=\"toast-content\">\n                {/* 图标 */}\n                <div className=\"toast-icon\">\n                    {config.icon}\n                </div>\n\n                {/* 文本内容 */}\n                <div className=\"toast-text\">\n                    <div className=\"toast-title\">\n                        {toast.title}\n                    </div>\n                    {toast.message && (\n                        <div className=\"toast-message\">\n                            {toast.message}\n                        </div>\n                    )}\n                </div>\n\n                {/* 操作按钮 */}\n                {toast.action && (\n                    <button \n                        className=\"toast-action\"\n                        onClick={handleActionClick}\n                    >\n                        {toast.action.label}\n                    </button>\n                )}\n\n                {/* 关闭按钮 */}\n                {toast.showCloseButton && (\n                    <button \n                        className=\"toast-close\"\n                        onClick={handleClose}\n                        aria-label=\"关闭通知\"\n                    >\n                        ✕\n                    </button>\n                )}\n            </div>\n\n            {/* 进度条（如果有持续时间） */}\n            {toast.duration && toast.duration > 0 && (\n                <div \n                    className=\"toast-progress\"\n                    style={{\n                        animationDuration: `${toast.duration}ms`\n                    }}\n                />\n            )}\n\n            {/* 移动端专用样式 */}\n            <style jsx>{`\n                .toast {\n                    position: relative;\n                    width: 100%;\n                    max-width: 400px;\n                    margin: 0 auto 12px auto;\n                    border-radius: 12px;\n                    border: 1px solid;\n                    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);\n                    backdrop-filter: blur(12px);\n                    overflow: hidden;\n                    transform: translateY(100px);\n                    opacity: 0;\n                    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n                }\n\n                .toast-visible {\n                    transform: translateY(0);\n                    opacity: 1;\n                }\n\n                .toast-leaving {\n                    transform: translateY(-100px);\n                    opacity: 0;\n                }\n\n                .toast-content {\n                    display: flex;\n                    align-items: flex-start;\n                    gap: 12px;\n                    padding: 16px;\n                    position: relative;\n                    z-index: 1;\n                }\n\n                .toast-icon {\n                    font-size: 20px;\n                    line-height: 1;\n                    flex-shrink: 0;\n                    margin-top: 2px;\n                }\n\n                .toast-text {\n                    flex: 1;\n                    min-width: 0;\n                }\n\n                .toast-title {\n                    font-size: var(--font-size-sm);\n                    font-weight: 600;\n                    color: white;\n                    margin: 0 0 4px 0;\n                    line-height: 1.4;\n                }\n\n                .toast-message {\n                    font-size: var(--font-size-xs);\n                    color: rgba(255, 255, 255, 0.9);\n                    margin: 0;\n                    line-height: 1.4;\n                }\n\n                .toast-action {\n                    background: rgba(255, 255, 255, 0.2);\n                    border: 1px solid rgba(255, 255, 255, 0.3);\n                    color: white;\n                    padding: 6px 12px;\n                    border-radius: 6px;\n                    font-size: var(--font-size-xs);\n                    font-weight: 600;\n                    cursor: pointer;\n                    transition: all 0.3s ease;\n                    white-space: nowrap;\n                    flex-shrink: 0;\n                }\n\n                .toast-action:hover {\n                    background: rgba(255, 255, 255, 0.3);\n                    border-color: rgba(255, 255, 255, 0.5);\n                }\n\n                .toast-close {\n                    background: transparent;\n                    border: none;\n                    color: rgba(255, 255, 255, 0.8);\n                    padding: 4px;\n                    cursor: pointer;\n                    font-size: var(--font-size-sm);\n                    line-height: 1;\n                    transition: color 0.3s ease;\n                    flex-shrink: 0;\n                }\n\n                .toast-close:hover {\n                    color: white;\n                }\n\n                .toast-progress {\n                    position: absolute;\n                    bottom: 0;\n                    left: 0;\n                    height: 3px;\n                    background: rgba(255, 255, 255, 0.3);\n                    transform-origin: left;\n                    animation: progressBar linear;\n                }\n\n                @keyframes progressBar {\n                    from {\n                        transform: scaleX(1);\n                    }\n                    to {\n                        transform: scaleX(0);\n                    }\n                }\n\n                /* 类型特定样式 */\n                .toast-success {\n                    background: linear-gradient(135deg, #10B981 0%, #059669 100%);\n                }\n\n                .toast-error {\n                    background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%);\n                }\n\n                .toast-warning {\n                    background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%);\n                }\n\n                .toast-info {\n                    background: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%);\n                }\n\n                /* 移动端优化 */\n                @media (max-width: 768px) {\n                    .toast {\n                        max-width: calc(100vw - 32px);\n                        margin: 0 16px 12px 16px;\n                    }\n\n                    .toast-content {\n                        padding: 14px;\n                        gap: 10px;\n                    }\n\n                    .toast-icon {\n                        font-size: 18px;\n                    }\n\n                    .toast-title {\n                        font-size: var(--font-size-xs);\n                    }\n\n                    .toast-message {\n                        font-size: 11px;\n                    }\n\n                    .toast-action {\n                        padding: 4px 8px;\n                        font-size: 11px;\n                    }\n                }\n\n                /* 触控设备优化 */\n                @media (hover: none) and (pointer: coarse) {\n                    .toast-action,\n                    .toast-close {\n                        touch-action: manipulation;\n                        min-height: 44px;\n                        min-width: 44px;\n                    }\n\n                    .toast-action:active {\n                        transform: scale(0.95);\n                    }\n                }\n\n                /* 高分辨率显示优化 */\n                @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {\n                    .toast-title,\n                    .toast-message {\n                        -webkit-font-smoothing: antialiased;\n                        -moz-osx-font-smoothing: grayscale;\n                    }\n                }\n\n                /* 可访问性增强 */\n                @media (prefers-reduced-motion: reduce) {\n                    .toast,\n                    .toast-action,\n                    .toast-close {\n                        transition: none;\n                    }\n\n                    .toast-progress {\n                        animation: none;\n                    }\n                }\n            `}</style>\n        </div>\n    )\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;;AAwCO,SAAS,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,YAAY,EAAE,EAAc;IAChE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,oBAAoB;IACpB,MAAM,iBAAiB,CAAC;QACpB,OAAQ;YACJ,KAAK;gBACD,OAAO;oBACH,MAAM;oBACN,WAAW;oBACX,iBAAiB;oBACjB,aAAa;gBACjB;YACJ,KAAK;gBACD,OAAO;oBACH,MAAM;oBACN,WAAW;oBACX,iBAAiB;oBACjB,aAAa;gBACjB;YACJ,KAAK;gBACD,OAAO;oBACH,MAAM;oBACN,WAAW;oBACX,iBAAiB;oBACjB,aAAa;gBACjB;YACJ,KAAK;gBACD,OAAO;oBACH,MAAM;oBACN,WAAW;oBACX,iBAAiB;oBACjB,aAAa;gBACjB;YACJ;gBACI,OAAO;oBACH,MAAM;oBACN,WAAW;oBACX,iBAAiB;oBACjB,aAAa;gBACjB;QACR;IACJ;IAEA,MAAM,SAAS,eAAe,MAAM,IAAI;IAExC,SAAS;IACT,MAAM,cAAc;QAChB,aAAa;QACb,WAAW;YACP,QAAQ,MAAM,EAAE;QACpB,GAAG,MAAK,SAAS;IACrB;IAEA,SAAS;IACT,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,aAAa;QAEb,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,GAAG,GAAG;YACtC,MAAM,QAAQ,WAAW;gBACrB;YACJ,GAAG,MAAM,QAAQ;YAEjB,OAAO,IAAM,aAAa;QAC9B;IACJ,GAAG;QAAC,MAAM,QAAQ;KAAC;IAEnB,WAAW;IACX,MAAM,oBAAoB;QACtB,IAAI,MAAM,MAAM,EAAE,SAAS;YACvB,MAAM,MAAM,CAAC,OAAO;YACpB;QACJ;IACJ;IAEA,qBACI,8OAAC;QAQG,OAAO;YACH,iBAAiB,OAAO,eAAe;YACvC,aAAa,OAAO,WAAW;QACnC;kDAVW,CAAC;;gBAER,EAAE,OAAO,SAAS,CAAC;gBACnB,EAAE,YAAY,kBAAkB,GAAG;gBACnC,EAAE,YAAY,kBAAkB,GAAG;gBACnC,EAAE,UAAU;YAChB,CAAC;;0BAOD,8OAAC;0DAAc;;kCAEX,8OAAC;kEAAc;kCACV,OAAO,IAAI;;;;;;kCAIhB,8OAAC;kEAAc;;0CACX,8OAAC;0EAAc;0CACV,MAAM,KAAK;;;;;;4BAEf,MAAM,OAAO,kBACV,8OAAC;0EAAc;0CACV,MAAM,OAAO;;;;;;;;;;;;oBAMzB,MAAM,MAAM,kBACT,8OAAC;wBAEG,SAAS;kEADC;kCAGT,MAAM,MAAM,CAAC,KAAK;;;;;;oBAK1B,MAAM,eAAe,kBAClB,8OAAC;wBAEG,SAAS;wBACT,cAAW;kEAFD;kCAGb;;;;;;;;;;;;YAOR,MAAM,QAAQ,IAAI,MAAM,QAAQ,GAAG,mBAChC,8OAAC;gBAEG,OAAO;oBACH,mBAAmB,GAAG,MAAM,QAAQ,CAAC,EAAE,CAAC;gBAC5C;0DAHU;;;;;;;;;;;;;;;;AAiN9B","debugId":null}},
    {"offset": {"line": 3168, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Toast/ToastContainer.tsx"],"sourcesContent":["'use client'\n\nimport { createPortal } from 'react-dom'\nimport { useEffect, useState } from 'react'\nimport { Toast, ToastData, ToastPosition } from './Toast'\n\n/**\n * Toast容器组件 - ToastContainer\n * \n * 负责管理和渲染所有Toast通知\n * 支持不同位置的Toast展示\n * \n * 设计目标：\n * - 统一管理Toast显示\n * - 支持多个位置显示\n * - 移动端友好的布局\n * - Portal渲染避免样式冲突\n */\n\ninterface ToastContainerProps {\n    toasts: ToastData[]\n    onRemoveToast: (id: string) => void\n    className?: string\n}\n\nexport function ToastContainer({ \n    toasts, \n    onRemoveToast, \n    className = '' \n}: ToastContainerProps) {\n    const [mounted, setMounted] = useState(false)\n\n    // 确保只在客户端渲染\n    useEffect(() => {\n        setMounted(true)\n    }, [])\n\n    // 按位置分组Toast\n    const groupToastsByPosition = (toasts: ToastData[]) => {\n        const groups: Record<ToastPosition, ToastData[]> = {\n            top: [],\n            center: [],\n            bottom: []\n        }\n\n        toasts.forEach(toast => {\n            const position = toast.position || 'bottom'\n            groups[position].push(toast)\n        })\n\n        return groups\n    }\n\n    const toastGroups = groupToastsByPosition(toasts)\n\n    // 如果没有Toast或者还没有挂载，不渲染\n    if (!mounted || toasts.length === 0) {\n        return null\n    }\n\n    // 渲染Toast组\n    const renderToastGroup = (toasts: ToastData[], position: ToastPosition) => {\n        if (toasts.length === 0) return null\n\n        return (\n            <div \n                className={`toast-group toast-group-${position}`}\n                key={position}\n            >\n                {toasts.map((toast) => (\n                    <Toast\n                        key={toast.id}\n                        toast={toast}\n                        onClose={onRemoveToast}\n                    />\n                ))}\n                \n                {/* 位置特定样式 */}\n                <style jsx>{`\n                    .toast-group {\n                        display: flex;\n                        flex-direction: column;\n                        gap: 8px;\n                        width: 100%;\n                        max-width: 400px;\n                        pointer-events: none;\n                    }\n\n                    .toast-group > :global(*) {\n                        pointer-events: auto;\n                    }\n\n                    .toast-group-top {\n                        align-items: center;\n                        justify-content: flex-start;\n                    }\n\n                    .toast-group-center {\n                        align-items: center;\n                        justify-content: center;\n                    }\n\n                    .toast-group-bottom {\n                        align-items: center;\n                        justify-content: flex-end;\n                    }\n\n                    /* 移动端优化 */\n                    @media (max-width: 768px) {\n                        .toast-group {\n                            max-width: calc(100vw - 32px);\n                            gap: 6px;\n                        }\n                    }\n                `}</style>\n            </div>\n        )\n    }\n\n    // 使用Portal渲染到document.body\n    return createPortal(\n        <div className={`toast-container ${className}`}>\n            {/* 顶部Toast */}\n            <div className=\"toast-position toast-position-top\">\n                {renderToastGroup(toastGroups.top, 'top')}\n            </div>\n\n            {/* 中心Toast */}\n            <div className=\"toast-position toast-position-center\">\n                {renderToastGroup(toastGroups.center, 'center')}\n            </div>\n\n            {/* 底部Toast */}\n            <div className=\"toast-position toast-position-bottom\">\n                {renderToastGroup(toastGroups.bottom, 'bottom')}\n            </div>\n\n            {/* 容器样式 */}\n            <style jsx>{`\n                .toast-container {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    z-index: 9999;\n                    pointer-events: none;\n                    display: flex;\n                    flex-direction: column;\n                }\n\n                .toast-position {\n                    position: absolute;\n                    left: 0;\n                    right: 0;\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    pointer-events: none;\n                }\n\n                .toast-position-top {\n                    top: env(safe-area-inset-top, 20px);\n                    padding-top: 20px;\n                }\n\n                .toast-position-center {\n                    top: 50%;\n                    transform: translateY(-50%);\n                }\n\n                .toast-position-bottom {\n                    bottom: env(safe-area-inset-bottom, 20px);\n                    padding-bottom: 20px;\n                }\n\n                /* 移动端优化 */\n                @media (max-width: 768px) {\n                    .toast-position-top {\n                        padding-top: 16px;\n                    }\n\n                    .toast-position-bottom {\n                        padding-bottom: 16px;\n                    }\n                }\n\n                /* iPhone X等设备的安全区域适配 */\n                @supports (padding: max(0px)) {\n                    .toast-position-top {\n                        padding-top: max(20px, env(safe-area-inset-top, 20px));\n                    }\n\n                    .toast-position-bottom {\n                        padding-bottom: max(20px, env(safe-area-inset-bottom, 20px));\n                    }\n                }\n\n                /* 横屏适配 */\n                @media (orientation: landscape) and (max-height: 500px) {\n                    .toast-position-top {\n                        padding-top: 10px;\n                    }\n\n                    .toast-position-bottom {\n                        padding-bottom: 10px;\n                    }\n                }\n            `}</style>\n        </div>,\n        document.body\n    )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;;AAyBO,SAAS,eAAe,EAC3B,MAAM,EACN,aAAa,EACb,YAAY,EAAE,EACI;IAClB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,YAAY;IACZ,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,WAAW;IACf,GAAG,EAAE;IAEL,aAAa;IACb,MAAM,wBAAwB,CAAC;QAC3B,MAAM,SAA6C;YAC/C,KAAK,EAAE;YACP,QAAQ,EAAE;YACV,QAAQ,EAAE;QACd;QAEA,OAAO,OAAO,CAAC,CAAA;YACX,MAAM,WAAW,MAAM,QAAQ,IAAI;YACnC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC;QAC1B;QAEA,OAAO;IACX;IAEA,MAAM,cAAc,sBAAsB;IAE1C,uBAAuB;IACvB,IAAI,CAAC,WAAW,OAAO,MAAM,KAAK,GAAG;QACjC,OAAO;IACX;IAEA,WAAW;IACX,MAAM,mBAAmB,CAAC,QAAqB;QAC3C,IAAI,OAAO,MAAM,KAAK,GAAG,OAAO;QAEhC,qBACI,8OAAC;sDACc,CAAC,wBAAwB,EAAE,UAAU;;gBAG/C,OAAO,GAAG,CAAC,CAAC,sBACT,8OAAC,0IAAA,CAAA,QAAK;wBAEF,OAAO;wBACP,SAAS;uBAFJ,MAAM,EAAE;;;;;;;;;;WAJhB;;;;;IAkDjB;IAEA,2BAA2B;IAC3B,qBAAO,CAAA,GAAA,4MAAA,CAAA,eAAY,AAAD,gBACd,8OAAC;kDAAe,CAAC,gBAAgB,EAAE,WAAW;;0BAE1C,8OAAC;0DAAc;0BACV,iBAAiB,YAAY,GAAG,EAAE;;;;;;0BAIvC,8OAAC;0DAAc;0BACV,iBAAiB,YAAY,MAAM,EAAE;;;;;;0BAI1C,8OAAC;0DAAc;0BACV,iBAAiB,YAAY,MAAM,EAAE;;;;;;;;;;;;;;;cA4E9C,SAAS,IAAI;AAErB","debugId":null}},
    {"offset": {"line": 3274, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Toast/ToastContext.tsx"],"sourcesContent":["'use client'\n\nimport { createContext, useContext, useState, useCallback, ReactNode } from 'react'\nimport { ToastContainer } from './ToastContainer'\nimport { ToastData, ToastType, ToastPosition } from './Toast'\n\n/**\n * Toast上下文和Provider - ToastContext\n * \n * 提供全局Toast管理功能\n * 支持添加、移除和自动管理Toast\n * \n * 设计目标：\n * - 全局Toast状态管理\n * - 简洁的API接口\n * - 自动ID生成和清理\n * - TypeScript类型安全\n */\n\ninterface ToastContextType {\n    toasts: ToastData[]\n    showToast: (options: ShowToastOptions) => string\n    hideToast: (id: string) => void\n    clearAllToasts: () => void\n}\n\ninterface ShowToastOptions {\n    type: ToastType\n    title: string\n    message?: string\n    duration?: number\n    position?: ToastPosition\n    showCloseButton?: boolean\n    action?: {\n        label: string\n        onClick: () => void\n    }\n}\n\nconst ToastContext = createContext<ToastContextType | undefined>(undefined)\n\n// 生成唯一ID\nconst generateId = () => {\n    return `toast-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n}\n\n/**\n * Toast Provider组件\n */\ninterface ToastProviderProps {\n    children: ReactNode\n    maxToasts?: number\n    defaultDuration?: number\n    defaultPosition?: ToastPosition\n}\n\nexport function ToastProvider({ \n    children, \n    maxToasts = 5,\n    defaultDuration = 4000,\n    defaultPosition = 'bottom'\n}: ToastProviderProps) {\n    const [toasts, setToasts] = useState<ToastData[]>([])\n\n    // 显示Toast\n    const showToast = useCallback((options: ShowToastOptions): string => {\n        const id = generateId()\n        \n        const newToast: ToastData = {\n            id,\n            type: options.type,\n            title: options.title,\n            message: options.message,\n            duration: options.duration ?? defaultDuration,\n            position: options.position ?? defaultPosition,\n            showCloseButton: options.showCloseButton ?? true,\n            action: options.action\n        }\n\n        setToasts(prevToasts => {\n            const updatedToasts = [...prevToasts, newToast]\n            \n            // 如果超过最大数量，移除最旧的Toast\n            if (updatedToasts.length > maxToasts) {\n                return updatedToasts.slice(-maxToasts)\n            }\n            \n            return updatedToasts\n        })\n\n        return id\n    }, [defaultDuration, defaultPosition, maxToasts])\n\n    // 隐藏特定Toast\n    const hideToast = useCallback((id: string) => {\n        setToasts(prevToasts => prevToasts.filter(toast => toast.id !== id))\n    }, [])\n\n    // 清除所有Toast\n    const clearAllToasts = useCallback(() => {\n        setToasts([])\n    }, [])\n\n    const contextValue: ToastContextType = {\n        toasts,\n        showToast,\n        hideToast,\n        clearAllToasts\n    }\n\n    return (\n        <ToastContext.Provider value={contextValue}>\n            {children}\n            <ToastContainer \n                toasts={toasts} \n                onRemoveToast={hideToast}\n            />\n        </ToastContext.Provider>\n    )\n}\n\n/**\n * useToast Hook\n * \n * 提供便捷的Toast操作方法\n */\nexport function useToast() {\n    const context = useContext(ToastContext)\n    \n    if (context === undefined) {\n        throw new Error('useToast must be used within a ToastProvider')\n    }\n\n    const { showToast, hideToast, clearAllToasts, toasts } = context\n\n    // 便捷方法\n    const toast = {\n        success: (title: string, options?: Partial<ShowToastOptions>) =>\n            showToast({ type: 'success', title, ...options }),\n            \n        error: (title: string, options?: Partial<ShowToastOptions>) =>\n            showToast({ type: 'error', title, ...options }),\n            \n        warning: (title: string, options?: Partial<ShowToastOptions>) =>\n            showToast({ type: 'warning', title, ...options }),\n            \n        info: (title: string, options?: Partial<ShowToastOptions>) =>\n            showToast({ type: 'info', title, ...options }),\n\n        // 自定义Toast\n        custom: (options: ShowToastOptions) =>\n            showToast(options),\n\n        // 操作方法\n        dismiss: hideToast,\n        clear: clearAllToasts\n    }\n\n    return {\n        toast,\n        toasts,\n        // 直接访问的方法（向后兼容）\n        showToast,\n        hideToast,\n        clearAllToasts\n    }\n}\n\n/**\n * 预定义的常用Toast配置\n */\nexport const ToastPresets = {\n    // 邮件订阅成功\n    emailSubscribed: {\n        type: 'success' as ToastType,\n        title: '邮件订阅成功',\n        message: '感谢订阅！我们会定期向您发送高质量的AI变现资讯',\n        duration: 5000,\n        action: {\n            label: '查看',\n            onClick: () => {\n                // 跳转到个人中心\n                window.location.href = '/profile'\n            }\n        }\n    },\n\n    // 会员升级成功\n    membershipUpgraded: {\n        type: 'success' as ToastType,\n        title: '会员升级成功',\n        message: '欢迎成为会员！现在可以访问所有专享内容',\n        duration: 6000,\n        action: {\n            label: '探索',\n            onClick: () => {\n                window.location.href = '/weekly'\n            }\n        }\n    },\n\n    // 收藏成功\n    bookmarked: {\n        type: 'success' as ToastType,\n        title: '收藏成功',\n        message: '已添加到收藏夹，可在个人中心查看',\n        duration: 3000\n    },\n\n    // 分享成功\n    shared: {\n        type: 'success' as ToastType,\n        title: '分享成功',\n        message: '链接已复制到剪贴板',\n        duration: 3000\n    },\n\n    // 登录成功\n    loginSuccess: {\n        type: 'success' as ToastType,\n        title: '登录成功',\n        message: '欢迎回来！',\n        duration: 3000\n    },\n\n    // 网络错误\n    networkError: {\n        type: 'error' as ToastType,\n        title: '网络连接失败',\n        message: '请检查网络连接后重试',\n        duration: 5000,\n        action: {\n            label: '重试',\n            onClick: () => {\n                window.location.reload()\n            }\n        }\n    },\n\n    // 权限不足\n    permissionDenied: {\n        type: 'warning' as ToastType,\n        title: '需要会员权限',\n        message: '该内容仅限会员访问，升级会员解锁更多内容',\n        duration: 6000,\n        action: {\n            label: '升级',\n            onClick: () => {\n                window.location.href = '/membership'\n            }\n        }\n    },\n\n    // 功能即将上线\n    comingSoon: {\n        type: 'info' as ToastType,\n        title: '功能即将上线',\n        message: '我们正在努力开发中，敬请期待',\n        duration: 4000\n    }\n}"],"names":[],"mappings":";;;;;;AAEA;AACA;AAHA;;;;AAuCA,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAgC;AAEjE,SAAS;AACT,MAAM,aAAa;IACf,OAAO,CAAC,MAAM,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;AAC3E;AAYO,SAAS,cAAc,EAC1B,QAAQ,EACR,YAAY,CAAC,EACb,kBAAkB,IAAI,EACtB,kBAAkB,QAAQ,EACT;IACjB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe,EAAE;IAEpD,UAAU;IACV,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC3B,MAAM,KAAK;QAEX,MAAM,WAAsB;YACxB;YACA,MAAM,QAAQ,IAAI;YAClB,OAAO,QAAQ,KAAK;YACpB,SAAS,QAAQ,OAAO;YACxB,UAAU,QAAQ,QAAQ,IAAI;YAC9B,UAAU,QAAQ,QAAQ,IAAI;YAC9B,iBAAiB,QAAQ,eAAe,IAAI;YAC5C,QAAQ,QAAQ,MAAM;QAC1B;QAEA,UAAU,CAAA;YACN,MAAM,gBAAgB;mBAAI;gBAAY;aAAS;YAE/C,sBAAsB;YACtB,IAAI,cAAc,MAAM,GAAG,WAAW;gBAClC,OAAO,cAAc,KAAK,CAAC,CAAC;YAChC;YAEA,OAAO;QACX;QAEA,OAAO;IACX,GAAG;QAAC;QAAiB;QAAiB;KAAU;IAEhD,YAAY;IACZ,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC3B,UAAU,CAAA,aAAc,WAAW,MAAM,CAAC,CAAA,QAAS,MAAM,EAAE,KAAK;IACpE,GAAG,EAAE;IAEL,YAAY;IACZ,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC/B,UAAU,EAAE;IAChB,GAAG,EAAE;IAEL,MAAM,eAAiC;QACnC;QACA;QACA;QACA;IACJ;IAEA,qBACI,8OAAC,aAAa,QAAQ;QAAC,OAAO;;YACzB;0BACD,8OAAC,mJAAA,CAAA,iBAAc;gBACX,QAAQ;gBACR,eAAe;;;;;;;;;;;;AAI/B;AAOO,SAAS;IACZ,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAE3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IAEA,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,cAAc,EAAE,MAAM,EAAE,GAAG;IAEzD,OAAO;IACP,MAAM,QAAQ;QACV,SAAS,CAAC,OAAe,UACrB,UAAU;gBAAE,MAAM;gBAAW;gBAAO,GAAG,OAAO;YAAC;QAEnD,OAAO,CAAC,OAAe,UACnB,UAAU;gBAAE,MAAM;gBAAS;gBAAO,GAAG,OAAO;YAAC;QAEjD,SAAS,CAAC,OAAe,UACrB,UAAU;gBAAE,MAAM;gBAAW;gBAAO,GAAG,OAAO;YAAC;QAEnD,MAAM,CAAC,OAAe,UAClB,UAAU;gBAAE,MAAM;gBAAQ;gBAAO,GAAG,OAAO;YAAC;QAEhD,WAAW;QACX,QAAQ,CAAC,UACL,UAAU;QAEd,OAAO;QACP,SAAS;QACT,OAAO;IACX;IAEA,OAAO;QACH;QACA;QACA,gBAAgB;QAChB;QACA;QACA;IACJ;AACJ;AAKO,MAAM,eAAe;IACxB,SAAS;IACT,iBAAiB;QACb,MAAM;QACN,OAAO;QACP,SAAS;QACT,UAAU;QACV,QAAQ;YACJ,OAAO;YACP,SAAS;gBACL,UAAU;gBACV,OAAO,QAAQ,CAAC,IAAI,GAAG;YAC3B;QACJ;IACJ;IAEA,SAAS;IACT,oBAAoB;QAChB,MAAM;QACN,OAAO;QACP,SAAS;QACT,UAAU;QACV,QAAQ;YACJ,OAAO;YACP,SAAS;gBACL,OAAO,QAAQ,CAAC,IAAI,GAAG;YAC3B;QACJ;IACJ;IAEA,OAAO;IACP,YAAY;QACR,MAAM;QACN,OAAO;QACP,SAAS;QACT,UAAU;IACd;IAEA,OAAO;IACP,QAAQ;QACJ,MAAM;QACN,OAAO;QACP,SAAS;QACT,UAAU;IACd;IAEA,OAAO;IACP,cAAc;QACV,MAAM;QACN,OAAO;QACP,SAAS;QACT,UAAU;IACd;IAEA,OAAO;IACP,cAAc;QACV,MAAM;QACN,OAAO;QACP,SAAS;QACT,UAAU;QACV,QAAQ;YACJ,OAAO;YACP,SAAS;gBACL,OAAO,QAAQ,CAAC,MAAM;YAC1B;QACJ;IACJ;IAEA,OAAO;IACP,kBAAkB;QACd,MAAM;QACN,OAAO;QACP,SAAS;QACT,UAAU;QACV,QAAQ;YACJ,OAAO;YACP,SAAS;gBACL,OAAO,QAAQ,CAAC,IAAI,GAAG;YAC3B;QACJ;IACJ;IAEA,SAAS;IACT,YAAY;QACR,MAAM;QACN,OAAO;QACP,SAAS;QACT,UAAU;IACd;AACJ","debugId":null}},
    {"offset": {"line": 3486, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Toast/index.ts"],"sourcesContent":["/**\n * Toast 组件导出\n * \n * 移动端Toast通知系统\n * 包含Toast组件、容器、上下文和Hook\n */\n\nexport { Toast } from './Toast'\nexport { ToastContainer } from './ToastContainer'\nexport { ToastProvider, useToast, ToastPresets } from './ToastContext'\n\nexport type { ToastData, ToastType, ToastPosition } from './Toast'"],"names":[],"mappings":"AAAA;;;;;CAKC;AAED;AACA;AACA","debugId":null}},
    {"offset": {"line": 3511, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/TouchOptimized/TouchOptimized.tsx"],"sourcesContent":["'use client'\n\nimport React, { forwardRef, ReactElement, cloneElement, ComponentProps } from 'react'\nimport { useGestures, useSimpleGestures } from '@/lib/hooks/useGestures'\nimport { useTouchFeedback, useSimpleTouchFeedback } from '@/lib/hooks/useTouchFeedback'\n\n/**\n * 移动端触控优化组件 - TouchOptimized\n * \n * 为任何组件添加移动端触控优化功能\n * 包括手势识别、触控反馈、性能优化等\n * \n * 设计目标：\n * - 无侵入式的触控增强\n * - 可配置的手势和反馈\n * - 保持原组件的所有props\n * - TypeScript类型安全\n */\n\ninterface TouchOptimizedProps {\n    children: ReactElement\n    \n    // 手势配置\n    enableGestures?: boolean\n    onTap?: () => void\n    onDoubleTap?: () => void\n    onLongPress?: () => void\n    onSwipeLeft?: () => void\n    onSwipeRight?: () => void\n    onSwipeUp?: () => void\n    onSwipeDown?: () => void\n    \n    // 触控反馈配置\n    enableFeedback?: boolean\n    feedbackType?: 'simple' | 'advanced'\n    hapticEnabled?: boolean\n    visualFeedback?: boolean\n    soundFeedback?: boolean\n    \n    // 性能优化\n    optimizeRendering?: boolean\n    preventScrollWhenDragging?: boolean\n    \n    // 可访问性\n    accessibilityRole?: string\n    accessibilityLabel?: string\n    \n    className?: string\n}\n\nexport const TouchOptimized = forwardRef<HTMLElement, TouchOptimizedProps>(\n    ({\n        children,\n        enableGestures = true,\n        onTap,\n        onDoubleTap,\n        onLongPress,\n        onSwipeLeft,\n        onSwipeRight,\n        onSwipeUp,\n        onSwipeDown,\n        enableFeedback = true,\n        feedbackType = 'simple',\n        hapticEnabled = true,\n        visualFeedback = true,\n        soundFeedback = false,\n        optimizeRendering = true,\n        preventScrollWhenDragging = true,\n        accessibilityRole,\n        accessibilityLabel,\n        className = ''\n    }, ref) => {\n        \n        // 手势处理\n        const { elementRef: gestureRef, gestureState } = useGestures(\n            {\n                enableTap: !!onTap,\n                enableLongPress: !!onLongPress,\n                enableSwipe: !!(onSwipeLeft || onSwipeRight || onSwipeUp || onSwipeDown),\n                preventDefault: preventScrollWhenDragging\n            },\n            {\n                onTap,\n                onDoubleTap,\n                onLongPress,\n                onSwipeLeft,\n                onSwipeRight,\n                onSwipeUp,\n                onSwipeDown\n            }\n        )\n\n        // 触控反馈\n        const { elementRef: feedbackRef } = feedbackType === 'simple' \n            ? useSimpleTouchFeedback(enableFeedback)\n            : useTouchFeedback({\n                enableVisualFeedback: visualFeedback,\n                enableHapticFeedback: hapticEnabled,\n                enableSoundFeedback: soundFeedback,\n                disabled: !enableFeedback\n            })\n\n        // 合并refs\n        const mergedRef = React.useCallback((element: HTMLElement | null) => {\n            // 设置手势ref\n            if (gestureRef.current !== element) {\n                ;(gestureRef as React.MutableRefObject<HTMLElement | null>).current = element\n            }\n            \n            // 设置反馈ref\n            if (feedbackRef.current !== element) {\n                ;(feedbackRef as React.MutableRefObject<HTMLElement | null>).current = element\n            }\n            \n            // 设置外部ref\n            if (ref) {\n                if (typeof ref === 'function') {\n                    ref(element)\n                } else {\n                    ref.current = element\n                }\n            }\n        }, [gestureRef, feedbackRef, ref])\n\n        // 优化渲染的组件属性\n        const optimizedProps = React.useMemo(() => {\n            const props: Record<string, any> = {}\n            \n            // 性能优化\n            if (optimizeRendering) {\n                props.style = {\n                    ...children.props.style,\n                    touchAction: preventScrollWhenDragging ? 'manipulation' : 'auto',\n                    userSelect: 'none',\n                    WebkitUserSelect: 'none',\n                    WebkitTouchCallout: 'none',\n                    WebkitTapHighlightColor: 'transparent'\n                }\n            }\n            \n            // 可访问性\n            if (accessibilityRole) {\n                props.role = accessibilityRole\n            }\n            \n            if (accessibilityLabel) {\n                props['aria-label'] = accessibilityLabel\n            }\n            \n            // 触控优化\n            if (onTap) {\n                props['aria-expanded'] = gestureState.isPressed\n            }\n            \n            // CSS类名\n            const gestureClasses = []\n            if (gestureState.isPressed) gestureClasses.push('touch-pressed')\n            if (gestureState.isDragging) gestureClasses.push('touch-dragging')\n            if (gestureState.isPinching) gestureClasses.push('touch-pinching')\n            \n            props.className = [\n                children.props.className,\n                className,\n                'touch-optimized',\n                ...gestureClasses\n            ].filter(Boolean).join(' ')\n            \n            return props\n        }, [\n            children.props.style,\n            children.props.className,\n            optimizeRendering,\n            preventScrollWhenDragging,\n            accessibilityRole,\n            accessibilityLabel,\n            onTap,\n            gestureState,\n            className\n        ])\n\n        // 克隆子组件并添加优化属性\n        const enhancedChild = cloneElement(children, {\n            ...optimizedProps,\n            ref: mergedRef\n        })\n\n        return (\n            <>\n                {enhancedChild}\n                \n                {/* 添加全局触控优化样式 */}\n                <style jsx global>{`\n                    .touch-optimized {\n                        /* 基础触控优化 */\n                        -webkit-tap-highlight-color: transparent;\n                        -webkit-touch-callout: none;\n                        -webkit-user-select: none;\n                        -moz-user-select: none;\n                        -ms-user-select: none;\n                        user-select: none;\n                        \n                        /* 触控区域优化 */\n                        min-height: 44px;\n                        min-width: 44px;\n                        \n                        /* 性能优化 */\n                        will-change: transform, opacity;\n                        transform: translateZ(0);\n                    }\n                    \n                    .touch-optimized.touch-pressed {\n                        /* 按压状态样式 */\n                        transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);\n                    }\n                    \n                    .touch-optimized.touch-dragging {\n                        /* 拖拽状态样式 */\n                        cursor: grabbing;\n                        z-index: 1000;\n                    }\n                    \n                    .touch-optimized.touch-pinching {\n                        /* 缩放状态样式 */\n                        pointer-events: none;\n                    }\n                    \n                    /* 移动端特定优化 */\n                    @media (hover: none) and (pointer: coarse) {\n                        .touch-optimized {\n                            /* 确保触摸目标足够大 */\n                            min-height: max(44px, 2.75rem);\n                            min-width: max(44px, 2.75rem);\n                            \n                            /* 触摸设备专用样式 */\n                            touch-action: manipulation;\n                        }\n                        \n                        .touch-optimized:active {\n                            /* 激活状态反馈 */\n                            opacity: 0.8;\n                            transform: scale(0.98);\n                        }\n                    }\n                    \n                    /* 高分辨率显示优化 */\n                    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {\n                        .touch-optimized {\n                            -webkit-font-smoothing: antialiased;\n                            -moz-osx-font-smoothing: grayscale;\n                        }\n                    }\n                    \n                    /* 减少动画偏好 */\n                    @media (prefers-reduced-motion: reduce) {\n                        .touch-optimized,\n                        .touch-optimized.touch-pressed {\n                            transition: none !important;\n                            animation: none !important;\n                        }\n                    }\n                    \n                    /* 深色模式优化 */\n                    @media (prefers-color-scheme: dark) {\n                        .touch-optimized {\n                            /* 深色模式下的触控反馈 */\n                        }\n                    }\n                `}</style>\n            </>\n        )\n    }\n)\n\nTouchOptimized.displayName = 'TouchOptimized'\n\n/**\n * 高阶组件版本 - withTouchOptimization\n * \n * 用于包装现有组件，添加触控优化功能\n */\nexport function withTouchOptimization<P extends object>(\n    WrappedComponent: React.ComponentType<P>,\n    defaultOptions: Partial<TouchOptimizedProps> = {}\n) {\n    const TouchOptimizedComponent = forwardRef<HTMLElement, P & TouchOptimizedProps>(\n        (props, ref) => {\n            const { ...touchProps } = props\n            const componentProps = { ...props }\n            \n            // 分离TouchOptimized的props\n            const touchOptimizedProps = {\n                ...defaultOptions,\n                ...touchProps\n            }\n            \n            return (\n                <TouchOptimized {...touchOptimizedProps} ref={ref}>\n                    <WrappedComponent {...componentProps as P} />\n                </TouchOptimized>\n            )\n        }\n    )\n    \n    TouchOptimizedComponent.displayName = `withTouchOptimization(${WrappedComponent.displayName || WrappedComponent.name})`\n    \n    return TouchOptimizedComponent\n}\n\n/**\n * 预设配置的触控优化组件\n */\n\n// 按钮优化\nexport const TouchOptimizedButton = forwardRef<HTMLButtonElement, ComponentProps<'button'> & TouchOptimizedProps>(\n    (props, ref) => (\n        <TouchOptimized \n            {...props} \n            accessibilityRole=\"button\"\n            hapticEnabled={true}\n            visualFeedback={true}\n        >\n            <button {...props} ref={ref} />\n        </TouchOptimized>\n    )\n)\n\nTouchOptimizedButton.displayName = 'TouchOptimizedButton'\n\n// 卡片优化\nexport const TouchOptimizedCard = forwardRef<HTMLDivElement, ComponentProps<'div'> & TouchOptimizedProps>(\n    (props, ref) => (\n        <TouchOptimized \n            {...props}\n            feedbackType=\"simple\"\n            enableGestures={true}\n        >\n            <div {...props} ref={ref} />\n        </TouchOptimized>\n    )\n)\n\nTouchOptimizedCard.displayName = 'TouchOptimizedCard'"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3711, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/TouchOptimized/index.ts"],"sourcesContent":["/**\n * TouchOptimized 组件导出\n * \n * 移动端触控优化组件和HOC\n * 为组件添加手势识别和触控反馈功能\n */\n\nexport { \n    TouchOptimized, \n    withTouchOptimization,\n    TouchOptimizedButton,\n    TouchOptimizedCard \n} from './TouchOptimized'"],"names":[],"mappings":"AAAA;;;;;CAKC;AAED","debugId":null}},
    {"offset": {"line": 3730, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/LazyImage/LazyImage.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect, forwardRef } from 'react'\n\n/**\n * 移动端懒加载图片组件 - LazyImage\n * \n * 专为移动端优化的图片懒加载解决方案\n * 支持渐进式增强、错误处理、响应式图片\n * \n * 设计目标：\n * - 减少初始页面加载时间\n * - 节省移动端数据流量\n * - 平滑的加载体验\n * - 自适应图片质量\n */\n\ninterface LazyImageProps {\n    src: string\n    alt: string\n    width?: number | string\n    height?: number | string\n    placeholder?: string\n    blurDataURL?: string\n    className?: string\n    loading?: 'lazy' | 'eager'\n    priority?: boolean\n    quality?: number\n    sizes?: string\n    onLoad?: () => void\n    onError?: () => void\n    fallback?: string\n    \n    // 移动端优化选项\n    optimizeForMobile?: boolean\n    webpSupport?: boolean\n    progressive?: boolean\n    preloadCritical?: boolean\n}\n\nexport const LazyImage = forwardRef<HTMLImageElement, LazyImageProps>(({\n    src,\n    alt,\n    width,\n    height,\n    placeholder,\n    blurDataURL,\n    className = '',\n    loading = 'lazy',\n    priority = false,\n    quality = 75,\n    sizes,\n    onLoad,\n    onError,\n    fallback = '/images/placeholder.jpg',\n    optimizeForMobile = true,\n    webpSupport = true,\n    progressive = true,\n    preloadCritical = false\n}, ref) => {\n    const [isLoaded, setIsLoaded] = useState(false)\n    const [isError, setIsError] = useState(false)\n    const [currentSrc, setCurrentSrc] = useState<string>('')\n    const imgRef = useRef<HTMLImageElement>(null)\n    const observerRef = useRef<IntersectionObserver | null>(null)\n\n    // 检测WebP支持\n    const [supportsWebP, setSupportsWebP] = useState(false)\n    \n    useEffect(() => {\n        if (!webpSupport) return\n        \n        const checkWebPSupport = () => {\n            const webP = new Image()\n            webP.onload = webP.onerror = () => {\n                setSupportsWebP(webP.height === 2)\n            }\n            webP.src = 'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA'\n        }\n        \n        checkWebPSupport()\n    }, [webpSupport])\n\n    // 优化图片URL\n    const getOptimizedSrc = (originalSrc: string) => {\n        if (!optimizeForMobile) return originalSrc\n        \n        // 如果是相对路径，进行优化处理\n        if (originalSrc.startsWith('/')) {\n            const params = new URLSearchParams()\n            \n            if (quality !== 75) params.set('q', quality.toString())\n            if (width) params.set('w', width.toString())\n            if (height) params.set('h', height.toString())\n            if (supportsWebP) params.set('f', 'webp')\n            \n            const queryString = params.toString()\n            return queryString ? `${originalSrc}?${queryString}` : originalSrc\n        }\n        \n        return originalSrc\n    }\n\n    // 生成响应式图片源\n    const generateSrcSet = () => {\n        if (!optimizeForMobile || !width) return undefined\n        \n        const widthNum = typeof width === 'string' ? parseInt(width) : width\n        const srcSet = [\n            `${getOptimizedSrc(src)} 1x`,\n            `${getOptimizedSrc(src).replace(/w=\\d+/, `w=${widthNum * 2}`)} 2x`,\n            `${getOptimizedSrc(src).replace(/w=\\d+/, `w=${widthNum * 3}`)} 3x`\n        ]\n        \n        return srcSet.join(', ')\n    }\n\n    // Intersection Observer for lazy loading\n    useEffect(() => {\n        if (loading === 'eager' || priority) {\n            setCurrentSrc(getOptimizedSrc(src))\n            return\n        }\n\n        const img = imgRef.current\n        if (!img) return\n\n        observerRef.current = new IntersectionObserver(\n            (entries) => {\n                entries.forEach((entry) => {\n                    if (entry.isIntersecting) {\n                        setCurrentSrc(getOptimizedSrc(src))\n                        observerRef.current?.unobserve(img)\n                    }\n                })\n            },\n            {\n                rootMargin: '50px',\n                threshold: 0.1\n            }\n        )\n\n        observerRef.current.observe(img)\n\n        return () => {\n            observerRef.current?.disconnect()\n        }\n    }, [src, loading, priority, optimizeForMobile, supportsWebP, quality, width, height])\n\n    // 图片加载处理\n    const handleLoad = () => {\n        setIsLoaded(true)\n        setIsError(false)\n        onLoad?.()\n    }\n\n    const handleError = () => {\n        setIsError(true)\n        setIsLoaded(false)\n        if (fallback && currentSrc !== fallback) {\n            setCurrentSrc(fallback)\n        }\n        onError?.()\n    }\n\n    // 预加载关键图片\n    useEffect(() => {\n        if (preloadCritical || priority) {\n            const link = document.createElement('link')\n            link.rel = 'preload'\n            link.as = 'image'\n            link.href = getOptimizedSrc(src)\n            document.head.appendChild(link)\n            \n            return () => {\n                document.head.removeChild(link)\n            }\n        }\n    }, [src, preloadCritical, priority])\n\n    // 合并refs\n    const mergedRef = (element: HTMLImageElement | null) => {\n        if (imgRef.current !== element) {\n            imgRef.current = element\n        }\n        \n        if (ref) {\n            if (typeof ref === 'function') {\n                ref(element)\n            } else {\n                ref.current = element\n            }\n        }\n    }\n\n    return (\n        <div className={`lazy-image-container ${className}`}>\n            {/* 占位符 */}\n            {!isLoaded && (placeholder || blurDataURL) && (\n                <div className=\"lazy-image-placeholder\">\n                    {blurDataURL ? (\n                        <img \n                            src={blurDataURL}\n                            alt=\"\"\n                            className=\"blur-placeholder\"\n                            aria-hidden=\"true\"\n                        />\n                    ) : (\n                        <div \n                            className=\"color-placeholder\"\n                            style={{ \n                                backgroundColor: placeholder || '#f3f4f6',\n                                width: width || '100%',\n                                height: height || 'auto'\n                            }}\n                        />\n                    )}\n                </div>\n            )}\n\n            {/* 实际图片 */}\n            <img\n                ref={mergedRef}\n                src={currentSrc}\n                srcSet={generateSrcSet()}\n                sizes={sizes}\n                alt={alt}\n                width={width}\n                height={height}\n                loading={loading}\n                onLoad={handleLoad}\n                onError={handleError}\n                className={`lazy-image ${isLoaded ? 'loaded' : ''} ${isError ? 'error' : ''}`}\n                style={{\n                    opacity: isLoaded ? 1 : 0,\n                    transition: progressive ? 'opacity 0.3s ease-in-out' : 'none'\n                }}\n            />\n\n            {/* 错误状态 */}\n            {isError && !fallback && (\n                <div className=\"lazy-image-error\">\n                    <span className=\"error-icon\">⚠️</span>\n                    <span className=\"error-text\">图片加载失败</span>\n                </div>\n            )}\n\n            {/* 样式 */}\n            <style jsx>{`\n                .lazy-image-container {\n                    position: relative;\n                    overflow: hidden;\n                    background-color: var(--color-bg-secondary, #f9fafb);\n                }\n\n                .lazy-image-placeholder {\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    width: 100%;\n                    height: 100%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    z-index: 1;\n                }\n\n                .blur-placeholder {\n                    width: 100%;\n                    height: 100%;\n                    object-fit: cover;\n                    filter: blur(10px);\n                    transform: scale(1.1);\n                }\n\n                .color-placeholder {\n                    width: 100%;\n                    height: 100%;\n                    background: linear-gradient(45deg, \n                        var(--color-bg-secondary, #f9fafb) 25%, \n                        transparent 25%), \n                    linear-gradient(-45deg, \n                        var(--color-bg-secondary, #f9fafb) 25%, \n                        transparent 25%), \n                    linear-gradient(45deg, \n                        transparent 75%, \n                        var(--color-bg-secondary, #f9fafb) 75%), \n                    linear-gradient(-45deg, \n                        transparent 75%, \n                        var(--color-bg-secondary, #f9fafb) 75%);\n                    background-size: 20px 20px;\n                    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;\n                    animation: loading-shimmer 1.5s ease-in-out infinite;\n                }\n\n                @keyframes loading-shimmer {\n                    0% { opacity: 1; }\n                    50% { opacity: 0.5; }\n                    100% { opacity: 1; }\n                }\n\n                .lazy-image {\n                    width: 100%;\n                    height: 100%;\n                    object-fit: cover;\n                    position: relative;\n                    z-index: 2;\n                }\n\n                .lazy-image.loaded {\n                    opacity: 1 !important;\n                }\n\n                .lazy-image.error {\n                    display: none;\n                }\n\n                .lazy-image-error {\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    width: 100%;\n                    height: 100%;\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    justify-content: center;\n                    background-color: var(--color-bg-secondary, #f9fafb);\n                    color: var(--color-text-muted, #6b7280);\n                    font-size: var(--font-size-sm, 14px);\n                    z-index: 3;\n                }\n\n                .error-icon {\n                    font-size: 24px;\n                    margin-bottom: 8px;\n                }\n\n                .error-text {\n                    font-size: var(--font-size-xs, 12px);\n                    text-align: center;\n                }\n\n                /* 移动端优化 */\n                @media (max-width: 768px) {\n                    .lazy-image-container {\n                        /* 移动端特定优化 */\n                        -webkit-transform: translateZ(0);\n                        transform: translateZ(0);\n                    }\n\n                    .lazy-image {\n                        /* 移动端图片优化 */\n                        image-rendering: -webkit-optimize-contrast;\n                        image-rendering: crisp-edges;\n                    }\n                }\n\n                /* 减少动画偏好 */\n                @media (prefers-reduced-motion: reduce) {\n                    .lazy-image {\n                        transition: none !important;\n                    }\n                    \n                    .color-placeholder {\n                        animation: none !important;\n                    }\n                }\n\n                /* 高分辨率显示优化 */\n                @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {\n                    .lazy-image {\n                        image-rendering: -webkit-optimize-contrast;\n                    }\n                }\n            `}</style>\n        </div>\n    )\n})\n\nLazyImage.displayName = 'LazyImage'"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3957, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/LazyImage/index.ts"],"sourcesContent":["/**\n * LazyImage 组件导出\n * \n * 移动端懒加载图片组件\n * 专为移动端优化的图片加载解决方案\n */\n\nexport { LazyImage } from './LazyImage'"],"names":[],"mappings":"AAAA;;;;;CAKC;AAED","debugId":null}},
    {"offset": {"line": 3976, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/PerformanceOptimizer/PerformanceOptimizer.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useCallback, useState, ReactNode } from 'react'\n\n/**\n * 移动端性能优化组件 - PerformanceOptimizer\n * \n * 提供多种移动端性能优化功能\n * 包括预加载、代码分割、资源优化等\n * \n * 设计目标：\n * - 提升移动端加载速度\n * - 减少资源消耗\n * - 智能预加载策略\n * - 监控性能指标\n */\n\ninterface PerformanceOptimizerProps {\n    children: ReactNode\n    \n    // 预加载配置\n    enablePreload?: boolean\n    preloadRoutes?: string[]\n    preloadImages?: string[]\n    preloadCriticalCSS?: boolean\n    \n    // 资源优化\n    enableResourceOptimization?: boolean\n    compressImages?: boolean\n    minifyCSS?: boolean\n    deferNonCriticalJS?: boolean\n    \n    // 性能监控\n    enablePerformanceMonitoring?: boolean\n    reportWebVitals?: boolean\n    \n    // 移动端专用优化\n    enableMobileOptimizations?: boolean\n    reducedMotionDetection?: boolean\n    lowDataModeDetection?: boolean\n    \n    className?: string\n}\n\nexport function PerformanceOptimizer({\n    children,\n    enablePreload = true,\n    preloadRoutes = [],\n    preloadImages = [],\n    preloadCriticalCSS = true,\n    enableResourceOptimization = true,\n    compressImages = true,\n    minifyCSS = true,\n    deferNonCriticalJS = true,\n    enablePerformanceMonitoring = true,\n    reportWebVitals = true,\n    enableMobileOptimizations = true,\n    reducedMotionDetection = true,\n    lowDataModeDetection = true,\n    className = ''\n}: PerformanceOptimizerProps) {\n    \n    const [performanceMetrics, setPerformanceMetrics] = useState<Record<string, number>>({})\n    const [connectionInfo, setConnectionInfo] = useState<any>(null)\n    const [isLowDataMode, setIsLowDataMode] = useState(false)\n    const [prefersReducedMotion, setPrefersReducedMotion] = useState(false)\n\n    // 检测网络连接信息\n    useEffect(() => {\n        if (!enableMobileOptimizations) return\n\n        const updateConnectionInfo = () => {\n            const connection = (navigator as any).connection || \n                              (navigator as any).mozConnection || \n                              (navigator as any).webkitConnection\n\n            if (connection) {\n                setConnectionInfo({\n                    effectiveType: connection.effectiveType,\n                    downlink: connection.downlink,\n                    saveData: connection.saveData,\n                    rtt: connection.rtt\n                })\n                \n                // 检测低数据模式\n                setIsLowDataMode(\n                    connection.saveData || \n                    connection.effectiveType === 'slow-2g' || \n                    connection.effectiveType === '2g'\n                )\n            }\n        }\n\n        updateConnectionInfo()\n        \n        if ('connection' in navigator) {\n            (navigator as any).connection.addEventListener('change', updateConnectionInfo)\n        }\n\n        return () => {\n            if ('connection' in navigator) {\n                (navigator as any).connection.removeEventListener('change', updateConnectionInfo)\n            }\n        }\n    }, [enableMobileOptimizations])\n\n    // 检测减少动画偏好\n    useEffect(() => {\n        if (!reducedMotionDetection) return\n\n        const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)')\n        setPrefersReducedMotion(mediaQuery.matches)\n\n        const handleChange = (e: MediaQueryListEvent) => {\n            setPrefersReducedMotion(e.matches)\n        }\n\n        mediaQuery.addEventListener('change', handleChange)\n        return () => mediaQuery.removeEventListener('change', handleChange)\n    }, [reducedMotionDetection])\n\n    // 预加载路由\n    const preloadRoute = useCallback((route: string) => {\n        if (!enablePreload || isLowDataMode) return\n\n        const link = document.createElement('link')\n        link.rel = 'prefetch'\n        link.href = route\n        document.head.appendChild(link)\n    }, [enablePreload, isLowDataMode])\n\n    // 预加载图片\n    const preloadImage = useCallback((src: string) => {\n        if (!enablePreload || isLowDataMode) return\n\n        const link = document.createElement('link')\n        link.rel = 'preload'\n        link.as = 'image'\n        link.href = src\n        document.head.appendChild(link)\n    }, [enablePreload, isLowDataMode])\n\n    // 预加载关键CSS\n    const preloadCriticalStyles = useCallback(() => {\n        if (!preloadCriticalCSS || isLowDataMode) return\n\n        const criticalStyles = [\n            '/styles/critical.css',\n            '/styles/mobile.css'\n        ]\n\n        criticalStyles.forEach(href => {\n            const link = document.createElement('link')\n            link.rel = 'preload'\n            link.as = 'style'\n            link.href = href\n            document.head.appendChild(link)\n        })\n    }, [preloadCriticalCSS, isLowDataMode])\n\n    // 延迟加载非关键JavaScript\n    const deferNonCriticalScripts = useCallback(() => {\n        if (!deferNonCriticalJS) return\n\n        const scripts = document.querySelectorAll('script[data-defer]')\n        scripts.forEach(script => {\n            const newScript = document.createElement('script')\n            newScript.src = script.getAttribute('src') || ''\n            newScript.async = true\n            newScript.defer = true\n            document.head.appendChild(newScript)\n        })\n    }, [deferNonCriticalJS])\n\n    // 性能指标收集\n    const collectPerformanceMetrics = useCallback(() => {\n        if (!enablePerformanceMonitoring) return\n\n        const navigation = performance.getEntriesByType('navigation')[0] as PerformanceNavigationTiming\n        const paint = performance.getEntriesByType('paint')\n        \n        const metrics = {\n            // 导航时间\n            domContentLoaded: navigation.domContentLoadedEventEnd - navigation.domContentLoadedEventStart,\n            loadComplete: navigation.loadEventEnd - navigation.loadEventStart,\n            \n            // 首次绘制\n            firstPaint: paint.find(entry => entry.name === 'first-paint')?.startTime || 0,\n            firstContentfulPaint: paint.find(entry => entry.name === 'first-contentful-paint')?.startTime || 0,\n            \n            // 网络指标\n            dns: navigation.domainLookupEnd - navigation.domainLookupStart,\n            tcp: navigation.connectEnd - navigation.connectStart,\n            ttfb: navigation.responseStart - navigation.requestStart\n        }\n\n        setPerformanceMetrics(metrics)\n\n        // 报告Web Vitals\n        if (reportWebVitals) {\n            console.log('Performance Metrics:', metrics)\n        }\n    }, [enablePerformanceMonitoring, reportWebVitals])\n\n    // Core Web Vitals监控\n    useEffect(() => {\n        if (!reportWebVitals) return\n\n        // LCP (Largest Contentful Paint)\n        const observeLCP = () => {\n            const observer = new PerformanceObserver((list) => {\n                const entries = list.getEntries()\n                const lastEntry = entries[entries.length - 1]\n                console.log('LCP:', lastEntry.startTime)\n            })\n            observer.observe({ entryTypes: ['largest-contentful-paint'] })\n        }\n\n        // FID (First Input Delay)\n        const observeFID = () => {\n            const observer = new PerformanceObserver((list) => {\n                const entries = list.getEntries()\n                entries.forEach(entry => {\n                    console.log('FID:', entry.processingStart - entry.startTime)\n                })\n            })\n            observer.observe({ entryTypes: ['first-input'] })\n        }\n\n        // CLS (Cumulative Layout Shift)\n        const observeCLS = () => {\n            let clsValue = 0\n            const observer = new PerformanceObserver((list) => {\n                const entries = list.getEntries()\n                entries.forEach(entry => {\n                    if (!(entry as any).hadRecentInput) {\n                        clsValue += (entry as any).value\n                    }\n                })\n                console.log('CLS:', clsValue)\n            })\n            observer.observe({ entryTypes: ['layout-shift'] })\n        }\n\n        if ('PerformanceObserver' in window) {\n            observeLCP()\n            observeFID()\n            observeCLS()\n        }\n    }, [reportWebVitals])\n\n    // 执行预加载策略\n    useEffect(() => {\n        if (!enablePreload) return\n\n        // 延迟执行预加载，避免阻塞关键资源\n        const timeoutId = setTimeout(() => {\n            preloadCriticalStyles()\n            \n            preloadRoutes.forEach(route => {\n                preloadRoute(route)\n            })\n            \n            preloadImages.forEach(src => {\n                preloadImage(src)\n            })\n            \n            deferNonCriticalScripts()\n        }, 1000)\n\n        return () => clearTimeout(timeoutId)\n    }, [\n        enablePreload, \n        preloadRoutes, \n        preloadImages,\n        preloadCriticalStyles,\n        preloadRoute,\n        preloadImage,\n        deferNonCriticalScripts\n    ])\n\n    // 页面加载完成后收集指标\n    useEffect(() => {\n        const handleLoad = () => {\n            setTimeout(collectPerformanceMetrics, 100)\n        }\n\n        if (document.readyState === 'complete') {\n            handleLoad()\n        } else {\n            window.addEventListener('load', handleLoad)\n            return () => window.removeEventListener('load', handleLoad)\n        }\n    }, [collectPerformanceMetrics])\n\n    // 内存清理\n    useEffect(() => {\n        const handleVisibilityChange = () => {\n            if (document.hidden) {\n                // 页面不可见时清理不必要的资源\n                if ('requestIdleCallback' in window) {\n                    requestIdleCallback(() => {\n                        // 执行内存清理\n                        performance.clearResourceTimings()\n                    })\n                }\n            }\n        }\n\n        document.addEventListener('visibilitychange', handleVisibilityChange)\n        return () => document.removeEventListener('visibilitychange', handleVisibilityChange)\n    }, [])\n\n    return (\n        <div \n            className={`performance-optimizer ${className}`}\n            data-low-data-mode={isLowDataMode}\n            data-reduced-motion={prefersReducedMotion}\n        >\n            {children}\n            \n            {/* 性能优化相关的全局样式 */}\n            <style jsx global>{`\n                /* 基础性能优化 */\n                * {\n                    box-sizing: border-box;\n                }\n                \n                html {\n                    /* 启用硬件加速 */\n                    -webkit-transform: translateZ(0);\n                    transform: translateZ(0);\n                    \n                    /* 优化字体渲染 */\n                    -webkit-font-smoothing: antialiased;\n                    -moz-osx-font-smoothing: grayscale;\n                    text-rendering: optimizeLegibility;\n                }\n                \n                /* 图片优化 */\n                img {\n                    /* 默认懒加载 */\n                    loading: lazy;\n                    \n                    /* 图片渲染优化 */\n                    image-rendering: -webkit-optimize-contrast;\n                    image-rendering: crisp-edges;\n                }\n                \n                /* 低数据模式优化 */\n                [data-low-data-mode=\"true\"] img {\n                    /* 降低图片质量以节省流量 */\n                    image-rendering: pixelated;\n                }\n                \n                [data-low-data-mode=\"true\"] video {\n                    /* 禁用自动播放 */\n                    autoplay: none !important;\n                }\n                \n                /* 减少动画偏好支持 */\n                [data-reduced-motion=\"true\"] *,\n                [data-reduced-motion=\"true\"] *::before,\n                [data-reduced-motion=\"true\"] *::after {\n                    animation-duration: 0.01ms !important;\n                    animation-iteration-count: 1 !important;\n                    transition-duration: 0.01ms !important;\n                    scroll-behavior: auto !important;\n                }\n                \n                /* 触摸设备优化 */\n                @media (hover: none) and (pointer: coarse) {\n                    /* 禁用hover效果以提升性能 */\n                    .performance-optimizer * {\n                        -webkit-tap-highlight-color: transparent;\n                    }\n                    \n                    /* 优化滚动性能 */\n                    .performance-optimizer {\n                        -webkit-overflow-scrolling: touch;\n                        overflow-scrolling: touch;\n                    }\n                }\n                \n                /* 移动端特定优化 */\n                @media (max-width: 768px) {\n                    /* 减少阴影和渐变以提升性能 */\n                    .performance-optimizer {\n                        --shadow-optimized: none;\n                        --gradient-optimized: none;\n                    }\n                    \n                    /* 启用GPU加速的元素 */\n                    .performance-optimizer [data-gpu-accelerated] {\n                        will-change: transform;\n                        transform: translateZ(0);\n                    }\n                }\n                \n                /* 高分辨率显示优化 */\n                @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {\n                    .performance-optimizer {\n                        /* 高DPI显示优化 */\n                        image-rendering: -webkit-optimize-contrast;\n                    }\n                }\n                \n                /* 内存优化 */\n                .performance-optimizer {\n                    /* 启用合成层 */\n                    transform: translateZ(0);\n                    \n                    /* 优化重绘 */\n                    contain: layout style paint;\n                }\n            `}</style>\n            \n            {/* 性能监控信息（开发环境） */}\n            {process.env.NODE_ENV === 'development' && enablePerformanceMonitoring && (\n                <div style={{\n                    position: 'fixed',\n                    bottom: '10px',\n                    right: '10px',\n                    background: 'rgba(0,0,0,0.8)',\n                    color: 'white',\n                    padding: '8px',\n                    borderRadius: '4px',\n                    fontSize: '12px',\n                    zIndex: 9999,\n                    fontFamily: 'monospace'\n                }}>\n                    <div>LCP: {performanceMetrics.firstContentfulPaint?.toFixed(0)}ms</div>\n                    <div>TTFB: {performanceMetrics.ttfb?.toFixed(0)}ms</div>\n                    {connectionInfo && (\n                        <div>网络: {connectionInfo.effectiveType}</div>\n                    )}\n                    {isLowDataMode && <div style={{color: 'orange'}}>省流模式</div>}\n                </div>\n            )}\n        </div>\n    )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4311, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/PerformanceOptimizer/index.ts"],"sourcesContent":["/**\n * PerformanceOptimizer 组件导出\n * \n * 移动端性能优化组件\n * 提供预加载、资源优化、性能监控等功能\n */\n\nexport { PerformanceOptimizer } from './PerformanceOptimizer'"],"names":[],"mappings":"AAAA;;;;;CAKC;AAED","debugId":null}},
    {"offset": {"line": 4330, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Loading/Loading.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\n\nexport type LoadingSize = 'sm' | 'md' | 'lg' | 'xl'\nexport type LoadingVariant = 'spinner' | 'dots' | 'pulse' | 'skeleton'\nexport type LoadingColor = 'primary' | 'secondary' | 'white'\n\ninterface LoadingProps {\n    size?: LoadingSize\n    variant?: LoadingVariant\n    color?: LoadingColor\n    text?: string\n    overlay?: boolean\n    fullscreen?: boolean\n    className?: string\n    style?: React.CSSProperties\n}\n\n/**\n * Loading 加载状态组件\n * \n * 功能特性：\n * - 多种加载动画样式（旋转器、点阵、脉冲、骨架屏）\n * - 响应式尺寸（sm/md/lg/xl）\n * - 覆盖层模式（局部/全屏）\n * - 颜色主题适配\n * - 移动端触摸友好\n * - 无障碍标签支持\n * \n * 设计规范：\n * - 动画时长: 0.8s-1.2s\n * - 缓动函数: ease-in-out\n * - 覆盖层: 半透明毛玻璃\n * - 最小触摸目标: 44px\n */\nexport function Loading({\n    size = 'md',\n    variant = 'spinner',\n    color = 'primary',\n    text,\n    overlay = false,\n    fullscreen = false,\n    className = '',\n    style = {},\n}: LoadingProps) {\n    const [mounted, setMounted] = useState(false)\n\n    useEffect(() => {\n        setMounted(true)\n    }, [])\n\n    const getSizeStyles = () => {\n        switch (size) {\n            case 'sm':\n                return { width: '16px', height: '16px' }\n            case 'md':\n                return { width: '24px', height: '24px' }\n            case 'lg':\n                return { width: '32px', height: '32px' }\n            case 'xl':\n                return { width: '48px', height: '48px' }\n            default:\n                return { width: '24px', height: '24px' }\n        }\n    }\n\n    const getColorStyles = () => {\n        switch (color) {\n            case 'primary':\n                return {\n                    color: 'var(--color-primary-blue)',\n                    borderColor: 'var(--color-primary-blue)',\n                }\n            case 'secondary':\n                return {\n                    color: 'var(--color-text-secondary)',\n                    borderColor: 'var(--color-text-secondary)',\n                }\n            case 'white':\n                return {\n                    color: 'var(--color-text-primary)',\n                    borderColor: 'var(--color-text-primary)',\n                }\n            default:\n                return {\n                    color: 'var(--color-primary-blue)',\n                    borderColor: 'var(--color-primary-blue)',\n                }\n        }\n    }\n\n    const renderSpinner = () => (\n        <div\n            className=\"loading-spinner\"\n            style={{\n                ...getSizeStyles(),\n                ...getColorStyles(),\n                border: '2px solid transparent',\n                borderTopColor: 'currentColor',\n                borderRadius: '50%',\n                animation: 'spin 1s linear infinite',\n            }}\n            aria-label=\"加载中\"\n            role=\"status\"\n        />\n    )\n\n    const renderDots = () => (\n        <div\n            className=\"loading-dots\"\n            style={{\n                display: 'flex',\n                gap: size === 'sm' ? '2px' : size === 'md' ? '4px' : '6px',\n                alignItems: 'center',\n            }}\n            aria-label=\"加载中\"\n            role=\"status\"\n        >\n            {[0, 1, 2].map((index) => (\n                <div\n                    key={index}\n                    style={{\n                        width: size === 'sm' ? '4px' : size === 'md' ? '6px' : '8px',\n                        height: size === 'sm' ? '4px' : size === 'md' ? '6px' : '8px',\n                        backgroundColor: getColorStyles().color,\n                        borderRadius: '50%',\n                        animation: `loading-dots 1.4s infinite ease-in-out ${index * 0.16}s`,\n                    }}\n                />\n            ))}\n        </div>\n    )\n\n    const renderPulse = () => (\n        <div\n            className=\"loading-pulse\"\n            style={{\n                ...getSizeStyles(),\n                backgroundColor: getColorStyles().color,\n                borderRadius: '50%',\n                animation: 'loading-pulse 1.5s infinite ease-in-out',\n            }}\n            aria-label=\"加载中\"\n            role=\"status\"\n        />\n    )\n\n    const renderSkeleton = () => (\n        <div\n            className=\"loading-skeleton\"\n            style={{\n                width: '100%',\n                height: size === 'sm' ? '16px' : size === 'md' ? '20px' : '24px',\n                background: 'linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)',\n                backgroundSize: '200% 100%',\n                borderRadius: '4px',\n                animation: 'loading-skeleton 1.5s infinite',\n            }}\n            aria-label=\"加载中\"\n            role=\"status\"\n        />\n    )\n\n    const renderLoadingContent = () => {\n        let loadingElement\n\n        switch (variant) {\n            case 'dots':\n                loadingElement = renderDots()\n                break\n            case 'pulse':\n                loadingElement = renderPulse()\n                break\n            case 'skeleton':\n                loadingElement = renderSkeleton()\n                break\n            default:\n                loadingElement = renderSpinner()\n        }\n\n        return (\n            <div\n                style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                    gap: text ? '12px' : '0',\n                }}\n            >\n                {loadingElement}\n                {text && (\n                    <div\n                        style={{\n                            color: getColorStyles().color,\n                            fontSize: size === 'sm' ? 'var(--font-size-xs)' : 'var(--font-size-base)',\n                            fontWeight: 500,\n                            textAlign: 'center',\n                            marginTop: '8px',\n                        }}\n                    >\n                        {text}\n                    </div>\n                )}\n            </div>\n        )\n    }\n\n    if (!mounted) return null\n\n    if (overlay || fullscreen) {\n        return (\n            <div\n                className={`loading-overlay ${className}`}\n                style={{\n                    position: fullscreen ? 'fixed' : 'absolute',\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    background: 'rgba(0, 0, 0, 0.50)',\n                    backdropFilter: 'blur(4px)',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    zIndex: fullscreen ? 9998 : 10,\n                    ...style,\n                }}\n                aria-live=\"polite\"\n                aria-busy=\"true\"\n            >\n                <div\n                    style={{\n                        background: 'rgba(26, 26, 26, 0.90)',\n                        backdropFilter: 'blur(12px)',\n                        borderRadius: '16px',\n                        padding: size === 'sm' ? '16px' : size === 'md' ? '24px' : '32px',\n                        border: '1px solid rgba(42, 42, 42, 0.50)',\n                        minWidth: '120px',\n                        textAlign: 'center',\n                    }}\n                >\n                    {renderLoadingContent()}\n                </div>\n\n                {/* 动画样式 */}\n                <style jsx>{`\n          @keyframes spin {\n            to {\n              transform: rotate(360deg);\n            }\n          }\n\n          @keyframes loading-dots {\n            0%, 80%, 100% {\n              transform: scale(0);\n              opacity: 0.5;\n            }\n            40% {\n              transform: scale(1);\n              opacity: 1;\n            }\n          }\n\n          @keyframes loading-pulse {\n            0%, 100% {\n              transform: scale(1);\n              opacity: 1;\n            }\n            50% {\n              transform: scale(1.1);\n              opacity: 0.7;\n            }\n          }\n\n          @keyframes loading-skeleton {\n            0% {\n              background-position: -200% 0;\n            }\n            100% {\n              background-position: 200% 0;\n            }\n          }\n        `}</style>\n            </div>\n        )\n    }\n\n    return (\n        <div\n            className={`loading-inline ${className}`}\n            style={{\n                display: 'inline-flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                ...style,\n            }}\n            aria-live=\"polite\"\n            aria-busy=\"true\"\n        >\n            {renderLoadingContent()}\n\n            {/* 内联动画样式 */}\n            <style jsx>{`\n        @keyframes spin {\n          to {\n            transform: rotate(360deg);\n          }\n        }\n\n        @keyframes loading-dots {\n          0%, 80%, 100% {\n            transform: scale(0);\n            opacity: 0.5;\n          }\n          40% {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n\n        @keyframes loading-pulse {\n          0%, 100% {\n            transform: scale(1);\n            opacity: 1;\n          }\n          50% {\n            transform: scale(1.1);\n            opacity: 0.7;\n          }\n        }\n\n        @keyframes loading-skeleton {\n          0% {\n            background-position: -200% 0;\n          }\n          100% {\n            background-position: 200% 0;\n          }\n        }\n      `}</style>\n        </div>\n    )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4599, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Loading/index.ts"],"sourcesContent":["export { Loading } from './Loading'\nexport type { LoadingSize, LoadingVariant, LoadingColor } from './Loading' "],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 4613, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/FontSizeController/FontSizeController.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Icon } from '../Icon/Icon'\n\ninterface FontSizeControllerProps {\n    target?: string // 目标元素选择器\n    minSize?: number // 最小字体大小\n    maxSize?: number // 最大字体大小\n    step?: number // 调节步长\n    defaultSize?: number // 默认字体大小\n    position?: 'fixed' | 'static' // 定位方式\n    className?: string\n    onSizeChange?: (size: number) => void\n}\n\n/**\n * FontSizeController 字体大小调节组件\n * \n * 功能特性：\n * - 字体大小调节（+/-按钮）\n * - 实时预览效果\n * - 本地存储记忆功能\n * - 移动端触摸友好\n * - 无障碍支持\n * - 重置功能\n * \n * 设计规范：\n * - 按钮尺寸: 44x44px (移动端友好)\n * - 毛玻璃背景效果\n * - 圆角: 12px\n * - 渐变边框\n */\nexport function FontSizeController({\n    target = '.article-content, .content-body, article',\n    minSize = 12,\n    maxSize = 24,\n    step = 2,\n    defaultSize = 16,\n    position = 'fixed',\n    className = '',\n    onSizeChange,\n}: FontSizeControllerProps) {\n    const [fontSize, setFontSize] = useState(defaultSize)\n    const [isVisible, setIsVisible] = useState(false)\n\n    // 从本地存储加载字体大小设置\n    useEffect(() => {\n        const savedSize = localStorage.getItem('reading-font-size')\n        if (savedSize) {\n            const size = parseInt(savedSize, 10)\n            if (size >= minSize && size <= maxSize) {\n                setFontSize(size)\n            }\n        }\n    }, [minSize, maxSize])\n\n    // 应用字体大小\n    useEffect(() => {\n        const elements = document.querySelectorAll(target)\n        elements.forEach(element => {\n            const htmlElement = element as HTMLElement\n            htmlElement.style.fontSize = `${fontSize}px`\n            htmlElement.style.lineHeight = '1.6'\n        })\n\n        // 保存到本地存储\n        localStorage.setItem('reading-font-size', fontSize.toString())\n\n        // 回调通知\n        onSizeChange?.(fontSize)\n    }, [fontSize, target, onSizeChange])\n\n    // 检测滚动显示控制器\n    useEffect(() => {\n        const handleScroll = () => {\n            const scrollTop = window.pageYOffset || document.documentElement.scrollTop\n            setIsVisible(scrollTop > 200)\n        }\n\n        handleScroll()\n        window.addEventListener('scroll', handleScroll, { passive: true })\n        return () => window.removeEventListener('scroll', handleScroll)\n    }, [])\n\n    const increaseFontSize = () => {\n        setFontSize(prev => Math.min(prev + step, maxSize))\n    }\n\n    const decreaseFontSize = () => {\n        setFontSize(prev => Math.max(prev - step, minSize))\n    }\n\n    const resetFontSize = () => {\n        setFontSize(defaultSize)\n    }\n\n    const containerStyles = position === 'fixed' ? {\n        position: 'fixed' as const,\n        bottom: '24px',\n        right: '24px',\n        zIndex: 100,\n        opacity: isVisible ? 1 : 0,\n        visibility: isVisible ? 'visible' as const : 'hidden' as const,\n        transition: 'all 0.3s ease',\n    } : {}\n\n    return (\n        <div\n            className={`font-size-controller ${className}`}\n            style={{\n                ...containerStyles,\n                background: 'rgba(26, 26, 26, 0.85)',\n                backdropFilter: 'blur(12px)',\n                border: '1px solid rgba(42, 42, 42, 0.70)',\n                borderRadius: '12px',\n                padding: '8px',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '4px',\n                boxShadow: '0 8px 32px rgba(0, 0, 0, 0.30)',\n            }}\n            role=\"toolbar\"\n            aria-label=\"字体大小调节\"\n        >\n            {/* 减小字体按钮 */}\n            <button\n                onClick={decreaseFontSize}\n                disabled={fontSize <= minSize}\n                style={{\n                    width: '44px',\n                    height: '44px',\n                    borderRadius: '8px',\n                    border: '1px solid rgba(42, 42, 42, 0.50)',\n                    background: fontSize <= minSize\n                        ? 'rgba(42, 42, 42, 0.30)'\n                        : 'rgba(59, 130, 246, 0.10)',\n                    color: fontSize <= minSize\n                        ? 'var(--color-text-disabled)'\n                        : 'var(--color-primary-blue)',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    cursor: fontSize <= minSize ? 'not-allowed' : 'pointer',\n                    transition: 'all 0.2s ease',\n                    userSelect: 'none',\n                }}\n                onMouseEnter={(e) => {\n                    if (fontSize > minSize) {\n                        e.currentTarget.style.background = 'rgba(59, 130, 246, 0.20)'\n                    }\n                }}\n                onMouseLeave={(e) => {\n                    if (fontSize > minSize) {\n                        e.currentTarget.style.background = 'rgba(59, 130, 246, 0.10)'\n                    }\n                }}\n                aria-label=\"减小字体\"\n                title=\"减小字体\"\n            >\n                <Icon\n                    name=\"minus\"\n                    size=\"sm\"\n                    style={{\n                        width: '16px',\n                        height: '16px',\n                    }}\n                />\n            </button>\n\n            {/* 当前字体大小显示 */}\n            <div\n                style={{\n                    minWidth: '48px',\n                    textAlign: 'center',\n                    color: 'var(--color-text-primary)',\n                    fontSize: 'var(--font-size-sm)',\n                    fontWeight: 500,\n                    userSelect: 'none',\n                }}\n                aria-live=\"polite\"\n            >\n                {fontSize}px\n            </div>\n\n            {/* 增大字体按钮 */}\n            <button\n                onClick={increaseFontSize}\n                disabled={fontSize >= maxSize}\n                style={{\n                    width: '44px',\n                    height: '44px',\n                    borderRadius: '8px',\n                    border: '1px solid rgba(42, 42, 42, 0.50)',\n                    background: fontSize >= maxSize\n                        ? 'rgba(42, 42, 42, 0.30)'\n                        : 'rgba(59, 130, 246, 0.10)',\n                    color: fontSize >= maxSize\n                        ? 'var(--color-text-disabled)'\n                        : 'var(--color-primary-blue)',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    cursor: fontSize >= maxSize ? 'not-allowed' : 'pointer',\n                    transition: 'all 0.2s ease',\n                    userSelect: 'none',\n                }}\n                onMouseEnter={(e) => {\n                    if (fontSize < maxSize) {\n                        e.currentTarget.style.background = 'rgba(59, 130, 246, 0.20)'\n                    }\n                }}\n                onMouseLeave={(e) => {\n                    if (fontSize < maxSize) {\n                        e.currentTarget.style.background = 'rgba(59, 130, 246, 0.10)'\n                    }\n                }}\n                aria-label=\"增大字体\"\n                title=\"增大字体\"\n            >\n                <Icon\n                    name=\"plus\"\n                    size=\"sm\"\n                    style={{\n                        width: '16px',\n                        height: '16px',\n                    }}\n                />\n            </button>\n\n            {/* 重置按钮 */}\n            {fontSize !== defaultSize && (\n                <button\n                    onClick={resetFontSize}\n                    style={{\n                        width: '44px',\n                        height: '44px',\n                        borderRadius: '8px',\n                        border: '1px solid rgba(42, 42, 42, 0.50)',\n                        background: 'rgba(107, 114, 128, 0.10)',\n                        color: 'var(--color-text-secondary)',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        cursor: 'pointer',\n                        transition: 'all 0.2s ease',\n                        userSelect: 'none',\n                        marginLeft: '4px',\n                    }}\n                    onMouseEnter={(e) => {\n                        e.currentTarget.style.background = 'rgba(107, 114, 128, 0.20)'\n                    }}\n                    onMouseLeave={(e) => {\n                        e.currentTarget.style.background = 'rgba(107, 114, 128, 0.10)'\n                    }}\n                    aria-label=\"重置字体大小\"\n                    title=\"重置字体大小\"\n                >\n                    <Icon\n                        name=\"arrow-path\"\n                        size=\"sm\"\n                        style={{\n                            width: '16px',\n                            height: '16px',\n                        }}\n                    />\n                </button>\n            )}\n\n            {/* 移动端优化样式 */}\n            <style jsx>{`\n        @media (max-width: 768px) {\n          .font-size-controller {\n            bottom: 80px !important;\n            right: 16px !important;\n            transform: scale(1.1);\n          }\n        }\n        \n        /* 安全区域适配 */\n        @supports (padding: env(safe-area-inset-bottom)) {\n          .font-size-controller {\n            bottom: calc(24px + env(safe-area-inset-bottom)) !important;\n          }\n        }\n      `}</style>\n        </div>\n    )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4877, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/FontSizeController/index.ts"],"sourcesContent":["export { FontSizeController } from './FontSizeController' "],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 4891, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/SmartSearch/SmartSearch.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef, useCallback } from 'react'\nimport { Icon, Loading } from '@/components/ui'\nimport { getSuggestions, SearchHistoryManager } from '@/lib/meilisearch'\n\nexport interface SearchSuggestion {\n    id: string\n    text: string\n    type: 'history' | 'suggestion' | 'popular'\n    category?: string\n    count?: number\n}\n\ninterface SmartSearchProps {\n    placeholder?: string\n    onSearch: (query: string) => void\n    onSuggestionSelect?: (suggestion: SearchSuggestion) => void\n    className?: string\n    disabled?: boolean\n    showHistory?: boolean\n    showPopular?: boolean\n    maxSuggestions?: number\n    debounceMs?: number\n}\n\n/**\n * SmartSearch 智能搜索组件\n * \n * 功能特性：\n * - 实时搜索建议\n * - 搜索历史记录\n * - 热门搜索推荐\n * - 键盘快捷键支持\n * - 移动端优化\n * - 语音搜索支持（移动端）\n * - 无障碍支持\n * \n * 设计规范：\n * - 毛玻璃背景效果\n * - 圆角: 16px\n * - 触摸友好设计\n * - 渐变边框\n */\nexport function SmartSearch({\n    placeholder = \"搜索文章、工具、案例...\",\n    onSearch,\n    onSuggestionSelect,\n    className = '',\n    disabled = false,\n    showHistory = true,\n    showPopular = true,\n    maxSuggestions = 8,\n    debounceMs = 300,\n}: SmartSearchProps) {\n    const [query, setQuery] = useState('')\n    const [isFocused, setIsFocused] = useState(false)\n    const [isLoading, setIsLoading] = useState(false)\n    const [suggestions, setSuggestions] = useState<SearchSuggestion[]>([])\n    const [searchHistory, setSearchHistory] = useState<SearchSuggestion[]>([])\n    const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1)\n    const [showDropdown, setShowDropdown] = useState(false)\n    const [isClient, setIsClient] = useState(false)\n\n    const inputRef = useRef<HTMLInputElement>(null)\n    const dropdownRef = useRef<HTMLDivElement>(null)\n    const debounceTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n    // 热门搜索推荐（基于真实搜索历史）\n    const [popularSearches, setPopularSearches] = useState<SearchSuggestion[]>([])\n\n    // 初始化热门搜索\n    useEffect(() => {\n        if (isClient) {\n            const popular = SearchHistoryManager.getPopularSearches(6)\n            setPopularSearches(popular.map(item => ({\n                id: item.id,\n                text: item.text,\n                type: 'popular' as const,\n                count: item.count\n            })))\n        }\n    }, [isClient])\n\n    // 客户端初始化\n    useEffect(() => {\n        setIsClient(true)\n\n        // 从MeiliSearch历史管理器加载搜索历史\n        try {\n            const history = SearchHistoryManager.getHistory()\n            setSearchHistory(history.map(item => ({\n                id: item.id,\n                text: item.query,\n                type: 'history' as const\n            })).slice(0, 10))\n        } catch (error) {\n            console.warn('Failed to load search history:', error)\n        }\n    }, [])\n\n    // 添加搜索历史\n    const addToHistory = useCallback((searchQuery: string) => {\n        if (!searchQuery.trim()) return\n\n        try {\n            // 使用MeiliSearch历史管理器保存\n            SearchHistoryManager.addToHistory(searchQuery)\n\n            // 更新本地状态\n            const newHistoryItem: SearchSuggestion = {\n                id: `h${Date.now()}`,\n                text: searchQuery.trim(),\n                type: 'history' as const,\n            }\n\n            setSearchHistory(prev => {\n                // 移除重复项\n                const filtered = prev.filter(item => item.text !== newHistoryItem.text)\n                // 添加到顶部，限制数量\n                return [newHistoryItem, ...filtered].slice(0, 10)\n            })\n\n            // 更新热门搜索（可能有变化）\n            const popular = SearchHistoryManager.getPopularSearches(6)\n            setPopularSearches(popular.map(item => ({\n                id: item.id,\n                text: item.text,\n                type: 'popular' as const,\n                count: item.count\n            })))\n        } catch (error) {\n            console.warn('Failed to save search history:', error)\n        }\n    }, [])\n\n    // 获取搜索建议（使用MeiliSearch API）\n    const fetchSuggestions = useCallback(async (searchQuery: string): Promise<SearchSuggestion[]> => {\n        if (!searchQuery.trim()) return []\n\n        try {\n            const response = await getSuggestions(searchQuery, 5)\n\n            // 转换MeiliSearch响应为组件需要的格式\n            return response.suggestions.map(suggestion => ({\n                id: suggestion.id,\n                text: suggestion.text,\n                type: 'suggestion' as const,\n                category: suggestion.category || '文章'\n            }))\n        } catch (error) {\n            console.warn('获取搜索建议失败:', error)\n\n            // 降级处理：返回基于查询的通用建议\n            return [\n                { id: 's1', text: `${searchQuery} 教程`, type: 'suggestion' as const, category: '教程' },\n                { id: 's2', text: `${searchQuery} 工具`, type: 'suggestion' as const, category: '工具' },\n                { id: 's3', text: `${searchQuery} 案例`, type: 'suggestion' as const, category: '案例' },\n            ]\n        }\n    }, [])\n\n    // 防抖搜索建议\n    const debouncedFetchSuggestions = useCallback((searchQuery: string) => {\n        if (debounceTimeoutRef.current) {\n            clearTimeout(debounceTimeoutRef.current)\n        }\n\n        setIsLoading(true)\n        debounceTimeoutRef.current = setTimeout(async () => {\n            try {\n                const newSuggestions = await fetchSuggestions(searchQuery)\n                setSuggestions(newSuggestions)\n            } catch (error) {\n                console.warn('Failed to fetch suggestions:', error)\n                setSuggestions([])\n            } finally {\n                setIsLoading(false)\n            }\n        }, debounceMs)\n    }, [fetchSuggestions, debounceMs])\n\n    // 获取显示的建议列表\n    const getDisplaySuggestions = useCallback((): SearchSuggestion[] => {\n        const results: SearchSuggestion[] = []\n\n        if (query.trim()) {\n            // 有搜索词时显示相关建议\n            results.push(...suggestions)\n\n            // 显示匹配的历史记录\n            if (showHistory) {\n                const matchingHistory = searchHistory\n                    .filter(item => item.text.toLowerCase().includes(query.toLowerCase()))\n                    .slice(0, 3)\n                results.push(...matchingHistory)\n            }\n        } else {\n            // 无搜索词时显示历史记录和热门搜索\n            if (showHistory && searchHistory.length > 0) {\n                results.push(...searchHistory.slice(0, 5))\n            }\n\n            if (showPopular) {\n                results.push(...popularSearches.slice(0, 6))\n            }\n        }\n\n        return results.slice(0, maxSuggestions)\n    }, [query, suggestions, searchHistory, showHistory, showPopular, maxSuggestions, popularSearches])\n\n    // 处理输入变化\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const value = e.target.value\n        setQuery(value)\n        setActiveSuggestionIndex(-1)\n\n        if (value.trim()) {\n            debouncedFetchSuggestions(value)\n        } else {\n            setSuggestions([])\n            setIsLoading(false)\n        }\n    }\n\n    // 处理搜索提交\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault()\n        const searchQuery = query.trim()\n\n        if (searchQuery) {\n            addToHistory(searchQuery)\n            onSearch(searchQuery)\n            setShowDropdown(false)\n            inputRef.current?.blur()\n        }\n    }\n\n    // 处理建议选择\n    const handleSuggestionClick = (suggestion: SearchSuggestion) => {\n        setQuery(suggestion.text)\n        addToHistory(suggestion.text)\n        onSuggestionSelect?.(suggestion)\n        onSearch(suggestion.text)\n        setShowDropdown(false)\n        inputRef.current?.blur()\n    }\n\n    // 键盘导航\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n        const displaySuggestions = getDisplaySuggestions()\n\n        switch (e.key) {\n            case 'ArrowDown':\n                e.preventDefault()\n                setActiveSuggestionIndex(prev =>\n                    prev < displaySuggestions.length - 1 ? prev + 1 : prev\n                )\n                break\n            case 'ArrowUp':\n                e.preventDefault()\n                setActiveSuggestionIndex(prev => prev > 0 ? prev - 1 : -1)\n                break\n            case 'Enter':\n                e.preventDefault()\n                if (activeSuggestionIndex >= 0 && displaySuggestions[activeSuggestionIndex]) {\n                    handleSuggestionClick(displaySuggestions[activeSuggestionIndex])\n                } else {\n                    handleSubmit(e as React.FormEvent)\n                }\n                break\n            case 'Escape':\n                setShowDropdown(false)\n                setActiveSuggestionIndex(-1)\n                inputRef.current?.blur()\n                break\n        }\n    }\n\n    // 处理焦点\n    const handleFocus = () => {\n        setIsFocused(true)\n        setShowDropdown(true)\n    }\n\n    const handleBlur = (e: React.FocusEvent) => {\n        // 延迟关闭，允许点击建议\n        setTimeout(() => {\n            if (!dropdownRef.current?.contains(e.relatedTarget as Node)) {\n                setIsFocused(false)\n                setShowDropdown(false)\n                setActiveSuggestionIndex(-1)\n            }\n        }, 150)\n    }\n\n    // 清空历史记录\n    const clearHistory = () => {\n        try {\n            SearchHistoryManager.clearHistory()\n            setSearchHistory([])\n\n            // 重新获取热门搜索（现在应该为空）\n            setPopularSearches([])\n        } catch (error) {\n            console.warn('清空搜索历史失败:', error)\n        }\n    }\n\n    const displaySuggestions = getDisplaySuggestions()\n\n    if (!isClient) return null\n\n    return (\n        <div className={`smart-search ${className}`} style={{ position: 'relative', width: '100%' }}>\n            {/* 搜索输入框 */}\n            <form onSubmit={handleSubmit} role=\"search\">\n                <div\n                    style={{\n                        background: 'var(--color-bg-glass)', // 使用主题毛玻璃背景\n                        backdropFilter: 'blur(12px)',\n                        WebkitBackdropFilter: 'blur(12px)',\n                        border: isFocused\n                            ? '1px solid var(--color-border-active)' // 聚焦时使用主题边框色\n                            : '1px solid var(--color-border-primary)', // 默认使用主题边框色\n                        borderRadius: '16px',\n                        padding: '16px 20px',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '12px',\n                        transition: 'all 0.3s ease',\n                        opacity: disabled ? 0.5 : 1,\n                        boxShadow: isFocused ? '0 4px 20px rgba(59, 130, 246, 0.15)' : 'none',\n                    }}\n                >\n                    {/* 搜索图标 */}\n                    <Icon\n                        name=\"magnifying-glass\"\n                        size=\"lg\"\n                        style={{\n                            width: '20px',\n                            height: '20px',\n                            color: isFocused ? '#3B82F6' : '#9CA3AF',\n                            flexShrink: 0,\n                        }}\n                    />\n\n                    {/* 输入框 */}\n                    <input\n                        ref={inputRef}\n                        type=\"text\"\n                        value={query}\n                        onChange={handleInputChange}\n                        onFocus={handleFocus}\n                        onBlur={handleBlur}\n                        onKeyDown={handleKeyDown}\n                        placeholder={placeholder}\n                        disabled={disabled}\n                        style={{\n                            flex: 1,\n                            background: 'transparent',\n                            border: 'none',\n                            outline: 'none',\n                            color: 'var(--color-text-primary)',\n                            fontSize: '16px', // 防止iOS缩放\n                            lineHeight: '24px',\n                            fontFamily: 'var(--font-family-primary)',\n                        }}\n                        autoComplete=\"off\"\n                        aria-label=\"搜索\"\n                        aria-expanded={showDropdown}\n                        aria-autocomplete=\"list\"\n                        role=\"combobox\"\n                    />\n\n                    {/* 加载状态 */}\n                    {isLoading && (\n                        <Loading size=\"sm\" variant=\"spinner\" color=\"primary\" />\n                    )}\n\n                    {/* 清空按钮 */}\n                    {query && !isLoading && (\n                        <button\n                            type=\"button\"\n                            onClick={() => {\n                                setQuery('')\n                                setSuggestions([])\n                                inputRef.current?.focus()\n                            }}\n                            style={{\n                                background: 'transparent', // 改为透明背景\n                                border: '1px solid var(--color-border-primary)', // 使用主题边框色\n                                borderRadius: '50%',\n                                width: '24px',\n                                height: '24px',\n                                display: 'flex',\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                                cursor: 'pointer',\n                                flexShrink: 0,\n                                transition: 'all 0.2s ease', // 添加过渡效果\n                            }}\n                            aria-label=\"清空搜索\"\n                        >\n                            <Icon name=\"x-mark\" size=\"xs\" style={{ color: 'var(--color-text-muted)' }} />\n                        </button>\n                    )}\n                </div>\n            </form>\n\n            {/* 建议下拉列表 */}\n            {showDropdown && displaySuggestions.length > 0 && (\n                <div\n                    ref={dropdownRef}\n                    style={{\n                        position: 'absolute',\n                        top: '100%',\n                        left: 0,\n                        right: 0,\n                        background: 'var(--color-bg-glass)', // 使用主题毛玻璃背景\n                        backdropFilter: 'blur(16px)',\n                        WebkitBackdropFilter: 'blur(16px)',\n                        border: '1px solid var(--color-border-primary)', // 使用主题边框色\n                        borderRadius: '12px',\n                        marginTop: '8px',\n                        padding: '8px',\n                        zIndex: 1000,\n                        maxHeight: '400px',\n                        overflowY: 'auto',\n                        boxShadow: '0 8px 32px rgba(0, 0, 0, 0.30)',\n                    }}\n                    role=\"listbox\"\n                >\n                    {/* 历史记录标题 */}\n                    {!query && showHistory && searchHistory.length > 0 && (\n                        <div style={{\n                            display: 'flex',\n                            justifyContent: 'space-between',\n                            alignItems: 'center',\n                            padding: '8px 12px',\n                            marginBottom: '4px'\n                        }}>\n                            <span style={{\n                                color: 'var(--color-text-muted)',\n                                fontSize: '13px',\n                                fontWeight: 500\n                            }}>\n                                搜索历史\n                            </span>\n                            <button\n                                onClick={clearHistory}\n                                style={{\n                                    background: 'none',\n                                    border: 'none',\n                                    color: 'var(--color-text-muted)',\n                                    fontSize: '12px',\n                                    cursor: 'pointer',\n                                    padding: '4px',\n                                }}\n                            >\n                                清空\n                            </button>\n                        </div>\n                    )}\n\n                    {/* 建议列表 */}\n                    {displaySuggestions.map((suggestion, index) => (\n                        <div\n                            key={suggestion.id}\n                            onClick={() => handleSuggestionClick(suggestion)}\n                            style={{\n                                padding: '12px',\n                                borderRadius: '8px',\n                                cursor: 'pointer',\n                                background: index === activeSuggestionIndex\n                                    ? 'rgba(59, 130, 246, 0.10)'\n                                    : 'transparent',\n                                border: index === activeSuggestionIndex\n                                    ? '1px solid rgba(59, 130, 246, 0.30)'\n                                    : '1px solid transparent',\n                                display: 'flex',\n                                alignItems: 'center',\n                                gap: '12px',\n                                transition: 'all 0.2s ease',\n                                marginBottom: '2px',\n                            }}\n                            role=\"option\"\n                            aria-selected={index === activeSuggestionIndex}\n                        >\n                            {/* 建议类型图标 */}\n                            <Icon\n                                name={\n                                    suggestion.type === 'history' ? 'clock' :\n                                        suggestion.type === 'popular' ? 'fire' : 'magnifying-glass'\n                                }\n                                size=\"sm\"\n                                style={{\n                                    width: '16px',\n                                    height: '16px',\n                                    color: suggestion.type === 'popular' ? '#F59E0B' : '#9CA3AF',\n                                    flexShrink: 0,\n                                }}\n                            />\n\n                            {/* 建议内容 */}\n                            <div style={{ flex: 1, minWidth: 0 }}>\n                                <div style={{\n                                    color: 'var(--color-text-primary)',\n                                    fontSize: '14px',\n                                    lineHeight: '20px',\n                                    overflow: 'hidden',\n                                    textOverflow: 'ellipsis',\n                                    whiteSpace: 'nowrap',\n                                }}>\n                                    {suggestion.text}\n                                </div>\n                                {suggestion.category && (\n                                    <div style={{\n                                        color: 'var(--color-text-muted)',\n                                        fontSize: '12px',\n                                        lineHeight: '16px',\n                                    }}>\n                                        {suggestion.category}\n                                    </div>\n                                )}\n                            </div>\n\n                            {/* 热门度计数 */}\n                            {suggestion.count && (\n                                <div style={{\n                                    color: 'var(--color-text-muted)',\n                                    fontSize: '12px',\n                                    lineHeight: '16px',\n                                    flexShrink: 0,\n                                }}>\n                                    {suggestion.count > 999 ? `${Math.floor(suggestion.count / 1000)}k` : suggestion.count}\n                                </div>\n                            )}\n                        </div>\n                    ))}\n\n                    {/* 热门搜索标题 */}\n                    {!query && showPopular && searchHistory.length > 0 && (\n                        <div style={{\n                            padding: '8px 12px',\n                            marginTop: '8px',\n                            marginBottom: '4px',\n                            borderTop: '1px solid rgba(42, 42, 42, 0.50)',\n                        }}>\n                            <span style={{\n                                color: 'var(--color-text-muted)',\n                                fontSize: '13px',\n                                fontWeight: 500\n                            }}>\n                                热门搜索\n                            </span>\n                        </div>\n                    )}\n                </div>\n            )}\n\n            {/* 移动端样式优化 */}\n            <style jsx>{`\n        @media (max-width: 768px) {\n          .smart-search input {\n            font-size: 16px !important; /* 防止iOS自动缩放 */\n          }\n        }\n      `}</style>\n        </div>\n    )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5499, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/SmartSearch/index.ts"],"sourcesContent":["export { SmartSearch } from './SmartSearch'\nexport type { SearchSuggestion } from './SmartSearch' "],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 5513, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Accessibility/AccessibilityProvider.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState, useRef, ReactNode } from 'react'\n\ninterface AccessibilityProviderProps {\n    children: ReactNode\n    skipToContentId?: string\n    enableFocusVisible?: boolean\n    enableHighContrast?: boolean\n    enableReducedMotion?: boolean\n}\n\n/**\n * AccessibilityProvider 无障碍功能提供者\n * \n * 功能特性：\n * - 跳转到主内容的快捷链接\n * - 键盘导航支持\n * - 焦点可见性管理\n * - 高对比度模式\n * - 减少动画模式\n * - 屏幕阅读器友好\n * - 颜色对比度优化\n * \n * 设计规范：\n * - 符合WCAG 2.1 AA标准\n * - 键盘导航完整支持\n * - 焦点指示器清晰可见\n * - 语义化HTML结构\n */\nexport function AccessibilityProvider({\n    children,\n    skipToContentId = 'main-content',\n    enableFocusVisible = true,\n    enableHighContrast = true,\n    enableReducedMotion = true,\n}: AccessibilityProviderProps) {\n    const [focusVisible, setFocusVisible] = useState(false)\n    const [highContrast, setHighContrast] = useState(false)\n    const [reducedMotion, setReducedMotion] = useState(false)\n    const [isKeyboardUser, setIsKeyboardUser] = useState(false)\n    const skipLinkRef = useRef<HTMLAnchorElement>(null)\n\n    // 检测用户偏好设置\n    useEffect(() => {\n        // 检测高对比度偏好\n        if (enableHighContrast) {\n            const highContrastQuery = window.matchMedia('(prefers-contrast: high)')\n            setHighContrast(highContrastQuery.matches)\n\n            const handleHighContrastChange = (e: MediaQueryListEvent) => {\n                setHighContrast(e.matches)\n            }\n\n            highContrastQuery.addEventListener('change', handleHighContrastChange)\n            return () => highContrastQuery.removeEventListener('change', handleHighContrastChange)\n        }\n    }, [enableHighContrast])\n\n    useEffect(() => {\n        // 检测减少动画偏好\n        if (enableReducedMotion) {\n            const motionQuery = window.matchMedia('(prefers-reduced-motion: reduce)')\n            setReducedMotion(motionQuery.matches)\n\n            const handleMotionChange = (e: MediaQueryListEvent) => {\n                setReducedMotion(e.matches)\n            }\n\n            motionQuery.addEventListener('change', handleMotionChange)\n            return () => motionQuery.removeEventListener('change', handleMotionChange)\n        }\n    }, [enableReducedMotion])\n\n    // 键盘导航检测\n    useEffect(() => {\n        let isUsingKeyboard = false\n\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if (e.key === 'Tab') {\n                isUsingKeyboard = true\n                setIsKeyboardUser(true)\n                setFocusVisible(true)\n            }\n        }\n\n        const handleMouseDown = () => {\n            if (isUsingKeyboard) {\n                isUsingKeyboard = false\n                setIsKeyboardUser(false)\n                setFocusVisible(false)\n            }\n        }\n\n        const handleFocus = () => {\n            if (isUsingKeyboard) {\n                setFocusVisible(true)\n            }\n        }\n\n        document.addEventListener('keydown', handleKeyDown)\n        document.addEventListener('mousedown', handleMouseDown)\n        document.addEventListener('focusin', handleFocus)\n\n        return () => {\n            document.removeEventListener('keydown', handleKeyDown)\n            document.removeEventListener('mousedown', handleMouseDown)\n            document.removeEventListener('focusin', handleFocus)\n        }\n    }, [])\n\n    // 跳转到主内容\n    const handleSkipToContent = (e: React.MouseEvent) => {\n        e.preventDefault()\n        const mainContent = document.getElementById(skipToContentId)\n        if (mainContent) {\n            mainContent.focus()\n            mainContent.scrollIntoView({ behavior: 'smooth' })\n        }\n    }\n\n    // 全局键盘快捷键\n    useEffect(() => {\n        const handleGlobalKeyDown = (e: KeyboardEvent) => {\n            // Alt + 1: 跳转到主内容\n            if (e.altKey && e.key === '1') {\n                e.preventDefault()\n                const mainContent = document.getElementById(skipToContentId)\n                if (mainContent) {\n                    mainContent.focus()\n                    mainContent.scrollIntoView({ behavior: 'smooth' })\n                }\n            }\n\n            // Alt + 2: 跳转到搜索\n            if (e.altKey && e.key === '2') {\n                e.preventDefault()\n                const searchInput = document.querySelector('input[type=\"search\"], input[aria-label*=\"搜索\"]') as HTMLElement\n                if (searchInput) {\n                    searchInput.focus()\n                }\n            }\n\n            // Alt + 3: 跳转到导航\n            if (e.altKey && e.key === '3') {\n                e.preventDefault()\n                const navigation = document.querySelector('nav, [role=\"navigation\"]') as HTMLElement\n                if (navigation) {\n                    navigation.focus()\n                }\n            }\n        }\n\n        document.addEventListener('keydown', handleGlobalKeyDown)\n        return () => document.removeEventListener('keydown', handleGlobalKeyDown)\n    }, [skipToContentId])\n\n    return (\n        <>\n            {/* 跳转到主内容链接 */}\n            <a\n                ref={skipLinkRef}\n                href={`#${skipToContentId}`}\n                onClick={handleSkipToContent}\n                style={{\n                    position: 'absolute',\n                    top: '-40px',\n                    left: '8px',\n                    background: '#000000',\n                    color: 'var(--color-text-primary)',\n                    padding: '8px 12px',\n                    borderRadius: '4px',\n                    textDecoration: 'none',\n                    fontSize: '14px',\n                    fontWeight: 500,\n                    zIndex: 10000,\n                    transition: 'top 0.3s ease',\n                    border: '2px solid #3B82F6',\n                    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.5)',\n                }}\n                onFocus={(e) => {\n                    e.currentTarget.style.top = '8px'\n                }}\n                onBlur={(e) => {\n                    e.currentTarget.style.top = '-40px'\n                }}\n                aria-label=\"跳转到主要内容区域\"\n            >\n                跳转到主内容 (Alt+1)\n            </a>\n\n            {/* 主要内容 */}\n            {children}\n\n            {/* 全局无障碍样式 */}\n            <style jsx global>{`\n        /* 焦点可见性样式 */\n        ${enableFocusVisible ? `\n          *:focus {\n            outline: ${focusVisible ? '2px solid #3B82F6' : 'none'} !important;\n            outline-offset: 2px !important;\n          }\n          \n          .keyboard-user *:focus {\n            outline: 2px solid #3B82F6 !important;\n            outline-offset: 2px !important;\n          }\n          \n          button:focus,\n          input:focus,\n          textarea:focus,\n          select:focus,\n          a:focus,\n          [tabindex]:focus {\n            box-shadow: ${focusVisible ? '0 0 0 3px rgba(59, 130, 246, 0.3)' : 'none'} !important;\n          }\n        ` : ''}\n\n        /* 高对比度模式样式 */\n        ${enableHighContrast && highContrast ? `\n          @media (prefers-contrast: high) {\n            * {\n              background-color: #000000 !important;\n              color: #FFFFFF !important;\n              border-color: #FFFFFF !important;\n            }\n            \n            a {\n              color: #00FFFF !important;\n            }\n            \n            button {\n              background-color: #FFFFFF !important;\n              color: #000000 !important;\n              border: 2px solid #FFFFFF !important;\n            }\n            \n            input, textarea, select {\n              background-color: #FFFFFF !important;\n              color: #000000 !important;\n              border: 2px solid #000000 !important;\n            }\n            \n            .gradient-text {\n              color: #FFFFFF !important;\n              background: none !important;\n              -webkit-background-clip: unset !important;\n              -webkit-text-fill-color: #FFFFFF !important;\n            }\n          }\n        ` : ''}\n\n        /* 减少动画模式样式 */\n        ${enableReducedMotion && reducedMotion ? `\n          @media (prefers-reduced-motion: reduce) {\n            *,\n            *::before,\n            *::after {\n              animation-duration: 0.01ms !important;\n              animation-iteration-count: 1 !important;\n              transition-duration: 0.01ms !important;\n              scroll-behavior: auto !important;\n            }\n          }\n        ` : ''}\n\n        /* 屏幕阅读器专用样式 */\n        .sr-only {\n          position: absolute !important;\n          width: 1px !important;\n          height: 1px !important;\n          padding: 0 !important;\n          margin: -1px !important;\n          overflow: hidden !important;\n          clip: rect(0, 0, 0, 0) !important;\n          white-space: nowrap !important;\n          border: 0 !important;\n        }\n\n        .sr-only-focusable:focus {\n          position: static !important;\n          width: auto !important;\n          height: auto !important;\n          padding: inherit !important;\n          margin: inherit !important;\n          overflow: visible !important;\n          clip: auto !important;\n          white-space: normal !important;\n        }\n\n        /* 键盘导航指示器 */\n        ${isKeyboardUser ? `\n          body {\n            --focus-ring: 2px solid #3B82F6;\n            --focus-ring-offset: 2px;\n          }\n        ` : ''}\n\n        /* 改善文本可读性 */\n        body {\n          line-height: 1.6 !important;\n          font-size: ${reducedMotion ? '16px' : 'inherit'} !important;\n        }\n\n        /* 改善链接可识别性 */\n        a:not([class*=\"button\"]):not([class*=\"btn\"]) {\n          text-decoration: underline !important;\n        }\n\n        a:hover, a:focus {\n          text-decoration: underline !important;\n        }\n\n        /* 改善按钮可识别性 */\n        button, [role=\"button\"] {\n          cursor: pointer !important;\n          min-height: 44px !important;\n          min-width: 44px !important;\n        }\n\n        /* 改善表单控件可访问性 */\n        input, textarea, select {\n          min-height: 44px !important;\n        }\n\n        input:invalid, textarea:invalid, select:invalid {\n          border-color: #EF4444 !important;\n          box-shadow: 0 0 0 1px #EF4444 !important;\n        }\n\n        /* 改善对比度 */\n        ::placeholder {\n          color: #9CA3AF !important;\n          opacity: 1 !important;\n        }\n\n        /* 跳过导航链接样式优化 */\n        a[href^=\"#\"]:focus {\n          position: relative !important;\n          z-index: 10000 !important;\n        }\n      `}</style>\n\n            {/* 动态类名管理 */}\n            <script\n                dangerouslySetInnerHTML={{\n                    __html: `\n            if (${isKeyboardUser}) {\n              document.body.classList.add('keyboard-user');\n            } else {\n              document.body.classList.remove('keyboard-user');\n            }\n            \n            if (${highContrast}) {\n              document.body.classList.add('high-contrast');\n            } else {\n              document.body.classList.remove('high-contrast');\n            }\n            \n            if (${reducedMotion}) {\n              document.body.classList.add('reduced-motion');\n            } else {\n              document.body.classList.remove('reduced-motion');\n            }\n          `,\n                }}\n            />\n        </>\n    )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6005, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Accessibility/index.ts"],"sourcesContent":["export { AccessibilityProvider } from './AccessibilityProvider' "],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 6019, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/NetworkStatus/NetworkStatus.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Icon, useToast, ToastContainer } from '@/components/ui'\n\ninterface NetworkStatusProps {\n    showIndicator?: boolean\n    showToasts?: boolean\n    onNetworkChange?: (isOnline: boolean) => void\n    className?: string\n}\n\n// 网络连接API类型定义\ninterface NetworkConnection extends EventTarget {\n    effectiveType?: string\n    type?: string\n    downlink?: number\n    rtt?: number\n}\n\n// 扩展Navigator类型\ninterface ExtendedNavigator extends Navigator {\n    connection?: NetworkConnection\n}\n\n// 待处理操作数据类型\ninterface PendingActionData {\n    [key: string]: unknown\n}\n\n/**\n * NetworkStatus 网络状态检测组件\n * \n * 功能特性：\n * - 实时网络状态检测\n * - 离线/在线状态提示\n * - 网络恢复自动重连\n * - 离线缓存支持\n * - 数据同步状态\n * - 移动端网络类型检测\n * \n * 设计规范：\n * - 状态指示器: 简洁明确\n * - 通知提示: 非侵入式\n * - 离线模式: 功能降级\n * - 数据同步: 透明处理\n */\nexport function NetworkStatus({\n    showIndicator = true,\n    showToasts = true,\n    onNetworkChange,\n    className = '',\n}: NetworkStatusProps) {\n    const [isOnline, setIsOnline] = useState(true)\n    const [connectionType, setConnectionType] = useState<string>('')\n    const [lastOnlineTime, setLastOnlineTime] = useState<Date | null>(null)\n    const [pendingSyncs, setPendingSyncs] = useState(0)\n    const { toasts, showSuccess, showWarning, showInfo, removeToast } = useToast()\n\n    // 检测网络状态\n    useEffect(() => {\n        const updateNetworkStatus = () => {\n            const wasOnline = isOnline\n            const nowOnline = navigator.onLine\n\n            setIsOnline(nowOnline)\n\n            // 网络状态变化时的处理\n            if (wasOnline !== nowOnline) {\n                if (nowOnline) {\n                    // 网络恢复\n                    setLastOnlineTime(new Date())\n                    if (showToasts) {\n                        showSuccess(\n                            '网络已恢复',\n                            '您现在可以正常浏览和操作了',\n                            { duration: 3000 }\n                        )\n                    }\n                    // 触发数据同步\n                    syncPendingData()\n                } else {\n                    // 网络断开\n                    if (showToasts) {\n                        showWarning(\n                            '网络连接中断',\n                            '您仍可以浏览已缓存的内容',\n                            { persistent: true }\n                        )\n                    }\n                }\n\n                onNetworkChange?.(nowOnline)\n            }\n        }\n\n        // 获取连接类型（如果支持）\n        const updateConnectionType = () => {\n            if ('connection' in navigator) {\n                const connection = (navigator as ExtendedNavigator).connection\n                if (connection) {\n                    setConnectionType(connection.effectiveType || connection.type || '')\n                }\n            }\n        }\n\n        // 初始化\n        updateNetworkStatus()\n        updateConnectionType()\n\n        // 监听网络状态变化\n        window.addEventListener('online', updateNetworkStatus)\n        window.addEventListener('offline', updateNetworkStatus)\n\n        // 监听连接类型变化\n        if ('connection' in navigator) {\n            const connection = (navigator as ExtendedNavigator).connection\n            if (connection) {\n                connection.addEventListener('change', updateConnectionType)\n            }\n        }\n\n        return () => {\n            window.removeEventListener('online', updateNetworkStatus)\n            window.removeEventListener('offline', updateNetworkStatus)\n\n            if ('connection' in navigator) {\n                const connection = (navigator as ExtendedNavigator).connection\n                if (connection) {\n                    connection.removeEventListener('change', updateConnectionType)\n                }\n            }\n        }\n    }, [isOnline, showToasts, onNetworkChange])\n\n    // 同步待处理数据\n    const syncPendingData = async () => {\n        try {\n            // 获取待同步的数据\n            const pendingData = localStorage.getItem('pending-sync-data')\n            if (!pendingData) return\n\n            const dataArray = JSON.parse(pendingData)\n            setPendingSyncs(dataArray.length)\n\n            if (dataArray.length === 0) return\n\n            if (showToasts) {\n                showInfo(\n                    `正在同步 ${dataArray.length} 项数据`,\n                    '请稍候，数据同步中...',\n                    { persistent: true }\n                )\n            }\n\n            // 模拟数据同步过程\n            for (let i = 0; i < dataArray.length; i++) {\n                await new Promise(resolve => setTimeout(resolve, 500))\n                setPendingSyncs(prev => prev - 1)\n            }\n\n            // 清空待同步数据\n            localStorage.removeItem('pending-sync-data')\n            setPendingSyncs(0)\n\n            if (showToasts) {\n                showSuccess(\n                    '数据同步完成',\n                    '所有离线操作已成功同步到服务器',\n                    { duration: 4000 }\n                )\n            }\n        } catch (error) {\n            console.error('Data sync failed:', error)\n            if (showToasts) {\n                showWarning(\n                    '数据同步失败',\n                    '部分数据未能同步，将在下次连接时重试'\n                )\n            }\n        }\n    }\n\n    // 添加待同步数据\n    const addPendingSync = (data: PendingActionData) => {\n        try {\n            const existing = localStorage.getItem('pending-sync-data')\n            const dataArray = existing ? JSON.parse(existing) : []\n            dataArray.push({\n                ...data,\n                timestamp: new Date().toISOString(),\n            })\n            localStorage.setItem('pending-sync-data', JSON.stringify(dataArray))\n            setPendingSyncs(dataArray.length)\n        } catch (error) {\n            console.error('Failed to add pending sync data:', error)\n        }\n    }\n\n    // 获取网络状态描述\n    const getNetworkDescription = () => {\n        if (!isOnline) return '离线模式'\n\n        if (connectionType) {\n            const typeMap: Record<string, string> = {\n                'slow-2g': '2G (慢)',\n                '2g': '2G',\n                '3g': '3G',\n                '4g': '4G',\n                '5g': '5G',\n                'wifi': 'WiFi',\n                'ethernet': '有线网络',\n            }\n            return typeMap[connectionType] || '在线'\n        }\n\n        return '在线'\n    }\n\n    // 获取状态颜色\n    const getStatusColor = () => {\n        if (!isOnline) return '#EF4444' // 红色\n        if (connectionType === 'slow-2g' || connectionType === '2g') return '#F59E0B' // 黄色\n        return '#22C55E' // 绿色\n    }\n\n    if (!showIndicator && !showToasts) return null\n\n    return (\n        <>\n            {/* 网络状态指示器 */}\n            {showIndicator && (\n                <div\n                    className={`network-status ${className}`}\n                    style={{\n                        position: 'fixed',\n                        top: '16px',\n                        left: '16px',\n                        background: 'rgba(26, 26, 26, 0.90)',\n                        backdropFilter: 'blur(8px)',\n                        border: '1px solid rgba(42, 42, 42, 0.50)',\n                        borderRadius: '8px',\n                        padding: '6px 12px',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '8px',\n                        fontSize: '12px',\n                        color: 'var(--color-text-muted)',\n                        zIndex: 1000,\n                        transition: 'all 0.3s ease',\n                        opacity: isOnline ? 0.7 : 1,\n                    }}\n                    title={`网络状态: ${getNetworkDescription()}`}\n                >\n                    {/* 状态指示器 */}\n                    <div\n                        style={{\n                            width: '8px',\n                            height: '8px',\n                            borderRadius: '50%',\n                            backgroundColor: getStatusColor(),\n                            animation: isOnline ? 'none' : 'pulse 2s infinite',\n                        }}\n                    />\n\n                    {/* 网络状态文本 */}\n                    <span>{getNetworkDescription()}</span>\n\n                    {/* 同步状态 */}\n                    {pendingSyncs > 0 && (\n                        <>\n                            <Icon\n                                name=\"arrow-path\"\n                                size=\"xs\"\n                                style={{\n                                    width: '12px',\n                                    height: '12px',\n                                    color: 'var(--color-warning)',\n                                    animation: 'spin 1s linear infinite',\n                                }}\n                            />\n                            <span style={{ color: 'var(--color-warning)' }}>\n                                {pendingSyncs}项待同步\n                            </span>\n                        </>\n                    )}\n                </div>\n            )}\n\n            {/* 离线模式提示横幅 */}\n            {!isOnline && (\n                <div\n                    style={{\n                        position: 'fixed',\n                        top: 0,\n                        left: 0,\n                        right: 0,\n                        background: 'linear-gradient(90deg, #F59E0B 0%, #EF4444 100%)',\n                        color: 'var(--color-text-primary)',\n                        padding: '8px 16px',\n                        textAlign: 'center',\n                        fontSize: '14px',\n                        fontWeight: 500,\n                        zIndex: 9999,\n                        animation: 'slideInTop 0.3s ease-out',\n                    }}\n                >\n                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px' }}>\n                        <Icon name=\"wifi-slash\" size=\"sm\" style={{ width: '16px', height: '16px' }} />\n                        <span>离线模式 - 您可以继续浏览已缓存的内容</span>\n                    </div>\n                </div>\n            )}\n\n            {/* Toast容器 */}\n            {showToasts && (\n                <ToastContainer\n                    toasts={toasts}\n                    onRemoveToast={removeToast}\n                    position=\"bottom-center\"\n                />\n            )}\n\n            {/* 动画样式 */}\n            <style jsx>{`\n        @keyframes pulse {\n          0%, 100% {\n            opacity: 1;\n          }\n          50% {\n            opacity: 0.5;\n          }\n        }\n        \n        @keyframes spin {\n          to {\n            transform: rotate(360deg);\n          }\n        }\n        \n        @keyframes slideInTop {\n          from {\n            transform: translateY(-100%);\n          }\n          to {\n            transform: translateY(0);\n          }\n        }\n        \n        /* 移动端适配 */\n        @media (max-width: 768px) {\n          .network-status {\n            top: 8px !important;\n            left: 8px !important;\n            font-size: 11px !important;\n            padding: 4px 8px !important;\n          }\n        }\n        \n        /* 安全区域适配 */\n        @supports (padding: env(safe-area-inset-top)) {\n          .network-status {\n            top: calc(16px + env(safe-area-inset-top)) !important;\n          }\n        }\n      `}</style>\n        </>\n    )\n}\n\n// 导出工具函数用于其他组件\nexport const NetworkUtils = {\n    /**\n     * 检查当前网络状态\n     */\n    isOnline: () => navigator.onLine,\n\n    /**\n     * 添加离线数据到同步队列\n     */\n    addToSyncQueue: (data: PendingActionData) => {\n        try {\n            const existing = localStorage.getItem('pending-sync-data')\n            const dataArray = existing ? JSON.parse(existing) : []\n            dataArray.push({\n                ...data,\n                timestamp: new Date().toISOString(),\n            })\n            localStorage.setItem('pending-sync-data', JSON.stringify(dataArray))\n            return true\n        } catch {\n            return false\n        }\n    },\n\n    /**\n     * 获取待同步数据数量\n     */\n    getPendingSyncCount: () => {\n        try {\n            const existing = localStorage.getItem('pending-sync-data')\n            return existing ? JSON.parse(existing).length : 0\n        } catch {\n            return 0\n        }\n    },\n\n    /**\n     * 检测连接质量\n     */\n    getConnectionQuality: () => {\n        if (!navigator.onLine) return 'offline'\n\n        if ('connection' in navigator) {\n            const connection = (navigator as ExtendedNavigator).connection\n            if (connection) {\n                const type = connection.effectiveType || connection.type\n                if (type === 'slow-2g' || type === '2g') return 'poor'\n                if (type === '3g') return 'good'\n                if (type === '4g' || type === '5g') return 'excellent'\n            }\n        }\n\n        return 'good'\n    }\n} "],"names":[],"mappings":";;;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAHA;;;;;AA+CO,SAAS,cAAc,EAC1B,gBAAgB,IAAI,EACpB,aAAa,IAAI,EACjB,eAAe,EACf,YAAY,EAAE,EACG;IACjB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IAC7D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAClE,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,WAAW,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,iJAAA,CAAA,WAAQ,AAAD;IAE3E,SAAS;IACT,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,sBAAsB;YACxB,MAAM,YAAY;YAClB,MAAM,YAAY,UAAU,MAAM;YAElC,YAAY;YAEZ,aAAa;YACb,IAAI,cAAc,WAAW;gBACzB,IAAI,WAAW;oBACX,OAAO;oBACP,kBAAkB,IAAI;oBACtB,IAAI,YAAY;wBACZ,YACI,SACA,iBACA;4BAAE,UAAU;wBAAK;oBAEzB;oBACA,SAAS;oBACT;gBACJ,OAAO;oBACH,OAAO;oBACP,IAAI,YAAY;wBACZ,YACI,UACA,gBACA;4BAAE,YAAY;wBAAK;oBAE3B;gBACJ;gBAEA,kBAAkB;YACtB;QACJ;QAEA,eAAe;QACf,MAAM,uBAAuB;YACzB,IAAI,gBAAgB,WAAW;gBAC3B,MAAM,aAAa,AAAC,UAAgC,UAAU;gBAC9D,IAAI,YAAY;oBACZ,kBAAkB,WAAW,aAAa,IAAI,WAAW,IAAI,IAAI;gBACrE;YACJ;QACJ;QAEA,MAAM;QACN;QACA;QAEA,WAAW;QACX,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,gBAAgB,CAAC,WAAW;QAEnC,WAAW;QACX,IAAI,gBAAgB,WAAW;YAC3B,MAAM,aAAa,AAAC,UAAgC,UAAU;YAC9D,IAAI,YAAY;gBACZ,WAAW,gBAAgB,CAAC,UAAU;YAC1C;QACJ;QAEA,OAAO;YACH,OAAO,mBAAmB,CAAC,UAAU;YACrC,OAAO,mBAAmB,CAAC,WAAW;YAEtC,IAAI,gBAAgB,WAAW;gBAC3B,MAAM,aAAa,AAAC,UAAgC,UAAU;gBAC9D,IAAI,YAAY;oBACZ,WAAW,mBAAmB,CAAC,UAAU;gBAC7C;YACJ;QACJ;IACJ,GAAG;QAAC;QAAU;QAAY;KAAgB;IAE1C,UAAU;IACV,MAAM,kBAAkB;QACpB,IAAI;YACA,WAAW;YACX,MAAM,cAAc,aAAa,OAAO,CAAC;YACzC,IAAI,CAAC,aAAa;YAElB,MAAM,YAAY,KAAK,KAAK,CAAC;YAC7B,gBAAgB,UAAU,MAAM;YAEhC,IAAI,UAAU,MAAM,KAAK,GAAG;YAE5B,IAAI,YAAY;gBACZ,SACI,CAAC,KAAK,EAAE,UAAU,MAAM,CAAC,IAAI,CAAC,EAC9B,gBACA;oBAAE,YAAY;gBAAK;YAE3B;YAEA,WAAW;YACX,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAK;gBACvC,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;gBACjD,gBAAgB,CAAA,OAAQ,OAAO;YACnC;YAEA,UAAU;YACV,aAAa,UAAU,CAAC;YACxB,gBAAgB;YAEhB,IAAI,YAAY;gBACZ,YACI,UACA,mBACA;oBAAE,UAAU;gBAAK;YAEzB;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,qBAAqB;YACnC,IAAI,YAAY;gBACZ,YACI,UACA;YAER;QACJ;IACJ;IAEA,UAAU;IACV,MAAM,iBAAiB,CAAC;QACpB,IAAI;YACA,MAAM,WAAW,aAAa,OAAO,CAAC;YACtC,MAAM,YAAY,WAAW,KAAK,KAAK,CAAC,YAAY,EAAE;YACtD,UAAU,IAAI,CAAC;gBACX,GAAG,IAAI;gBACP,WAAW,IAAI,OAAO,WAAW;YACrC;YACA,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC;YACzD,gBAAgB,UAAU,MAAM;QACpC,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,oCAAoC;QACtD;IACJ;IAEA,WAAW;IACX,MAAM,wBAAwB;QAC1B,IAAI,CAAC,UAAU,OAAO;QAEtB,IAAI,gBAAgB;YAChB,MAAM,UAAkC;gBACpC,WAAW;gBACX,MAAM;gBACN,MAAM;gBACN,MAAM;gBACN,MAAM;gBACN,QAAQ;gBACR,YAAY;YAChB;YACA,OAAO,OAAO,CAAC,eAAe,IAAI;QACtC;QAEA,OAAO;IACX;IAEA,SAAS;IACT,MAAM,iBAAiB;QACnB,IAAI,CAAC,UAAU,OAAO,UAAU,KAAK;;QACrC,IAAI,mBAAmB,aAAa,mBAAmB,MAAM,OAAO,UAAU,KAAK;;QACnF,OAAO,UAAU,KAAK;;IAC1B;IAEA,IAAI,CAAC,iBAAiB,CAAC,YAAY,OAAO;IAE1C,qBACI;;YAEK,+BACG,8OAAC;gBAEG,OAAO;oBACH,UAAU;oBACV,KAAK;oBACL,MAAM;oBACN,YAAY;oBACZ,gBAAgB;oBAChB,QAAQ;oBACR,cAAc;oBACd,SAAS;oBACT,SAAS;oBACT,YAAY;oBACZ,KAAK;oBACL,UAAU;oBACV,OAAO;oBACP,QAAQ;oBACR,YAAY;oBACZ,SAAS,WAAW,MAAM;gBAC9B;gBACA,OAAO,CAAC,MAAM,EAAE,yBAAyB;0DAnB9B,CAAC,eAAe,EAAE,WAAW;;kCAsBxC,8OAAC;wBACG,OAAO;4BACH,OAAO;4BACP,QAAQ;4BACR,cAAc;4BACd,iBAAiB;4BACjB,WAAW,WAAW,SAAS;wBACnC;;;;;;;kCAIJ,8OAAC;;kCAAM;;;;;;oBAGN,eAAe,mBACZ;;0CACI,8OAAC,wIAAA,CAAA,OAAI;gCACD,MAAK;gCACL,MAAK;gCACL,OAAO;oCACH,OAAO;oCACP,QAAQ;oCACR,OAAO;oCACP,WAAW;gCACf;;;;;;0CAEJ,8OAAC;gCAAK,OAAO;oCAAE,OAAO;gCAAuB;;;oCACxC;oCAAa;;;;;;;;;;;;;;;YAQjC,CAAC,0BACE,8OAAC;gBACG,OAAO;oBACH,UAAU;oBACV,KAAK;oBACL,MAAM;oBACN,OAAO;oBACP,YAAY;oBACZ,OAAO;oBACP,SAAS;oBACT,WAAW;oBACX,UAAU;oBACV,YAAY;oBACZ,QAAQ;oBACR,WAAW;gBACf;;0BAEA,cAAA,8OAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAQ,YAAY;wBAAU,gBAAgB;wBAAU,KAAK;oBAAM;;;sCACtF,8OAAC,wIAAA,CAAA,OAAI;4BAAC,MAAK;4BAAa,MAAK;4BAAK,OAAO;gCAAE,OAAO;gCAAQ,QAAQ;4BAAO;;;;;;sCACzE,8OAAC;;sCAAK;;;;;;;;;;;;;;;;;YAMjB,4BACG,8OAAC,mJAAA,CAAA,iBAAc;gBACX,QAAQ;gBACR,eAAe;gBACf,UAAS;;;;;;;;;;;;AAiD7B;AAGO,MAAM,eAAe;IACxB;;KAEC,GACD,UAAU,IAAM,UAAU,MAAM;IAEhC;;KAEC,GACD,gBAAgB,CAAC;QACb,IAAI;YACA,MAAM,WAAW,aAAa,OAAO,CAAC;YACtC,MAAM,YAAY,WAAW,KAAK,KAAK,CAAC,YAAY,EAAE;YACtD,UAAU,IAAI,CAAC;gBACX,GAAG,IAAI;gBACP,WAAW,IAAI,OAAO,WAAW;YACrC;YACA,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC;YACzD,OAAO;QACX,EAAE,OAAM;YACJ,OAAO;QACX;IACJ;IAEA;;KAEC,GACD,qBAAqB;QACjB,IAAI;YACA,MAAM,WAAW,aAAa,OAAO,CAAC;YACtC,OAAO,WAAW,KAAK,KAAK,CAAC,UAAU,MAAM,GAAG;QACpD,EAAE,OAAM;YACJ,OAAO;QACX;IACJ;IAEA;;KAEC,GACD,sBAAsB;QAClB,IAAI,CAAC,UAAU,MAAM,EAAE,OAAO;QAE9B,IAAI,gBAAgB,WAAW;YAC3B,MAAM,aAAa,AAAC,UAAgC,UAAU;YAC9D,IAAI,YAAY;gBACZ,MAAM,OAAO,WAAW,aAAa,IAAI,WAAW,IAAI;gBACxD,IAAI,SAAS,aAAa,SAAS,MAAM,OAAO;gBAChD,IAAI,SAAS,MAAM,OAAO;gBAC1B,IAAI,SAAS,QAAQ,SAAS,MAAM,OAAO;YAC/C;QACJ;QAEA,OAAO;IACX;AACJ","debugId":null}},
    {"offset": {"line": 6389, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/NetworkStatus/index.ts"],"sourcesContent":["export { NetworkStatus, NetworkUtils } from './NetworkStatus' "],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 6403, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/index.ts"],"sourcesContent":["// UI 原子组件统一导出\nexport { GradientButton } from './Button/GradientButton'\nexport { GradientText } from './Text/GradientText'\nexport { Input } from './Input/Input'\nexport { GlassCard } from './Card/GlassCard'\nexport { Icon } from './Icon/Icon'\nexport { CrownIcon } from './CrownIcon/CrownIcon'\nexport { StarIcon } from './StarIcon/StarIcon'\nexport { Avatar } from './Avatar/Avatar'\nexport { SettingsAvatar } from './SettingsAvatar/SettingsAvatar'\nexport { Container } from './Container/Container'\nexport { Tag, TagList } from './Tag/Tag'\nexport { BaseModal, ModalOverlay } from './Modal'\nexport { BackgroundDecoration } from './BackgroundDecoration/BackgroundDecoration'\nexport { HeroBackground3D, GlobalBackground3D } from './HeroBackground3D/HeroBackground3D'\nexport { CSSParticleBackground } from './CSSParticleBackground/CSSParticleBackground' // 旧版：有SSR问题\nexport { DynamicParticleBackground } from './DynamicParticleBackground/DynamicParticleBackground' // 新版：零SSR问题\nexport { AIBrainModel } from './AIBrainModel/AIBrainModel'\nexport { BackToTopButton } from './BackToTopButton/BackToTopButton'\nexport { PageTransition } from './PageTransition/PageTransition'\nexport { AnimatedNumber } from './AnimatedNumber/AnimatedNumber'\nexport { GlobalCountdownInit } from './GlobalCountdownInit/GlobalCountdownInit'\nexport { ThemeInit } from './ThemeInit/ThemeInit'\n\n// 分页组件\nexport { Pagination } from '../molecules/Pagination/Pagination'\n\n// 用户体验反馈组件\nexport { Toast, ToastContainer, ToastProvider, useToast, ToastPresets } from './Toast'\nexport type { ToastData, ToastType, ToastPosition } from './Toast'\n\n// 移动端触控优化\nexport { TouchOptimized, withTouchOptimization, TouchOptimizedButton, TouchOptimizedCard } from './TouchOptimized'\n\n// 移动端性能优化\nexport { LazyImage } from './LazyImage'\nexport { PerformanceOptimizer } from './PerformanceOptimizer'\nexport { Loading } from './Loading'\nexport type { LoadingSize, LoadingVariant, LoadingColor } from './Loading'\n\n// 阅读体验优化组件\nexport { FontSizeController } from './FontSizeController'\n\n// 搜索体验增强组件\nexport { SmartSearch } from './SmartSearch'\nexport type { SearchSuggestion } from './SmartSearch'\n\n// 无障碍功能组件\nexport { AccessibilityProvider } from './Accessibility'\n\n// 离线功能组件\nexport { NetworkStatus, NetworkUtils } from './NetworkStatus' "],"names":[],"mappings":"AAAA,cAAc;;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gTAAsF,YAAY;AAClG,gUAAkG,YAAY;AAC9G;AACA;AACA;AACA;AACA;AACA;AAEA,OAAO;AACP;AAEA,WAAW;AACX;AAGA,UAAU;AACV;AAEA,UAAU;AACV;AACA;AACA;AAGA,WAAW;AACX;AAEA,WAAW;AACX;AAGA,UAAU;AACV;AAEA,SAAS;AACT","debugId":null}},
    {"offset": {"line": 6519, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/wwx/dev/WebProjects/aibianx/frontend/src/components/ui/Icon/index.ts"],"sourcesContent":["export { Icon } from './Icon' "],"names":[],"mappings":";AAAA","debugId":null}}]
}