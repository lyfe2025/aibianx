{
  "kind": "collectionType",
  "collectionName": "smtp_configs",
  "info": {
    "singularName": "smtp-config",
    "pluralName": "smtp-configs",
    "displayName": "SMTP配置管理",
    "description": "邮件服务器SMTP配置，用于系统邮件发送功能"
  },
  "options": {
    "draftAndPublish": false,
    "comment": "SMTP邮件服务器配置表，存储邮件发送所需的服务器信息"
  },
  "pluginOptions": {},
  "attributes": {
    "name": {
      "type": "string",
      "required": true,
      "unique": true,
      "maxLength": 100,
      "description": "配置名称：用于标识不同的SMTP配置，如'阿里云邮件'、'腾讯企业邮箱'等"
    },
    "provider": {
      "type": "enumeration",
      "enum": ["aliyun", "tencent", "netease", "gmail", "outlook", "sendgrid", "mailgun", "other"],
      "required": true,
      "description": "邮件服务提供商：aliyun(阿里云)、tencent(腾讯云)、netease(网易企业邮)、gmail(Gmail)、outlook(Outlook)、sendgrid(SendGrid)、mailgun(Mailgun)、other(其他)"
    },
    "host": {
      "type": "string",
      "required": true,
      "maxLength": 255,
      "description": "SMTP服务器地址：如smtp.gmail.com、smtp.qq.com等，必须是有效的主机名或IP"
    },
    "port": {
      "type": "integer",
      "required": true,
      "min": 1,
      "max": 65535,
      "default": 587,
      "description": "SMTP端口号：常用端口587(STARTTLS)、465(SSL)、25(普通)，建议使用587"
    },
    "secure": {
      "type": "boolean",
      "default": false,
      "description": "SSL安全连接：true表示使用SSL/TLS加密，false表示使用STARTTLS或无加密"
    },
    "username": {
      "type": "string",
      "required": true,
      "maxLength": 255,
      "description": "SMTP用户名：通常是完整的邮箱地址，用于SMTP服务器身份验证"
    },
    "password": {
      "type": "password",
      "required": true,
      "description": "SMTP密码：邮箱密码或授权码，建议使用授权码而非邮箱密码以提高安全性"
    },
    "fromEmail": {
      "type": "email",
      "required": true,
      "description": "发件人邮箱：所有邮件的发送者地址，必须是有效邮箱格式"
    },
    "fromName": {
      "type": "string",
      "maxLength": 100,
      "default": "AI变现之路",
      "description": "发件人名称：显示在邮件中的发送者名称，提升邮件专业度"
    },
    "replyTo": {
      "type": "email",
      "description": "回复邮箱：用户回复邮件时的目标地址，可以与发件人邮箱不同"
    },
    "isDefault": {
      "type": "boolean",
      "default": false,
      "description": "默认配置：是否作为系统默认SMTP配置，同时只能有一个默认配置"
    },
    "isActive": {
      "type": "boolean",
      "default": true,
      "description": "启用状态：是否启用此SMTP配置，禁用后不会用于邮件发送"
    },
    "dailyLimit": {
      "type": "integer",
      "min": 0,
      "description": "每日发送限制：每天最大发送邮件数量，0表示无限制，防止触发服务商限制"
    },
    "dailySent": {
      "type": "integer",
      "default": 0,
      "min": 0,
      "description": "今日已发送：当天已发送的邮件数量，系统自动统计和重置"
    },
    "healthStatus": {
      "type": "enumeration",
      "enum": ["healthy", "warning", "error", "unknown"],
      "default": "unknown",
      "description": "健康状态：healthy(健康)、warning(警告)、error(错误)、unknown(未知)"
    },
    "lastHealthCheck": {
      "type": "datetime",
      "description": "最后检查时间：最近一次健康检查的时间，用于监控配置状态"
    },
    "lastUsed": {
      "type": "datetime",
      "description": "最后使用时间：最近一次使用此配置发送邮件的时间"
    },
    "errorCount": {
      "type": "integer",
      "default": 0,
      "min": 0,
      "description": "错误次数：发送失败的累计次数，用于评估配置可靠性"
    },
    "successCount": {
      "type": "integer",
      "default": 0,
      "min": 0,
      "description": "成功次数：发送成功的累计次数，用于统计配置使用情况"
    },
    "lastError": {
      "type": "text",
      "description": "最后错误：最近一次发送失败的错误信息，便于问题排查"
    },
    "notes": {
      "type": "text",
      "description": "备注说明：配置的额外说明信息，如使用场景、注意事项等"
    },
    "priority": {
      "type": "integer",
      "default": 100,
      "min": 1,
      "max": 999,
      "description": "优先级：数值越小优先级越高，用于多配置时的选择策略"
    }
  }
}
