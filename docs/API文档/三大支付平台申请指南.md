# 三大支付平台申请指南

> **目标**: 完整指导如何申请支付宝、微信支付、Stripe三大支付平台接入
> **适用**: AI变现之路项目及其他需要支付接入的项目
> **预计完成时间**: 支付宝(1-3天) + 微信支付(3-7天) + Stripe(即时-3天)

---

## 🎯 **申请顺序建议**

**推荐申请顺序**: 支付宝 → Stripe → 微信支付

**原因**:
- 支付宝：申请最快，用户覆盖率高，适合国内用户
- Stripe：注册即时，适合海外用户，可先开发测试
- 微信支付：申请周期较长，但用户体验好，最后申请

---

## 📱 **支付宝申请指南**

### 📋 **申请前准备**
- **个人**: 身份证、银行卡、手机号
- **企业**: 营业执照、法人身份证、对公账户、企业邮箱

### 🚀 **申请流程**

#### **Step 1: 注册开放平台账号**
1. 访问：https://open.alipay.com/
2. 点击"立即注册" → 选择"企业账号"或"个人开发者"
3. 使用手机号+验证码注册
4. 登录支付宝账号进行授权绑定

#### **Step 2: 实名认证**
**个人开发者**:
- 上传身份证正反面照片
- 人脸识别验证
- 银行卡验证

**企业开发者**:
- 上传营业执照
- 填写企业信息（名称、地址、法人等）
- 法人身份证认证
- 对公账户验证（小额打款）

⏱️ **认证时间**: 个人1-2小时，企业1-3工作日

#### **Step 3: 创建应用**
1. 进入控制台 → 应用管理 → 创建应用
2. 选择应用类型：
   - ✅ **网页&移动应用** (推荐)
   - **小程序应用** (可选)
3. 填写应用信息：
   ```
   应用名称: AI变现之路
   应用简介: AI知识变现和学习平台，提供AI相关课程和咨询服务
   应用类型: 教育培训
   应用LOGO: [上传项目LOGO]
   应用网址: https://yourdomain.com
   ```
4. 提交审核

⏱️ **审核时间**: 1-3工作日

#### **Step 4: 添加功能权限**
应用审核通过后，添加功能：
1. **手机网站支付** (必需) - 用于H5支付
2. **电脑网站支付** (可选) - 用于PC支付  
3. **当面付** (可选) - 用于扫码支付

每个功能需要单独申请，填写：
- 网站信息
- 业务场景描述
- 支付场景说明

⏱️ **功能审核**: 1-2工作日/功能

#### **Step 5: 配置密钥**
1. **下载密钥生成工具**:
   - 地址: https://opendocs.alipay.com/common/02kipl
   - 选择RSA2(SHA256)密钥

2. **生成密钥对**:
   ```bash
   # 使用支付宝提供的工具
   # 生成2048位RSA密钥对
   ```

3. **配置密钥**:
   - 上传**应用公钥**到支付宝平台
   - 下载**支付宝公钥**
   - 保存**应用私钥**（重要！）

#### **Step 6: 配置回调地址**
```
授权回调地址: https://yourdomain.com/api/payments/alipay/return
应用网关: https://yourdomain.com/api/payments/alipay/callback
```

### 🧪 **沙箱测试**
- **沙箱环境**: https://openhome.alipay.com/develop/sandbox/account
- **测试账号**: 
  - 买家账号: jvojfm4615@sandbox.com
  - 登录密码: 111111
  - 支付密码: 111111

### ✅ **申请完成获得**
```json
{
  "appId": "2021001234567890",
  "privateKey": "-----BEGIN PRIVATE KEY-----\n...",
  "alipayPublicKey": "-----BEGIN PUBLIC KEY-----\n...",
  "gateway": "https://openapi.alipay.com/gateway.do"
}
```

---

## 💬 **微信支付申请指南**

### 📋 **申请前准备**
- **小微商户**: 身份证、银行卡、手机号、门店照片
- **企业商户**: 营业执照、法人身份证、对公账户、业务场景材料

### 🚀 **申请流程**

#### **Step 1: 选择接入类型**
访问：https://pay.weixin.qq.com/

**推荐选择: 小微商户**
- 个人即可申请
- 审核较快
- 功能基本满足需求

**企业商户**:
- 需要营业执照
- 功能更全面
- 适合大型项目

#### **Step 2: 提交资料**
**小微商户所需资料**:
```
基本信息:
- 商户简称: AI变现之路
- 客服电话: 你的客服电话
- 经营类目: 教育培训-技能培训

身份信息:
- 身份证正反面照片
- 手持身份证照片

结算信息:
- 银行卡正反面照片
- 开户银行信息

经营信息:
- 门店照片(可以是办公场所)
- 门店内部照片
- 经营场景描述
```

**企业商户所需资料**:
```
企业信息:
- 营业执照
- 组织机构代码证
- 开户许可证

法人信息:
- 法人身份证
- 法人银行卡

经营信息:
- 网站ICP备案
- 业务流程说明
- 服务协议
```

⏱️ **审核时间**: 小微商户1-3天，企业商户1-7天

#### **Step 3: 签约开通**
审核通过后，微信支付会发送邮件：
1. 查收邮件，点击激活链接
2. 设置登录密码
3. 进入商户平台完成签约

#### **Step 4: 开通产品功能**
在商户平台 → 产品中心开通：
1. **H5支付** - 手机浏览器支付(必需)
2. **JSAPI支付** - 微信内支付(推荐)
3. **Native支付** - 扫码支付(可选)

每个产品需要配置：
- 支付授权目录
- 回调URL
- 域名信息

#### **Step 5: 配置支付参数**
**H5支付配置**:
```
支付授权目录: https://yourdomain.com/payment/
```

**JSAPI支付配置**:
```
支付授权目录: https://yourdomain.com/payment/
公众号AppID: 需要先注册微信公众号
```

#### **Step 6: 获取API密钥**
1. **API密钥设置**:
   - 账户中心 → API安全 → 设置API密钥
   - 生成32位随机字符串作为APIv2密钥

2. **API证书下载** (APIv3):
   - 下载商户API证书包
   - 包含：apiclient_cert.pem, apiclient_key.pem

#### **Step 7: 微信公众号配置** (JSAPI支付需要)
1. **注册公众号**: https://mp.weixin.qq.com/
2. **关联商户号**: 在微信支付商户平台关联
3. **获取AppID**: 公众号设置中查看

### ✅ **申请完成获得**
```json
{
  "appId": "wx1234567890abcdef",
  "mchId": "1234567890", 
  "apiKey": "32位API密钥",
  "privateKey": "-----BEGIN PRIVATE KEY-----\n...",
  "certificate": "-----BEGIN CERTIFICATE-----\n..."
}
```

---

## 💳 **Stripe申请指南**

### 📋 **申请前准备**
- 有效邮箱地址
- 身份证明文件
- 银行账户信息
- 业务网站或应用信息

### 🚀 **申请流程**

#### **Step 1: 注册账户**
1. 访问：https://stripe.com/
2. 点击"Start now" → 输入邮箱和密码
3. 验证邮箱地址

⏱️ **注册时间**: 即时完成

#### **Step 2: 完善账户信息**
**个人账户**:
```
基本信息:
- 全名(护照/身份证姓名)
- 出生日期
- 地址信息

身份验证:
- 上传身份证或护照
- 地址证明文件
```

**企业账户**:
```
企业信息:
- 公司名称
- 注册地址
- 企业类型
- 税务识别号

法人信息:
- 法人姓名
- 法人身份证明
- 股权结构信息
```

#### **Step 3: 银行账户配置**
```
银行信息:
- 银行名称
- 账户号码
- 路由号码(美国) / IBAN(欧洲) / 其他
- 账户持有人姓名
```

**支持的收款地区**:
- 美国、加拿大
- 欧盟国家
- 英国、澳大利亚
- 日本、新加坡
- 香港等

#### **Step 4: 业务信息完善**
```
业务描述:
- 业务类型: 在线教育/咨询服务
- 产品/服务描述: AI相关培训和咨询
- 网站URL: https://yourdomain.com
- 客户支持联系方式

风控信息:
- 预计月交易量
- 平均订单金额
- 退款政策
- 服务条款链接
```

#### **Step 5: 激活账户**
完成上述信息后，Stripe会进行审核：
- **快速审核**: 几分钟到几小时
- **标准审核**: 1-3工作日
- **额外审核**: 可能需要更多文件

⏱️ **激活时间**: 通常即时到2个工作日

### 🧪 **测试模式**
Stripe提供完整的测试环境：
```
测试卡号:
- 成功: 4242 4242 4242 4242
- 需要验证: 4000 0025 0000 3155
- 失败: 4000 0000 0000 0002
过期时间: 任意未来日期
CVC: 任意3位数字
```

### ✅ **申请完成获得**
```json
{
  "publishableKey": "pk_live_xxx...",
  "secretKey": "sk_live_xxx...",
  "webhookSecret": "whsec_xxx..."
}
```

---

## 📊 **申请进度对比**

| 支付方式 | 申请时间 | 认证难度 | 费率 | 适用场景 |
|---------|---------|---------|------|---------|
| **支付宝** | 1-3天 | ⭐⭐⭐ | 0.6% | 国内用户首选 |
| **微信支付** | 3-7天 | ⭐⭐⭐⭐ | 0.6% | 国内社交场景 |
| **Stripe** | 即时-3天 | ⭐⭐ | 2.9%+¥2.35 | 海外用户首选 |

---

## ⚠️ **常见问题**

### Q1: 个人可以申请哪些支付方式？
**A**: 
- ✅ 支付宝：个人开发者可申请
- ✅ 微信支付：小微商户(个人)可申请  
- ✅ Stripe：个人账户可申请

### Q2: 没有企业可以申请吗？
**A**: 可以！三个平台都支持个人申请，但：
- 支付宝个人开发者功能受限
- 微信小微商户满足大部分需求
- Stripe个人账户功能完整

### Q3: 申请被拒怎么办？
**A**: 
1. 仔细阅读拒绝原因
2. 完善缺失的材料或信息
3. 调整业务描述使其更合规
4. 重新提交申请

### Q4: 可以同时申请多个平台吗？
**A**: 可以！建议同时申请，这样：
- 缩短整体等待时间
- 提供多种支付选择
- 降低单一依赖风险

### Q5: 测试环境如何切换到生产环境？
**A**: 
- **支付宝**: 更换网关地址和密钥
- **微信支付**: 使用生产环境商户号和密钥
- **Stripe**: 切换API密钥即可

---

## 🎯 **下一步操作**

1. **选择申请方式**: 根据用户群体选择1-3个平台
2. **准备申请材料**: 按照指南准备相关文件
3. **提交申请**: 按推荐顺序逐一申请
4. **等待审核**: 利用等待时间完善技术对接
5. **配置测试**: 先配置沙箱环境进行开发测试

**申请成功后，请参考**: [三大支付平台后台配置指南](./三大支付平台后台配置指南.md)

---

**预祝申请顺利！** 🎉

如有问题，可参考各平台官方文档：
- 支付宝：https://opendocs.alipay.com/
- 微信支付：https://pay.weixin.qq.com/wiki/
- Stripe：https://stripe.com/docs