# BillionMailå®Œå…¨ç§»é™¤å®ŒæˆæŠ¥å‘Š

## ğŸ¯ ä»»åŠ¡æ¦‚è¿°

æŒ‰ç…§ç”¨æˆ·è¦æ±‚ï¼Œå®Œå…¨ç§»é™¤äº†é¡¹ç›®ä¸­çš„BillionMailé‚®ä»¶ç³»ç»ŸæœåŠ¡ï¼Œä¸ºåç»­è‡ªå»ºé‚®ä»¶ç³»ç»Ÿåšå‡†å¤‡ã€‚

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. ğŸ—‚ï¸ ç›®å½•å’Œæ–‡ä»¶æ¸…ç†
- **åˆ é™¤æ ¹ç›®å½•BillionMail**ï¼šå®Œå…¨ç§»é™¤ `./BillionMail/` ç›®å½•åŠæ‰€æœ‰ç›¸å…³æ–‡ä»¶
- **åˆ é™¤è„šæœ¬ç›®å½•**ï¼šç§»é™¤ `./scripts/billionmail/` ç›®å½•åŠæ‰€æœ‰é‚®ä»¶ç›¸å…³è„šæœ¬
- **åˆ é™¤å‰ç«¯é›†æˆæ–‡ä»¶**ï¼š
  - `/frontend/src/lib/billionmail.ts` - BillionMailå‰ç«¯é›†æˆå·¥å…·
  - `/frontend/src/lib/hooks/useEmailSubscription.ts` - é‚®ä»¶è®¢é˜…Hook
  - `/frontend/src/lib/verificationManager.ts` - éªŒè¯ç ç®¡ç†å™¨
  - `/frontend/src/app/test-email/page.tsx` - BillionMailæµ‹è¯•é¡µé¢
- **åˆ é™¤åç«¯é›†æˆæ–‡ä»¶**ï¼š
  - `/backend/src/lib/billionmail-config.ts` - BillionMailé…ç½®æ–‡ä»¶
  - `/backend/src/services/billionmail-integration.ts` - BillionMailé›†æˆæœåŠ¡
- **æ¸…ç†ç¼–è¯‘ç¼“å­˜**ï¼šç§»é™¤å‰ç«¯ `.next` ç›®å½•ä¸­åŒ…å«BillionMailä»£ç çš„ç¼–è¯‘æ–‡ä»¶

### 2. ğŸ”§ é…ç½®æ–‡ä»¶ä¿®å¤
- **deployment/configure-unified-env.sh**ï¼šæ³¨é‡Šæ‰€æœ‰BillionMailç¯å¢ƒå˜é‡é…ç½®
- **deployment/config/deploy.conf**ï¼šæ ‡è®°BillionMailé…ç½®ä¸ºå·²ç§»é™¤
- **deployment/nginx-unified.conf**ï¼šæ³¨é‡ŠBillionMailä»£ç†é…ç½®
- **deployment/docker-compose.unified.yml**ï¼šæ›´æ–°é‚®ä»¶ç³»ç»Ÿæ³¨é‡Š

### 3. ğŸ“ è„šæœ¬ç³»ç»Ÿä¿®å¤
- **ä¸»è„šæœ¬ scripts.sh**ï¼š
  - æ›´æ–°é‚®ä»¶ç³»ç»Ÿç®¡ç†èœå•æç¤º
  - æ³¨é‡ŠBillionMailç«¯å£è¯»å–é€»è¾‘
  - ä¿®å¤é‚®ä»¶ç®¡ç†ç•Œé¢è·³è½¬åŠŸèƒ½
- **ç”Ÿäº§éƒ¨ç½²è„šæœ¬**ï¼š
  - `scripts/production/auto-deploy.sh` - æ³¨é‡ŠBillionMailå¯åŠ¨é€»è¾‘
  - `scripts/production/local-production-deploy.sh` - ç§»é™¤BillionMailé…ç½®ç”Ÿæˆ
  - `scripts/production/maintain-production.sh` - æ³¨é‡ŠBillionMailå¤‡ä»½è¿˜åŸ
- **å·¥å…·è„šæœ¬**ï¼š
  - `scripts/tools/status.sh` - æ›´æ–°è®¿é—®åœ°å€æ˜¾ç¤º
  - `scripts/tools/show-all-services.sh` - ä¿®å¤æœåŠ¡çŠ¶æ€æ£€æŸ¥
  - `scripts/tools/quick-logs.sh` - æ›´æ–°æ—¥å¿—æŸ¥çœ‹åŠŸèƒ½
- **å¤‡ä»½è„šæœ¬**ï¼š
  - `scripts/backup/backup-databases.sh` - ç§»é™¤BillionMailæ•°æ®åº“å¤‡ä»½
  - `scripts/backup/restore-databases.sh` - ç§»é™¤BillionMailæ•°æ®åº“è¿˜åŸ
  - `scripts/database/verify-integrated-backup.sh` - æ›´æ–°å¤‡ä»½éªŒè¯é€»è¾‘

### 4. ğŸ–¥ï¸ å‰ç«¯ä»£ç ä¿®å¤
- **æ³¨å†ŒAPI** (`/frontend/src/app/api/auth/register/route.ts`)ï¼š
  - æ³¨é‡ŠBillionMailé‚®ä»¶è®¢é˜…ä»£ç 
  - ä¿ç•™åŸºç¡€é‚®ä»¶å‘é€åŠŸèƒ½ï¼ˆä½¿ç”¨NextAuthé‚®ä»¶æœåŠ¡ï¼‰
- **è®¤è¯API** (`/frontend/src/app/api/auth/[...nextauth]/`)ï¼š
  - æ›´æ–°OAuthç™»å½•æµç¨‹ä¸­çš„é‚®ä»¶è®¢é˜…é€»è¾‘
  - ä¿®æ”¹æ³¨é‡Šè¯´æ˜BillionMailå·²ç§»é™¤
- **ç¯å¢ƒé…ç½®** (`/frontend/env.local.example`)ï¼š
  - æ³¨é‡ŠBillionMailç›¸å…³ç¯å¢ƒå˜é‡

### 5. ğŸ§¹ æ¸…ç†å·¥ä½œ
- ç§»é™¤äº†å¤§é‡åŒ…å«"billionmail"æˆ–"BillionMail"çš„ä»£ç å¼•ç”¨
- ç»Ÿä¸€å°†æœ‰æ•ˆå¼•ç”¨æ”¹ä¸º"BillionMailå·²ç§»é™¤"çš„æ³¨é‡Šè¯´æ˜
- ä¿æŒäº†ç³»ç»ŸåŠŸèƒ½çš„å®Œæ•´æ€§ï¼Œç¡®ä¿ç°æœ‰åŠŸèƒ½ä¸å—å½±å“

## ğŸ” éªŒè¯ç»“æœ

### ç³»ç»ŸçŠ¶æ€æ£€æŸ¥é€šè¿‡
è¿è¡Œ `./scripts.sh tools status` æ˜¾ç¤ºï¼š
- âœ… ç³»ç»Ÿæ ¸å¿ƒåŠŸèƒ½æ­£å¸¸ï¼ˆåç«¯APIã€å‰ç«¯é¡µé¢ã€æœç´¢APIã€æ•°æ®åº“è¿æ¥ï¼‰
- âœ… é‚®ä»¶ç³»ç»ŸçŠ¶æ€æ­£ç¡®æ˜¾ç¤ºä¸º"BillionMailå·²ç§»é™¤"
- âœ… è®¿é—®åœ°å€æ­£ç¡®æ›´æ–°ï¼Œé‚®ä»¶ç›¸å…³åœ°å€æ˜¾ç¤ºä¸ºå·²ç§»é™¤çŠ¶æ€

### å¼•ç”¨æ¸…ç†çŠ¶æ€
- ğŸ¯ **ä¸»è¦å·¥ä½œå®Œæˆ**ï¼šæ ¸å¿ƒç³»ç»Ÿæ–‡ä»¶ã€è„šæœ¬ã€é…ç½®çš„BillionMailå¼•ç”¨å·²å…¨éƒ¨æ¸…ç†
- ğŸ“‹ **å‰©ä½™å¼•ç”¨ç±»å‹**ï¼šä¸»è¦ä¸ºæ–‡æ¡£æ–‡ä»¶ä¸­çš„å†å²è®°å½•ï¼Œä¸å½±å“ç³»ç»Ÿè¿è¡Œ
- âš¡ **ç³»ç»ŸåŠŸèƒ½**ï¼šæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ä¿æŒæ­£å¸¸ï¼Œä¸ºåç»­è‡ªå»ºé‚®ä»¶ç³»ç»Ÿé¢„ç•™äº†æ¥å£

## ğŸ“‹ åç»­å»ºè®®

### 1. è‡ªå»ºé‚®ä»¶ç³»ç»Ÿå¼€å‘
- å¯ä»¥é‡æ–°åˆ©ç”¨ç°æœ‰çš„é‚®ä»¶è®¢é˜…æ•°æ®ç»“æ„ï¼ˆemail-subscriptionå†…å®¹ç±»å‹ï¼‰
- å‰ç«¯é‚®ä»¶è®¢é˜…ç»„ä»¶ä¿æŒå¯ç”¨ï¼Œåªéœ€è¦è¿æ¥æ–°çš„é‚®ä»¶æœåŠ¡API
- å»ºè®®ä½¿ç”¨æˆç†Ÿçš„é‚®ä»¶æœåŠ¡æä¾›å•†ï¼ˆå¦‚SendGridã€é˜¿é‡Œäº‘é‚®ä»¶æœåŠ¡ï¼‰

### 2. é…ç½®æ–‡ä»¶æ›´æ–°
- åœ¨éƒ¨ç½²é…ç½®ä¸­æ·»åŠ æ–°çš„é‚®ä»¶æœåŠ¡é…ç½®é¡¹
- æ›´æ–°ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶ï¼ŒåŒ…å«æ–°é‚®ä»¶æœåŠ¡çš„é…ç½®

### 3. æ–‡æ¡£æ¸…ç†ï¼ˆå¯é€‰ï¼‰
- å¦‚éœ€å½»åº•æ¸…ç†ï¼Œå¯ä»¥æ•´ç†docsç›®å½•ä¸­çš„å†å²æ–‡æ¡£
- å»ºè®®ä¿ç•™éƒ¨åˆ†æ–‡æ¡£ä½œä¸ºæŠ€æœ¯å†³ç­–çš„å†å²è®°å½•

## ğŸ‰ ç»“è®º

BillionMailé‚®ä»¶ç³»ç»Ÿå·²æˆåŠŸä»é¡¹ç›®ä¸­å®Œå…¨ç§»é™¤ï¼Œç³»ç»Ÿæ ¸å¿ƒåŠŸèƒ½ä¿æŒç¨³å®šã€‚ç°åœ¨å¯ä»¥æ ¹æ®éœ€æ±‚å¼€å‘è‡ªå»ºçš„é‚®ä»¶æœåŠ¡ç³»ç»Ÿï¼Œé¡¹ç›®ä¸ºæ­¤é¢„ç•™äº†è‰¯å¥½çš„æ¶æ„åŸºç¡€ã€‚

**ç§»é™¤æ—¶é—´**: $(date '+%Y-%m-%d %H:%M:%S')  
**å½±å“èŒƒå›´**: é‚®ä»¶å‘é€å’Œè®¢é˜…åŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨ï¼Œéœ€è¦æ¥å…¥æ–°çš„é‚®ä»¶æœåŠ¡  
**ç³»ç»ŸçŠ¶æ€**: æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸ï¼Œå¯ç»§ç»­å¼€å‘å’Œéƒ¨ç½²