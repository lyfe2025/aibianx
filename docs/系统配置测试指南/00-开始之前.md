# 00 - 开始之前

> **系统配置测试前的准备工作**

---

## 🎯 测试目标

完成AI变现之路系统的完整配置和测试，包括：
- ✅ 邮件系统（BillionMail）
- ✅ 搜索引擎（MeiliSearch）  
- ✅ 支付系统（支付宝/微信/PayPal）
- ✅ 用户认证（邮箱/OAuth）
- ✅ 系统集成测试

---

## 🔧 系统要求

### 环境检查

```bash
# 检查Docker环境
docker --version
docker-compose --version

# 检查Node.js环境
node --version
npm --version

# 检查数据库
psql --version
```

### 端口要求

确保以下端口可用：
- `80`: 前端应用
- `1337`: 后端API
- `5432`: PostgreSQL数据库
- `7700`: MeiliSearch搜索引擎
- `8080`: BillionMail邮件系统

---

## ⚙️ 基础服务启动

### 启动核心服务

```bash
# 启动数据库
docker-compose up -d postgres

# 启动后端
cd backend && npm run develop

# 启动前端（新终端）
cd frontend && npm run dev
```

### 验证基础服务

```bash
# 检查服务状态
curl http://localhost              # 前端
curl http://localhost:1337/api     # 后端API
curl http://localhost:1337/admin   # 后台管理

# 检查数据库连接
./scripts/database/check-database.sh
```

---

## 📋 配置文件准备

### 后端环境配置

检查 `backend/.env` 是否存在：
```bash
ls -la backend/.env
```

如果不存在，从示例复制：
```bash
cp backend/.env.example backend/.env
```

### 前端环境配置

检查 `frontend/.env.local` 是否存在：
```bash
ls -la frontend/.env.local
```

如果不存在，创建基础配置：
```bash
echo "NEXTAUTH_URL=http://localhost" > frontend/.env.local
```

---

## 🎯 访问地址确认

### 系统访问地址

- **前端应用**：http://localhost
- **后端API**：http://localhost:1337
- **管理后台**：http://localhost:1337/admin
- **API文档**：http://localhost:1337/documentation

### 服务管理脚本

```bash
# 系统状态检查
./scripts.sh tools status

# 服务管理菜单
./scripts.sh
```

---

## 🚀 开始配置

### 配置顺序

**严格按照以下顺序进行配置测试：**

1. **[01-BillionMail邮件系统配置](01-BillionMail邮件系统配置.md)**
2. **[02-MeiliSearch搜索引擎配置](02-MeiliSearch搜索引擎配置.md)**
3. **[03-支付系统配置](03-支付系统配置.md)**
4. **[04-用户认证系统测试](04-用户认证系统测试.md)**
5. **[05-完整系统集成测试](05-完整系统集成测试.md)**

### 准备工作检查清单

- [ ] Docker服务运行正常
- [ ] Node.js和npm环境正常
- [ ] 所需端口未被占用
- [ ] 基础服务启动成功
- [ ] 环境配置文件存在
- [ ] 系统访问地址正常

---

## 📞 遇到问题

### 常见问题处理

1. **端口被占用**：
   ```bash
   lsof -i :80,1337,5432
   sudo kill -9 PID
   ```

2. **Docker服务异常**：
   ```bash
   docker system prune -f
   docker-compose down && docker-compose up -d
   ```

3. **Node.js依赖问题**：
   ```bash
   cd backend && npm install
   cd frontend && npm install
   ```

### 获取帮助

```bash
# 系统诊断
./scripts.sh tools status

# 查看日志
docker logs strapi-backend
docker logs postgres-db
```

---

**准备工作完成后，开始第一步：[01-BillionMail邮件系统配置](01-BillionMail邮件系统配置.md)**