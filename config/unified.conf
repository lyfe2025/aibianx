# ===================================
# AI变现之路 - 统一配置文件
# ===================================
# 🎯 这是项目的主配置文件，所有服务配置都从这里生成
# 📝 修改此文件后运行: ./scripts/tools/generate-configs.sh
#

# 📋 部署模式配置
# =====================================
# 支持的模式: local | container | production
# - local: 本地开发模式 (直接运行服务)
# - container: 容器开发模式 (Docker容器但开发配置)  
# - production: 生产部署模式 (Docker容器生产配置)
DEPLOY_MODE=container

# 🌐 域名和网络配置
# =====================================
# 主域名 (生产环境使用)
PRIMARY_DOMAIN=yourdomain.com
# 邮件域名 (生产环境使用)
MAIL_DOMAIN=mail.yourdomain.com

# 开发环境域名 (本地和容器开发使用)
DEV_DOMAIN=localhost
DEV_PROTOCOL=http

# 生产环境协议
PROD_PROTOCOL=https

# 🔌 服务端口配置  
# =====================================
# 前端服务
FRONTEND_PORT=80
FRONTEND_DEV_PORT=3000

# 后端服务
BACKEND_PORT=1337

# 搜索引擎服务
SEARCH_PORT=7700

# 邮件系统服务
BILLIONMAIL_PORT=8080

# 数据库服务
DATABASE_PORT=5432

# 🗄️ 数据库配置
# =====================================
# 数据库类型
DATABASE_CLIENT=postgres

# 开发环境数据库
DEV_DB_HOST=localhost
DEV_DB_NAME=aibianx_dev
DEV_DB_USER=aibianx_dev
DEV_DB_PASSWORD=aibianx_dev_password_2024

# 生产环境数据库 (容器内)
PROD_DB_HOST=postgres
PROD_DB_NAME=aibianx_prod
PROD_DB_USER=aibianx_prod
PROD_DB_PASSWORD=aibianx_prod_secure_password_2024

# 🔍 搜索引擎配置
# =====================================
# MeiliSearch环境模式
# development: 开发模式 (Web界面 + 无密钥)
# production: 生产模式 (无Web界面 + 强制密钥)
SEARCH_ENV_MODE=development

# 生产环境搜索API密钥 (生产模式必需)
SEARCH_MASTER_KEY=

# 🔐 安全配置
# =====================================
# JWT和认证密钥 (生产环境请修改)
APP_KEYS=app_key_1,app_key_2,app_key_3,app_key_4
API_TOKEN_SALT=api_token_salt_here
ADMIN_JWT_SECRET=admin_jwt_secret_here
TRANSFER_TOKEN_SALT=transfer_token_salt_here
JWT_SECRET=jwt_secret_here

# NextAuth配置
NEXTAUTH_SECRET=nextauth_secret_key_2024

# 📧 邮件服务配置
# =====================================
# SMTP配置
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@yourdomain.com
SMTP_FROM_NAME=AI变现之路

# 🔧 开发配置
# =====================================
# 自动索引同步
AUTO_SYNC_SEARCH=true

# 开发模式特性
DEV_FEATURES_ENABLED=true
DEV_API_LOGGING=true
DEV_CORS_ORIGIN=*

# 🚀 生产配置
# =====================================
# 生产模式特性
PROD_FEATURES_ENABLED=false
PROD_API_LOGGING=false
PROD_CORS_ORIGIN=https://yourdomain.com

# SSL/TLS配置
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs
SSL_KEY_PATH=/etc/ssl/private

# 📊 监控和日志
# =====================================
# 日志级别: debug | info | warn | error
LOG_LEVEL=info
LOG_FORMAT=json

# 性能监控
ENABLE_METRICS=true
METRICS_PORT=9090

# 🔄 缓存配置
# =====================================
# Redis配置 (可选)
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# 文件上传配置
UPLOAD_SIZE_LIMIT=10MB
UPLOAD_ALLOWED_TYPES=jpg,jpeg,png,gif,pdf,doc,docx